import{R}from"./vue-router-46224dd8.js";import{m as O}from"./modalMixin-f99c1c1a.js";import{c as V,r as f,d as A,o as j,s as E,b as y,a as Y}from"./db-143b9a4b.js";import{m as P,a as D}from"./index-b1b801c5.js";import{c as L}from"./carts-5862f2ca.js";import{_ as U,o,a7 as a,a8 as t,aa as k,ab as r,ad as c,c as S,a9 as p,af as d,N as x,ae as w,F as B,r as C}from"./_plugin-vue_export-helper-d28549df.js";import{n as K}from"./numberCommaMixin-e0aac39c.js";import{L as N}from"./index-fde5e204.js";import{w as T}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as F}from"./loadingLogo-ea15f612.js";import{_ as I,a as z}from"./fruit3-355a36ca.js";import{_ as M}from"./image4-1806383b.js";import{_ as X}from"./icon-cart-796adfb7.js";import"./_commonjsHelpers-042e6b4d.js";import"./base-component-5a126788.js";const H={data(){return{bookMark:{},deleteId:""}},mixins:[O],props:["id","item","pageStatus","openDeleteModal"],methods:{...P(L,["toastMessage"]),deleteBookmark(){let n="recipeBookmarks";this.pageStatus==="product"&&(n="productBookmarks"),V(f(A,`${n}/${this.uid}/${this.deleteId}`)),this.toastMessage("刪除收藏"),this.hide()}},watch:{id(){this.id&&(this.show(),this.bookMark=this.item,this.deleteId=this.id,this.openDeleteModal("",""))}},computed:{...D(L,["uid"])},mounted(){}},q={class:"modal fade",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Q={class:"modal-dialog modal-dialog-centered"},J={class:"modal-content"},G=t("div",{class:"modal-header bg-dark"},[t("h5",{class:"modal-title text-white",id:"exampleModalLabel"}," 刪除收藏 "),t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Z={class:"modal-body"},W={key:0},$={key:1},ee={class:"text-danger fw-bold"},te={class:"modal-footer"},se=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉",-1);function oe(n,l,g,m,s,b){return o(),a("div",q,[t("div",Q,[t("div",J,[G,t("div",Z,[t("p",null,[k("確定要刪除"),this.pageStatus==="recipe"?(o(),a("span",W,"食譜")):this.pageStatus==="product"?(o(),a("span",$,"產品")):r("",!0),k("收藏 "),t("span",ee," 【"+c(this.bookMark.title)+"】 ",1),k(" 嗎? ")])]),t("div",te,[se,t("button",{type:"button",class:"btn btn-danger",onClick:l[0]||(l[0]=()=>b.deleteBookmark())},"確認刪除")])])])],512)}const ae=U(H,[["render",oe]]),ie="data:image/png;base64,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",le="data:image/png;base64,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",ne="/finalEasyBuyEasyMake/assets/undraw_Appreciation_r2a1-776b7d68.png";const re={components:{RouterLink:R,Loading:N,DeleteBookmarksModal:ae},mixins:[K],data(){return{uid:"",bookMarks:[],pageStatus:"recipe",deleteId:"",deleteItem:{},AllproductRates:[],averageRate:[],rates:{},recipeThumbs:[],thumbs:{},isLoading:!1,fullPage:!0}},methods:{...P(L,["addCart","toastMessage"]),getBookmarks(n){this.isLoading=!0,j(Y,l=>{if(l){this.uid=l.uid;const g=f(A,"users/"+l.uid);y(g,m=>{this.user=m.val();const s=f(A,`${n}/${this.uid}`);y(s,b=>{if(this.bookMarks=b.val(),!this.bookMarks){this.isLoading=!1;return}if(this.bookMarks=Object.values(this.bookMarks),this.pageStatus==="recipe"){const v=f(A,"recipeThumbs");y(v,u=>{const h=u.val();Object.keys(h).forEach(e=>{this.thumbs[e]=Object.values(h[e]).length}),this.bookMarks.forEach((e,i)=>{Object.keys(this.thumbs).forEach(_=>{e.id===_&&(this.bookMarks[i].thumbs=this.thumbs[e.id])})}),this.bookMarks.forEach((e,i)=>{e.thumbs||(this.bookMarks[i].thumbs=0)})})}else if(this.pageStatus==="product"){const v=f(A,"productRates/");y(v,u=>{let h=u.val();h=Object.values(h).map(e=>Object.values(e)),h=h.flat(),this.bookMarks.forEach((e,i)=>{h.forEach(_=>{e.id===_.productId&&!this.bookMarks[i].scores?(this.bookMarks[i].scores=_.score,this.bookMarks[i].ratePeople=1,this.bookMarks[i].averageRate=Number((this.bookMarks[i].scores/this.bookMarks[i].ratePeople).toFixed(1))):e.id===_.productId&&this.bookMarks[i].scores&&(this.bookMarks[i].scores+=_.score,this.bookMarks[i].ratePeople+=1,this.bookMarks[i].averageRate=Number((this.bookMarks[i].scores/this.bookMarks[i].ratePeople).toFixed(1)))})}),this.bookMarks.forEach((e,i)=>{e.averageRate||(this.bookMarks[i].scores=0,this.bookMarks[i].ratePeople=0,this.bookMarks[i].averageRate=0)})})}this.isLoading=!1})})}else this.uid=null,this.user={},this.uid||(this.toastMessage("登入才可使用收藏功能","error"),this.$router.push("/login"))})},addBookmark(n,l){this.uid||this.toastMessage("登入才可使用收藏功能","error");const g=f(A,`${n}/${this.uid}/${l.id}`);E(g,l),this.toastMessage("收藏成功")},openDeleteModal(n,l){this.deleteId=n,this.deleteItem=l},getRecipeThumbs(){const n=f(A,"recipeThumbs");y(n,l=>{const g=l.val();Object.keys(g).forEach(m=>{this.thumbs[m]=Object.values(g[m]).length}),this.recipes.forEach((m,s)=>{Object.keys(this.thumbs).forEach(b=>{m.id===b&&(this.recipes[s].thumbs=this.thumbs[m.id])})}),this.recipes.forEach((m,s)=>{m.thumbs||(this.recipes[s].thumbs=0)})})}},mounted(){this.getBookmarks("recipeBookmarks")},watch:{pageStatus(){this.pageStatus==="product"?this.getBookmarks("productBookmarks"):this.pageStatus==="recipe"&&this.getBookmarks("recipeBookmarks")}}},ce={class:"",style:{"overflow-x":"hidden"}},de=t("div",{class:"d-flex flex-column align-items-center py-10"},[t("img",{src:F,class:"loadingLogo mb-3",style:{width:"150px"},alt:""}),t("h1",{class:"text-center fw-bold text-blue"},[t("span",{class:"me-1 animate-text"},"L"),t("span",{class:"mx-1 animate-text"},"o"),t("span",{class:"mx-1 animate-text"},"a"),t("span",{class:"mx-1 animate-text"},"d"),t("span",{class:"mx-1 animate-text"},"i"),t("span",{class:"mx-1 animate-text"},"n"),t("span",{class:"mx-1 animate-text"},"g"),t("span",{class:"mx-2 animate-text"},"."),t("span",{class:"me-2 animate-text"},"."),t("span",{class:"animate-text"},".")])],-1),me=t("section",{class:"bannerBg",style:{"background-image":"url('https://images.unsplash.com/photo-1678465952996-e4b010264a01?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1169&q=80')"}},[t("div",{class:"mask"},[t("div",{class:"text",style:{background:"linear-gradient(to bottom, white 50% , #4572c2 50%)","-webkit-background-clip":"text"}}," 我的收藏 ")])],-1),ue={class:"container mt-4"},he={class:"position-relative categorySelector row row-cols-2 gy-2 list-unstyled border-bottom"},be={key:0,class:"bookmarkImg1",src:ie,alt:""},ke={key:1,src:le,alt:""},ge=t("span",{class:"titleSize"},"食譜收藏",-1),pe={key:0,class:"bookmarkImg2",src:I,alt:""},fe={key:1,src:z,alt:""},Ae=t("span",{class:"titleSize"},"材料收藏",-1),_e={class:"container py-4"},ve={key:0,class:"row row-cols-lg-4 row-cols-2 gy-4"},ye={class:"card position-relative bg-transparent",style:{"border-radius":"0",border:"1px solid transparent"}},Be={class:"cardImg",style:{}},xe=["src"],we={class:"card-text mb-0"},Me=t("p",{class:"detail d-none d-lg-block position-absolute fw-bold",style:{top:"35%",left:"50%",transform:"translateX(-50%)","letter-spacing":"5px"}},"查看詳細食譜",-1),Se=["onClick"],Ce=t("img",{src:M},null,-1),Le=[Ce],Te=["onClick"],Pe=t("img",{src:M},null,-1),Ue=[Pe],Re={style:{"pointer-events":"none"},class:"cardTextCategory badge rounded-pill bg-blue mt-4 border-0 m-3 position-absolute start-0"},Oe={class:"d-flex justify-content-between align-items-center fw-bold"},Ve={class:"cardTextTitle"},je={class:"cardTextPrice d-flex align-items-lg-center align-items-end"},Ee={class:""},Ye={class:"starRates mb-0 ms-auto"},De={class:"me-1"},Ke=t("i",{class:"bi bi-hand-thumbs-up-fill"},null,-1),Ne={key:1,class:"row row-cols-lg-4 row-cols-2 gy-4"},Fe={class:"card position-relative bg-transparent",style:{"border-radius":"0",border:"1px solid transparent"}},Ie={class:"cardImg",style:{}},ze=["src"],Xe={class:"card-text mb-0"},He=t("p",{class:"detail d-none d-lg-block position-absolute fw-bold",style:{top:"35%",left:"50%",transform:"translateX(-50%)","letter-spacing":"5px"}},"查看商品資訊",-1),qe=["onClick"],Qe=t("img",{src:M},null,-1),Je=[Qe],Ge={key:0,style:{"pointer-events":"none"},class:"d-flex flex-column align-items-center text-white p-2 bg-blue position-absolute top-0 start-0"},Ze=["onClick"],We=t("img",{src:M},null,-1),$e=[We],et=["disabled","onClick"],tt=t("img",{src:X,alt:"",class:"rounded-circle shadow-sm"},null,-1),st=[tt],ot={class:"fw-bold cardTextTitle"},at={class:""},it={class:"mt-1 d-block d-lg-inline-block"},lt={class:"mb-0 ms-auto starRates"},nt={class:"me-1"},rt=t("i",{class:"bi bi-star-fill"},null,-1),ct={key:2,class:"py-5 d-flex flex-column align-items-center"},dt=t("img",{src:ne,class:"",alt:"",style:{height:"250px"}},null,-1),mt={key:0},ut={key:1};function ht(n,l,g,m,s,b){const v=C("loading"),u=C("RouterLink"),h=C("DeleteBookmarksModal");return o(),a("div",ce,[s.uid?(o(),S(v,{key:0,active:s.isLoading,"onUpdate:active":l[0]||(l[0]=e=>s.isLoading=e),"can-cancel":!1,"is-full-page":s.fullPage,"lock-scroll":!0},{default:p(()=>[de]),_:1},8,["active","is-full-page"])):r("",!0),me,t("section",ue,[t("ul",he,[t("li",{class:d(["col d-flex align-items-center justify-content-center",{liDisabled:s.pageStatus==="recipe"}])},[t("a",{href:"#",onClick:l[1]||(l[1]=T(()=>s.pageStatus="recipe",["prevent"])),class:d(["text-decoration-none d-flex flex-column align-items-center link-secondary",{"fw-bold":s.pageStatus==="recipe","link-blue":s.pageStatus==="recipe"}])},[s.pageStatus!=="recipe"?(o(),a("img",be)):s.pageStatus==="recipe"?(o(),a("img",ke)):r("",!0),ge],2)],2),t("li",{class:d(["col d-flex align-items-center justify-content-center",{liDisabled:s.pageStatus==="product"}])},[t("a",{href:"#",onClick:l[2]||(l[2]=T(()=>s.pageStatus="product",["prevent"])),class:d(["text-decoration-none d-flex flex-column align-items-center link-secondary",{"fw-bold":s.pageStatus==="product","link-blue":s.pageStatus==="product"}])},[s.pageStatus!=="product"?(o(),a("img",pe)):s.pageStatus==="product"?(o(),a("img",fe)):r("",!0),Ae],2)],2),t("li",{class:d(["redLine bg-blue position-absolute",{activeDiscount:s.pageStatus==="recipe",activeGift:s.pageStatus==="product"}]),style:{height:"2px",bottom:"0px",left:"5.5%"}},null,2)])]),t("div",_e,[s.pageStatus==="recipe"&&s.bookMarks&&!s.isLoading?(o(),a("div",ve,[(o(!0),a(x,null,w(s.bookMarks,e=>(o(),a("div",{class:"col text-decoration-none",key:e.id},[t("div",ye,[t("div",Be,[B(u,{to:`/recipes/${e.id}`,class:"enlargeImg"},{default:p(()=>[t("img",{src:e.image,class:"card-img",style:{"border-radius":"0","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,xe)]),_:2},1032,["to"])]),t("h5",we,[t("div",null,[Me,t("button",{type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent end-0 top-0 m-lg-3 m-2",onClick:()=>b.openDeleteModal(e.id,e)},Le,8,Se)]),(o(!0),a(x,null,w(s.bookMarks,i=>(o(),a("div",{key:i+4567},[i===e.id?(o(),a("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent end-0 top-0 m-lg-3 m-2",onClick:()=>n.deleteBookmark(e.id)},Ue,8,Te)):r("",!0)]))),128)),t("span",Re,c(e.category),1)]),B(u,{to:`/recipes/${e.id}`,class:"pt-lg-3 card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:p(()=>[t("h5",Oe,[t("span",Ve,c(e.title),1)]),t("div",je,[t("div",Ee,[e.total?(o(),a("del",{key:0,class:d(["me-2 text-muted d-block d-lg-inline-block",{"d-none":e.price===e.total}])},"NT$ "+c(n.numberComma(e.total)),3)):r("",!0),t("span",null,[e.price?(o(),a("span",{key:0,class:d({"text-danger":e.price!==e.total,"fw-bold":e.price!==e.total})},"NT$ "+c(n.numberComma(e.price)),3)):r("",!0),k(" / "+c(e.content),1)])]),t("h5",Ye,[t("p",{class:d(["mb-0 badge rounded-pill border d-flex align-items-center",{"border-blue":e.thumbs!==0,"border-lightBrownGray":e.thumbs===0,"text-blue":e.thumbs!==0,"text-lightBrownGray":e.thumbs===0}])},[t("span",De,c(e.thumbs),1),Ke],2)])])]),_:2},1032,["to"])])]))),128))])):s.pageStatus==="product"&&s.bookMarks&&!s.isLoading?(o(),a("div",Ne,[(o(!0),a(x,null,w(s.bookMarks,e=>(o(),a("div",{class:"col text-decoration-none",key:e.id},[t("div",Fe,[t("div",Ie,[B(u,{to:`/products/${e.id}`,class:"enlargeImg border-0"},{default:p(()=>[t("img",{src:e.imgUrl,class:"card-img",height:"220",style:{"border-radius":"0","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,ze)]),_:2},1032,["to"])]),t("h5",Xe,[t("div",null,[He,t("button",{type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent end-0 top-0 m-lg-3 m-2",onClick:()=>b.openDeleteModal(e.id,e)},Je,8,qe)]),e.isCheaper?(o(),a("span",Ge,c((100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0))%10===0?(100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0)).toString().charAt(0):100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0))+" 折 ",1)):r("",!0),(o(!0),a(x,null,w(s.bookMarks,i=>(o(),a("div",{key:i},[i===e.id?(o(),a("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent end-0 top-0 m-lg-3 m-2",onClick:()=>n.deleteBookmark(e.id)},$e,8,Ze)):r("",!0)]))),128)),t("button",{disabled:s.isLoading==="loading",onClick:()=>n.addCart(e),type:"button",class:"buyBtn border-0 bg-transparent me-lg-2 me-1 position-absolute end-0"},st,8,et)]),B(u,{to:`/products/${e.id}`,class:"pt-lg-3 card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:p(()=>[t("h5",ot,c(e.title),1),t("div",{class:d(["d-flex align-items-lg-center cardTextPrice",{"align-items-end":e.isCheaper,"align-items-center":!e.isCheaper}])},[t("div",at,[e.originalPrice?(o(),a("del",{key:0,class:d(["me-2 text-muted mt-1",{"d-none":!e.isCheaper}])},"NT$ "+c(n.numberComma(e.originalPrice)),3)):r("",!0),t("span",it,[e.price?(o(),a("span",{key:0,class:d({"text-danger":e.isCheaper,"fw-bold":e.isCheaper})}," NT$ "+c(n.numberComma(e.price)),3)):r("",!0),k(" / "+c(e.num)+c(e.unit),1)])]),t("h5",lt,[t("div",{class:d(["badge border rounded-pill bg-white",{"text-yellow":e.averageRate,"border-yellow":e.averageRate,"text-lightBrownGray":!e.averageRate,"border-lightBrownGray":!e.averageRate}])},[t("span",nt,c(e.averageRate),1),rt],2)])],2)]),_:2},1032,["to"])])]))),128))])):r("",!0),!s.isLoading&&!s.bookMarks?(o(),a("div",ct,[dt,t("h2",null,[k("您尚無任何"),s.pageStatus==="recipe"?(o(),a("span",mt,"食譜")):s.pageStatus==="product"?(o(),a("span",ut,"材料")):r("",!0),k("收藏")]),s.pageStatus==="recipe"?(o(),S(u,{key:0,to:"/recipes",class:"link-blue h5"},{default:p(()=>[k("前往瀏覽食譜")]),_:1})):s.pageStatus==="product"?(o(),S(u,{key:1,to:"/products",class:"link-blue h5"},{default:p(()=>[k("前往瀏覽食譜材料")]),_:1})):r("",!0)])):r("",!0)]),B(h,{id:s.deleteId,item:s.deleteItem,"page-status":s.pageStatus,"open-delete-modal":b.openDeleteModal},null,8,["id","item","page-status","open-delete-modal"])])}const Lt=U(re,[["render",ht]]);export{Lt as default};
