import{m as L,e as S,R as G,b as j}from"./index-a9d6be75.js";import{o as H,c as w,r as v,d as k,b as x,a as U,s as A}from"./carts-810a7b65.js";import{C as B}from"./collapse-9299200c.js";import{m as q}from"./modalMixin-600ebd7c.js";import{n as E}from"./numberCommaMixin-e0aac39c.js";import{v as C,w as R,d as D,b as y}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as O}from"./loadingLogo-ea15f612.js";import{_ as P,o as l,a7 as n,a8 as e,aa as g,ab as u,N as I,ae as T,F as m,a9 as p,ad as r,af as N,ac as b,r as $,ag as V,c as K}from"./_plugin-vue_export-helper-d28549df.js";import"./base-component-7efcaba4.js";const z="/finalEasyBuyEasyMake/assets/undraw_shopping_app_flsj-3a31e3be.png";const F={data(){return{code:"",uid:"",user:{}}},mixins:[q,E],methods:{...L(w,["updateCartNum","changeCartNum","handleKeyDown","deleteCart","deleteAllCarts","getCoupons","checkCoupon","reUseCoupon","getCart","toastMessage"]),cancelCoupon(){this.code="",this.reUseCoupon()},clearAllCarts(){this.code="",this.deleteAllCarts(),this.toastMessage("已清空遊客購物車")},getCartData(){H(U,t=>{if(t){this.uid=t.uid,this.getCart(this.uid);const s=v(k,"users/"+t.uid);x(s,f=>{this.user=f.val()})}else this.uid=null,this.user={},this.getCart("1")})}},mounted(){this.getCoupons(),this.getCartData()},watch:{"$route.fullPath"(t){t==="/checkout"?(this.code="",this.hide()):t.includes("/products")&&this.hide()}},computed:{...S(w,["cart","cartItems","cartNum","loadingItem"])}},Y={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},W={class:"modal-dialog modal-fullscreen-md-down w-100"},J={class:"modal-content"},Q=e("div",{class:"modal-header bg-primary-purple rounded-0 d-flex"},[e("h5",{class:"modal-title text-white ms-auto letter-spacing-5"},"購物車"),e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),X={class:"modal-body"},Z={key:0,class:"h-100"},ee={key:0,class:"d-flex flex-column h-100"},te={class:"text-end mb-3"},se=["disabled"],oe={key:0,class:"spinner-border spinner-border-sm",role:"status"},le=e("span",{class:"visually-hidden"},"Loading...",-1),ae=[le],ne={class:"list-unstyled"},ie={class:"card"},re={class:"row g-0"},de=["src","alt"],ce={class:"col-8"},ue={class:"card-body py-2"},he={class:"d-flex"},me={class:"card-title fs-6"},pe=["onClick"],be={class:"card-text text-end"},ge=e("br",null,null,-1),_e={class:"mb-0 text-danger text-end fw-bold"},fe={class:"d-flex justify-content-end align-items-center mt-2"},ye=["disabled","onClick"],ve={key:0},ke={key:1,class:"spinner-border spinner-border-sm",role:"status"},we=e("span",{class:"visually-hidden"},"Loading...",-1),Ce=[we],xe=["onUpdate:modelValue","onChange"],$e=["disabled","onClick"],Ne={key:0},Me={key:1,class:"spinner-border spinner-border-sm",role:"status"},Ie=e("span",{class:"visually-hidden"},"Loading...",-1),Te=[Ie],Re=e("hr",null,null,-1),De=e("label",{for:"code",class:"col-3 form-label mt-auto"},"優惠碼",-1),Le={key:0,class:"input-group mb-3"},Se={key:1,class:"input-group mb-3"},Oe=["value"],Pe={class:"table table-borderless"},Ve=e("th",{class:"fw-normal"},"商品總金額",-1),Ae={class:"text-end fw-normal"},Be={key:0},He={class:"text-end"},Ue={key:0},qe={class:"text-end"},Ee={class:"border-top"},Ge=e("td",{class:"fw-bold text-danger"},"總計金額",-1),je={class:"text-end fw-bold text-danger"},Ke={key:0},ze={key:1},Fe={key:1,class:"h-100 d-flex"},Ye={class:"m-auto text-center"},We=e("img",{src:z,class:"mb-3 img-md-200-sm-150",alt:"空的購物車圖示"},null,-1),Je=e("p",{class:"fs-5"},"您的購物車是空的",-1),Qe={key:1,class:"h-100 d-flex"},Xe=V('<p class="m-auto fs-3"><img src="'+O+'" class="loading-logo me-3" style="width:60px;" alt="logo"><span class="animate-text me-1">結</span><span class="animate-text me-1">帳</span><span class="animate-text me-1">中</span><span class="animate-text me-1">.</span><span class="animate-text me-1">.</span><span class="animate-text">.</span></p>',1),Ze=[Xe];function et(t,s,f,M,a,c){const i=$("RouterLink");return l(),n("div",Y,[e("div",W,[e("div",J,[Q,e("div",X,[this.$route.fullPath!=="/checkout"?(l(),n("div",Z,[t.cartItems.length!==0?(l(),n("div",ee,[e("div",te,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=(...o)=>c.clearAllCarts&&c.clearAllCarts(...o)),disabled:t.loadingItem==="loading"},[g(" 清空購物車 "),t.loadingItem==="loading"?(l(),n("div",oe,ae)):u("",!0)],8,se)]),e("ul",ne,[(l(!0),n(I,null,T(t.cartItems,(o,h)=>(l(),n("li",{key:h+756345},[e("div",ie,[e("div",re,[m(i,{to:`/products/${o.product.id}`,class:"col-4"},{default:p(()=>[e("img",{src:o.product.imgUrl,class:"w-100 object-fit-cover",alt:o.product.title,style:{height:"130px !important"}},null,8,de)]),_:2},1032,["to"]),e("div",ce,[e("div",ue,[e("div",he,[e("h5",me,[m(i,{to:`/products/${o.product.id}`,class:"link-darkBrown"},{default:p(()=>[g(r(o.product.title),1)]),_:2},1032,["to"])]),e("button",{onClick:()=>t.deleteCart(o.product),type:"button",class:"p-0 ms-auto btn-close","aria-label":"Close"},null,8,pe)]),e("div",be,[e("del",{class:N(["me-2 text-muted fs-14",{"d-none":!o.product.isCheaper}])},"NT$ "+r(t.numberComma(o.product.originalPrice)),3),e("span",{class:N({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+r(t.numberComma(o.product.price)),3),e("span",null," / "+r(o.product.num)+r(o.product.unit),1),ge,e("p",_e,"小計：NT$ "+r(t.numberComma(o.product.price*o.qty))+" / "+r()+r(o.product.category!=="組合包"?t.numberComma(o.product.num*o.qty)+o.product.unit:t.numberComma(o.qty)+"組"),1)]),e("div",fe,[e("button",{disabled:t.loadingItem==="loading",class:N(["btn btn-sm btn-outline-gradient rounded-circle",{disabled:o.qty===1}]),style:{width:"30px",height:"30px"},type:"button",onClick:()=>t.updateCartNum("reduce",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),n("span",ve,"-")):t.loadingItem==="loading"?(l(),n("div",ke,Ce)):u("",!0)],10,ye),b(e("input",{type:"number",class:"form-control border-0 text-center mx-2","onUpdate:modelValue":_=>o.qty=_,onChange:_=>t.changeCartNum(o.product,o.qty,_),style:{width:"70px"},onKeydown:s[1]||(s[1]=(..._)=>t.handleKeyDown&&t.handleKeyDown(..._))},null,40,xe),[[C,o.qty,void 0,{number:!0}]]),e("button",{disabled:t.loadingItem==="loading",class:"btn btn-sm btn-outline-gradient rounded-circle",style:{width:"30px",height:"30px"},type:"button",onClick:()=>t.updateCartNum("add",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),n("span",Ne,"+")):t.loadingItem==="loading"?(l(),n("div",Me,Te)):u("",!0)],8,$e)])])])])]),Re]))),128))]),De,t.cart.total+t.cart.deliveryCharge===t.cart.finalTotal?(l(),n("div",Le,[b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>a.code=o)},null,512),[[C,a.code]]),e("button",{class:"btn btn-outline-primary fw-normal",type:"button",onClick:s[3]||(s[3]=()=>t.checkCoupon(a.code))},"套用優惠碼")])):t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal?(l(),n("div",Se,[t.cart.coupon?(l(),n("input",{key:0,type:"text",class:"form-control",value:t.cart.coupon.code,disabled:""},null,8,Oe)):u("",!0),e("button",{class:"btn btn-outline-gray",type:"button",onClick:s[4]||(s[4]=(...o)=>c.cancelCoupon&&c.cancelCoupon(...o))},"取消")])):u("",!0),e("table",Pe,[e("thead",null,[e("tr",null,[Ve,e("th",Ae,"NT$ "+r(t.numberComma(t.cart.total)),1)])]),e("tbody",null,[e("tr",null,[e("td",null,[g("運費"),t.cart.total>=1e3?(l(),n("span",Be,"（滿千元免運）")):u("",!0)]),e("td",He," NT$ "+r(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(l(),n("tr",Ue,[e("td",null,"優惠券折扣 - "+r(t.cart.coupon.title),1),e("td",qe,"- NT$ "+r(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):u("",!0),e("tr",Ee,[Ge,e("td",je,[t.cart.total<1e3?(l(),n("span",Ke,"NT$ "+r(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(l(),n("span",ze,"NT$ "+r(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):u("",!0)])])])]),m(i,{to:"/checkout",type:"button",class:"hvr-sweep-to-right btn btn-primary w-100"},{default:p(()=>[g("前往結帳")]),_:1})])):t.cartNum===0?(l(),n("div",Fe,[e("div",Ye,[We,Je,m(i,{class:"link-primary h5",to:"/products"},{default:p(()=>[g("前往選購商品")]),_:1})])])):u("",!0)])):this.$route.fullPath==="/checkout"?(l(),n("div",Qe,Ze)):u("",!0)])])])],512)}const tt=P(F,[["render",et]]),st={data(){return{uid:"",user:{},message:"",chats:[],newChatNum:0,oneChats:[],openId:""}},mixins:[q,E],methods:{...L(w,["updateCartNum","toastMessage"]),getMessages(){H(U,t=>{if(t){this.uid=t.uid;const s=v(k,"users/"+t.uid);x(s,f=>{if(this.user=f.val(),this.user.admin){const a=v(k,"chats/");x(a,c=>{this.chats=c.val();let i=0;if(!this.chats){this.newChatNum=0;return}Object.values(this.chats).forEach(o=>{if(o.nickName!=="甜點食譜一鍵購客服"){let _=[...o].reverse().findIndex(d=>d.nickName==="甜點食譜一鍵購客服");_===-1&&(_=o.length),o.newChatNum=_,i+=_}else o.nickName==="甜點食譜一鍵購客服"&&(o.newChatNum=0)}),this.newChatNum=i});return}const M=v(k,`chats/${this.uid}/`);x(M,a=>{if(this.chats=a.val(),!this.chats){this.newChatNum=0;return}if(this.chats[this.chats.length-1].nickName==="甜點食譜一鍵購客服"){const i=[...this.chats].reverse().findIndex(o=>o.nickName!=="甜點食譜一鍵購客服");this.newChatNum=i}else this.chats[this.chats.length-1].nickName!=="甜點食譜一鍵購客服"&&(this.newChatNum=0)})})}else this.uid=null,this.user={}})},sendMessage(){if(!this.message)return;let t=0;this.chats&&(t=this.chats.length);const s=v(k,`chats/${this.uid}/${t}`);A(s,{nickName:this.user.nickName,message:this.message,headshotImg:this.user.headshotImg,time:new Date().getTime()}),this.message=""},sendCustomerMessage(t){if(!this.message)return;const s=this.oneChats.length,f=v(k,`chats/${t}/${s}`);A(f,{nickName:"甜點食譜一鍵購客服",message:this.message,headshotImg:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",time:new Date().getTime()}),this.message=""},getInfo(t){this.openId=t;const s=v(k,`chats/${t}/`);x(s,f=>{this.oneChats=f.val()})}},mounted(){this.getMessages()},computed:{...S(w,["loadingItem"])}},ot={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},lt={class:"modal-dialog modal-fullscreen-md-down w-100"},at={class:"modal-content scroll-y min-height-100"},nt={class:"modal-header bg-primary rounded-0"},it={key:0,class:"modal-title text-white"},rt=e("img",{src:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",style:{height:"40px",width:"40px"},class:"rounded-circle me-1",alt:"客服大頭貼"},null,-1),dt=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ct={class:"modal-body d-flex flex-column bg-secondary"},ut={key:0},ht={key:0,class:"d-flex mb-3"},mt=["src"],pt={style:{"max-width":"90%"}},bt={class:"mb-1"},gt={class:"speech-bubble speech-bubble-left bg-white px-3 py-1 d-inline-block rounded-4 mb-0 text-newline"},_t={class:"ms-1 text-muted fs-14"},ft={key:1,class:"d-flex flex-column"},yt={class:"mb-2 ms-auto d-flex flex-column align-items-end",style:{"max-width":"90%"}},vt={class:"mb-0 speech-bubble speech-bubble-right bg-primary text-white px-3 py-1 d-inline-block rounded-4 text-newline"},kt={class:"text-muted me-1 fs-14"},wt={key:1},Ct={href:"#",class:"text-decoration-none link-primary d-block border-bottom border-primary py-2 d-flex align-items-center"},xt=["onClick"],$t={key:0,class:"ms-2 badge bg-primary"},Nt=e("i",{class:"bi bi-x"},null,-1),Mt=[Nt],It={key:0,class:"pt-3"},Tt={key:0,class:"d-flex mb-3"},Rt=["src"],Dt={style:{"max-width":"90%"}},Lt={class:"mb-1"},St={class:"speech-bubble speech-bubble-left bg-white px-3 py-1 d-inline-block rounded-4 mb-0 text-newline"},Ot={class:"ms-1 text-muted fs-14"},Pt={key:1,class:"d-flex flex-column"},Vt={class:"mb-0 ms-auto speech-bubble speech-bubble-right bg-primary text-white px-3 py-1 d-inline-block rounded-4 text-newline",style:{"max-width":"90%"}},At={class:"ms-auto me-1 text-muted fs-14"},Bt={class:"input-group mt-5 mb-3"},Ht=["onKeyup"],Ut=["onClick"],qt=e("i",{class:"bi bi-send-fill"},null,-1),Et=[qt],Gt={key:2,class:"input-group mt-auto"},jt=e("i",{class:"bi bi-send-fill"},null,-1),Kt=[jt];function zt(t,s,f,M,a,c){return l(),n("div",ot,[e("div",lt,[e("div",at,[e("div",nt,[a.uid?(l(),n("h5",it,[rt,g(" 甜點食譜一鍵購客服 ")])):u("",!0),dt]),e("div",ct,[a.user.admin?a.user.admin?(l(),n("div",wt,[(l(!0),n(I,null,T(a.chats,(i,o)=>(l(),n("div",{key:o},[e("a",Ct,[e("p",{class:"mb-0 w-100",onClick:R(h=>c.getInfo(o),["prevent"])},[g(r(o)+" ",1),i.newChatNum?(l(),n("span",$t,r(i.newChatNum),1)):u("",!0)],8,xt),e("button",{class:"btn btn-primary ms-auto",type:"button",onClick:s[0]||(s[0]=R(h=>a.openId="",["prevent"]))},Mt)]),a.openId===o?(l(),n("div",It,[(l(!0),n(I,null,T(i,h=>(l(),n("div",{key:h,class:""},[h.nickName!=="甜點食譜一鍵購客服"?(l(),n("div",Tt,[e("img",{src:h.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:"顧客大頭貼"},null,8,Rt),e("div",Dt,[e("p",Lt,r(h.nickName),1),e("p",St,r(h.message),1),e("p",Ot,r(new Date(h.time).toLocaleDateString())+" "+r(new Date(h.time).getHours())+":"+r(new Date(h.time).getMinutes()),1)])])):h.nickName==="甜點食譜一鍵購客服"?(l(),n("div",Pt,[e("p",Vt,r(h.message),1),e("p",At,r(new Date(h.time).toLocaleDateString())+" "+r(new Date(h.time).getHours())+":"+r(new Date(h.time).getMinutes()),1)])):u("",!0)]))),128)),e("div",Bt,[b(e("input",{type:"text",onKeyup:D(h=>c.sendCustomerMessage(o),["enter"]),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[1]||(s[1]=h=>a.message=h)},null,40,Ht),[[C,a.message]]),e("button",{onClick:h=>c.sendCustomerMessage(o),class:"btn btn-outline-primary",type:"button"},Et,8,Ut)])])):u("",!0)]))),128))])):u("",!0):(l(),n("div",ut,[(l(!0),n(I,null,T(a.chats,i=>(l(),n("div",{key:i,class:""},[i.nickName==="甜點食譜一鍵購客服"?(l(),n("div",ht,[e("img",{src:i.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:"客服大頭貼"},null,8,mt),e("div",pt,[e("p",bt,r(i.nickName),1),e("p",gt,r(i.message),1),e("p",_t,r(new Date(i.time).toLocaleDateString())+" "+r(new Date(i.time).getHours())+":"+r(new Date(i.time).getMinutes()),1)])])):i.nickName!=="甜點食譜一鍵購客服"?(l(),n("div",ft,[e("div",yt,[e("p",vt,r(i.message),1),e("p",kt,r(new Date(i.time).toLocaleDateString())+" "+r(new Date(i.time).getHours())+"："+r(new Date(i.time).getMinutes()),1)])])):u("",!0)]))),128))])),a.user.admin?u("",!0):(l(),n("div",Gt,[b(e("input",{type:"text",onKeyup:s[2]||(s[2]=D((...i)=>c.sendMessage&&c.sendMessage(...i),["enter"])),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[3]||(s[3]=i=>a.message=i)},null,544),[[C,a.message]]),e("button",{onClick:s[4]||(s[4]=(...i)=>c.sendMessage&&c.sendMessage(...i)),class:"btn btn-outline-primary",type:"button"},Kt)]))])])])],512)}const Ft=P(st,[["render",zt]]),Yt={data(){return{menuToggle:!1,searchToggle:!1,menuCollapse:{},searchCollapse:{},recipeSearchName:"",selectItem:"全部",highOrLow:"不拘",priceOrRate:"成本",productSearchName:"",productHighOrLow:"低到高",productPriceOrRate:"價格",pageStatus:"全部",showScrollArrow:!1,searchItem:"食譜搜尋"}},components:{RouterLink:G,RouterView:j,CartModal:tt,ChatModal:Ft},methods:{...L(w,["checkLogin","logout","goToTop"]),reload(t){this.$route.fullPath===t&&location.reload()},searchRecipes(){this.$router.push({name:"RecipesView",query:{searchName:this.recipeSearchName,category:this.selectItem,valueHighOrLow:this.highOrLow,valuePriceOrRate:this.priceOrRate}}),this.searchToggle=!1,this.recipeSearchName="",this.highOrLow="不拘",this.priceOrRate="成本",this.selectItem="全部"},searchProducts(){this.$router.push({name:"products",query:{searchName:this.productSearchName,valueHighOrLow:this.productHighOrLow,valuePriceOrRate:this.productPriceOrRate,pageStatus:this.pageStatus}}),this.searchToggle=!1,this.productSearchName="",this.productHighOrLow="不拘",this.productPriceOrRate="價格",this.pageStatus="全部"},handleScroll(){this.showScrollArrow=window.scrollY>1e3}},mounted(){this.checkLogin(),window.addEventListener("scroll",this.handleScroll),this.menuCollapse=new B(this.$refs.menuCollapse,{toggle:!1}),this.searchCollapse=new B(this.$refs.searchCollapse,{toggle:!1})},computed:{...S(w,["user","uid","cartItems","cartNum"])},watch:{menuToggle(){this.menuToggle===!0?(this.menuCollapse.show(),this.searchCollapse.hide(),this.searchToggle=!1):this.menuToggle===!1&&this.menuCollapse.hide()},searchToggle(){this.searchToggle===!0?(this.searchCollapse.show(),this.menuCollapse.hide(),this.menuToggle=!1):this.searchToggle===!1&&this.searchCollapse.hide()},"$route.fullPath"(){this.menuToggle=!1,this.searchToggle=!1,this.$route.fullPath.match("products")?this.searchItem="產品搜尋":this.$route.fullPath.match("recipes")&&(this.searchItem="食譜搜尋")}}},Wt={class:"d-flex flex-column min-height-100"},Jt={class:"fixed-top"},Qt={class:"container"},Xt={class:"mb-0 me-auto"},Zt=e("img",{src:O,class:"logo me-1 mt-n1",alt:"logo"},null,-1),es=e("div",null,[e("p",{class:"text-darkBrown mb-0 fs-6"},"甜點食譜一鍵購"),e("p",{class:"fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5"},"Easy Buy Easy Make")],-1),ts={key:0,class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-10 alert-num"},ss=e("span",{class:"material-icons text-gradient fs-5"},"shopping_cart",-1),os={class:"text-gradient material-icons fs-5"},ls=e("span",{class:"material-icons-outlined fs-5 text-gradient"},"search",-1),as=[ls],ns=e("span",{class:"material-icons-outlined fs-5 text-gradient"}," menu ",-1),is=[ns],rs={id:"navbarNav",class:"collapse navbar-collapse",ref:"menuCollapse"},ds={class:"mainMenu navbar-nav mx-auto text-center mb-1 mb-lg-0"},cs={class:"nav-item me-lg-3"},us={class:"nav-item mx-lg-3"},hs={class:"nav-item mx-lg-3"},ms={class:"nav-item ms-lg-3"},ps={key:0,class:"navbar-nav me-lg-4 mt-2 pb-3 mt-lg-0 pb-lg-0"},bs={class:"nav-item text-center"},gs={key:1,class:"navbar-nav d-lg-flex align-items-lg-center me-lg-3 text-center"},_s={key:0,class:"nav-item me-lg-3"},fs={class:"me-4 d-flex align-items-center justify-content-center"},ys=["src"],vs={key:1,class:"bi bi-person-circle fs-1 text-primary"},ks={class:"fw-bold fs-6 ms-3"},ws={class:"nav-item"},Cs={class:"text-gradient material-icons fs-4"},xs={key:0,class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-12 alert-num"},$s=e("span",{class:"material-icons text-gradient fs-4"},"shopping_cart",-1),Ns={class:"bg-white collapse navbar-collapse pb-4",ref:"searchCollapse"},Ms={class:"container"},Is=e("option",{value:"食譜搜尋"},"食譜搜尋",-1),Ts=e("option",{value:"產品搜尋"},"產品搜尋",-1),Rs=[Is,Ts],Ds={key:0,class:"d-lg-none"},Ls=e("h5",{class:"text-center fw-bold"},"食譜搜尋",-1),Ss={class:"list-unstyled"},Os={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Ps=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),Vs=V('<option value="全部" selected>全部</option><option value="台式甜點">台式甜點</option><option value="法式甜點">法式甜點</option><option value="美式甜點">美式甜點</option><option value="日式甜點">日式甜點</option><option value="義式甜點">義式甜點</option>',6),As=[Vs],Bs={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Hs=e("label",{for:"category",class:"form-label fs-14"},"成本或評價",-1),Us=e("option",{value:"成本"},"成本",-1),qs=e("option",{value:"評價"},"評價",-1),Es=[Us,qs],Gs={class:"d-flex flex-column border-bottom border-lightBrownGray"},js=e("label",{for:"category",class:"form-label fs-14"},"由高到低或由低到高",-1),Ks=e("option",{value:"不拘"},"不拘",-1),zs=e("option",{value:"高到低"},"高到低",-1),Fs=e("option",{value:"低到高"},"低到高",-1),Ys=[Ks,zs,Fs],Ws={class:"pt-2 border-0 position-relative"},Js={class:"border rounded-pill border-primary"},Qs=e("span",{class:"material-icons-outlined text-primary"},"search",-1),Xs=[Qs],Zs={key:1,class:"d-lg-none"},eo=e("h5",{class:"text-center fw-bold"},"產品搜尋",-1),to={class:"list-unstyled"},so={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},oo=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),lo=e("option",{value:"全部"},"全部",-1),ao=e("option",{value:"食材組合包"},"食材組合包",-1),no=e("option",{value:"熱銷單品"},"熱銷單品",-1),io=e("option",{value:"特價商品"},"特價商品",-1),ro=[lo,ao,no,io],co={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},uo=e("label",{for:"productPriceOrRate",class:"form-label fs-14"},"價格或評價",-1),ho=e("option",{value:"價格"},"價格",-1),mo=e("option",{value:"評價"},"評價",-1),po=[ho,mo],bo={class:"d-flex flex-column border-bottom border-lightBrownGray"},go=e("label",{for:"productHighOrLow",class:"form-label fs-14"},"由高到低或由低到高",-1),_o=e("option",{value:"不拘"},"不拘",-1),fo=e("option",{value:"高到低"},"高到低",-1),yo=e("option",{value:"低到高"},"低到高",-1),vo=[_o,fo,yo],ko={class:"pt-2 border-0 position-relative"},wo={class:"border rounded-pill border-primary"},Co=e("span",{class:"material-icons-outlined text-primary"},"search",-1),xo=[Co],$o=e("i",{class:"bi bi-chevron-up fs-5 text-white"},null,-1),No=[$o],Mo={key:0,class:"position-absolute text-primary fw-bold border border-primary alert-num rounded-circle fs-12 top-0 start-100 translate-middle"},Io=e("i",{class:"bi bi-chat-dots fs-5 text-white"},null,-1),To=V('<footer class="mt-auto position-relative bg-light-purple-secondary"><div class="container d-flex flex-column flex-lg-row align-items-center py-3"><div class="d-flex justify-content-center align-items-center mb-2 mb-lg-0"><img src="'+O+'" class="logo me-1" alt="logo"><div><p class="text-darkBrown mb-0 fs-6">甜點食譜一鍵購</p><p class="fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5">Easy Buy Easy Make</p></div></div><div class="ms-lg-auto d-flex flex-column align-items-lg-end align-items-center"><ul class="list-unstyled d-flex justify-content-between w-25"><li class="hvr-bob"><a href="https://www.facebook.com/profile.php?id=61551688473004" class="text-decoration-none link-primary"><i class="bi bi-facebook fs-lg-35 fs-3"></i></a></li><li class="hvr-bob"><a href="mailto:@EasyMakeEasyBuy.gmail.com" class="text-decoration-none link-primary"><i class="bi bi-envelope fs-lg-35 fs-3"></i></a></li></ul><p class="mb-0 text-center text-lg-start fs-10">本網站僅作為網頁製作練習使用<br class="d-block d-lg-none"><span class="d-none d-lg-inline-block">，</span>圖片、資料源自網路，無任何商業利益行為</p><p class="mb-0 fs-10">Copyright © 2022 甜點食譜一鍵購 All Rights Reserved.</p></div></div></footer>',1);function Ro(t,s,f,M,a,c){const i=$("RouterLink"),o=$("RouterView"),h=$("CartModal"),_=$("ChatModal");return l(),n("div",Wt,[e("header",Jt,[e("nav",{class:N(["navbar navbar-expand-lg navbar-light backdrop-blur-10 bg-transGray-4",{"bg-white":a.searchToggle}])},[e("div",Qt,[e("h1",Xt,[m(i,{to:"/home",onClick:s[0]||(s[0]=d=>c.reload("/home")),class:"navbar-brand d-flex align-items-center"},{default:p(()=>[Zt,es]),_:1})]),e("button",{class:"btn position-relative border-0 d-lg-none pb-0 me-md-3",onClick:s[1]||(s[1]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),n("span",ts,r(t.cartNum),1)):u("",!0),ss]),m(i,{onClick:s[2]||(s[2]=d=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative pb-0 border-0 d-lg-none me-md-3"},{default:p(()=>[e("span",os,r(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[3]||(s[3]=()=>a.searchToggle=!a.searchToggle)},as),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[4]||(s[4]=()=>a.menuToggle=!a.menuToggle)},is),e("div",rs,[e("ul",ds,[e("li",cs,[m(i,{to:"/recipes",onClick:s[5]||(s[5]=d=>c.reload("/recipes")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:p(()=>[g("甜點食譜")]),_:1})]),e("li",us,[m(i,{to:"/products",onClick:s[6]||(s[6]=d=>c.reload("/products")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:p(()=>[g("材料購買")]),_:1})]),e("li",hs,[m(i,{to:"/discounts",onClick:s[7]||(s[7]=d=>c.reload("/discounts")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:p(()=>[g("優惠特報")]),_:1})]),e("li",ms,[m(i,{to:"/member",onClick:s[8]||(s[8]=d=>c.reload("/member")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:p(()=>[g("會員專區")]),_:1})])]),t.uid?t.uid?(l(),n("ul",gs,[t.user.admin?(l(),n("li",_s,[m(i,{to:"/admin/products",class:"nav-link"},{default:p(()=>[g("進入後台")]),_:1})])):u("",!0),e("li",fs,[t.user.headshotImg?(l(),n("img",{key:0,src:t.user.headshotImg,alt:"會員大頭貼",height:"50",width:"50",class:"rounded-circle object-fit-cover blur-shadow"},null,8,ys)):t.user.headshotImg?u("",!0):(l(),n("i",vs)),e("span",ks,r(t.user.nickName),1)]),e("li",ws,[e("a",{href:"#",class:"nav-link",onClick:s[10]||(s[10]=R((...d)=>t.logout&&t.logout(...d),["prevent"]))},"登出")])])):u("",!0):(l(),n("ul",ps,[e("li",bs,[m(i,{to:"/loginSignup",onClick:s[9]||(s[9]=d=>c.reload("/signup")),class:"login-signup btn-outline-gradient px-3 text-decoration-none rounded-pill fs-md-6 fs-14 py-2 fw-bold"},{default:p(()=>[g("登入 / 註冊")]),_:1})])])),m(i,{onClick:s[11]||(s[11]=d=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative border-0 pb-0 d-none d-lg-block"},{default:p(()=>[e("span",Cs,r(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"btn position-relative border-0 pb-0 d-none d-lg-block",onClick:s[12]||(s[12]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),n("span",xs,r(t.cartNum),1)):u("",!0),$s])],512)])],2),e("div",Ns,[e("div",Ms,[b(e("select",{name:"",id:"",class:"form-select d-lg-none text-center mb-4","onUpdate:modelValue":s[13]||(s[13]=d=>a.searchItem=d)},Rs,512),[[y,a.searchItem]]),a.searchItem==="食譜搜尋"?(l(),n("div",Ds,[Ls,e("ul",Ss,[e("li",Os,[Ps,b(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[14]||(s[14]=d=>a.selectItem=d)},As,512),[[y,a.selectItem]])]),e("li",Bs,[Hs,b(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[15]||(s[15]=d=>a.priceOrRate=d)},Es,512),[[y,a.priceOrRate]])]),e("li",Gs,[js,b(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[16]||(s[16]=d=>a.highOrLow=d)},Ys,512),[[y,a.highOrLow]])])]),e("div",Ws,[e("div",Js,[b(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入甜點名稱","onUpdate:modelValue":s[17]||(s[17]=d=>a.recipeSearchName=d),onKeyup:s[18]||(s[18]=D((...d)=>c.searchRecipes&&c.searchRecipes(...d),["enter"]))},null,544),[[C,a.recipeSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[19]||(s[19]=(...d)=>c.searchRecipes&&c.searchRecipes(...d))},Xs)])])])):u("",!0),a.searchItem==="產品搜尋"?(l(),n("div",Zs,[eo,e("ul",to,[e("li",so,[oo,b(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[20]||(s[20]=d=>a.pageStatus=d)},ro,512),[[y,a.pageStatus]])]),e("li",co,[uo,b(e("select",{name:"",id:"productPriceOrRate",class:"form-select border-0","onUpdate:modelValue":s[21]||(s[21]=d=>a.productPriceOrRate=d)},po,512),[[y,a.productPriceOrRate]])]),e("li",bo,[go,b(e("select",{name:"",id:"productHighOrLow",class:"form-select border-0","onUpdate:modelValue":s[22]||(s[22]=d=>a.productHighOrLow=d)},vo,512),[[y,a.productHighOrLow]])])]),e("div",ko,[e("div",wo,[b(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入產品名稱","onUpdate:modelValue":s[23]||(s[23]=d=>a.productSearchName=d),onKeyup:s[24]||(s[24]=D((...d)=>c.searchProducts&&c.searchProducts(...d),["enter"]))},null,544),[[C,a.productSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[25]||(s[25]=(...d)=>c.searchProducts&&c.searchProducts(...d))},xo)])])])):u("",!0)])],512)]),(l(),K(o,{key:t.$route.fullPath,class:"flex-grow-1"})),m(h,{ref:"cartModal"},null,512),m(_,{ref:"chatModal"},null,512),e("button",{type:"button",ref:"upArrow",class:N(["rounded-circle py-2 px-13 bg-primary hvr-float position-fixed border-0 bottom-0 end-0 m-3 z-index-1 transition-fade",{fade:!a.showScrollArrow,show:a.showScrollArrow}]),onClick:s[26]||(s[26]=R((...d)=>t.goToTop&&t.goToTop(...d),["prevent"]))},No,2),t.uid?(l(),n("button",{key:0,type:"button",class:"rounded-circle py-2 px-13 bg-primary hvr-float position-fixed border-0 bottom-0 end-0 mx-88 my-3 z-index-1",onClick:s[27]||(s[27]=()=>this.$refs.chatModal.show())},[this.$refs.chatModal&&this.$refs.chatModal.newChatNum!==0?(l(),n("span",Mo,r(this.$refs.chatModal.newChatNum),1)):u("",!0),Io])):u("",!0),To])}const Uo=P(Yt,[["render",Ro]]);export{Uo as default};
