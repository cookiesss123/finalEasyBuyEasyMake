import{R as x}from"./vue-router-2c21c692.js";import{f as w,e as v,r as y,d as k,o as V}from"./db-6192b564.js";import{_ as B,a as C,b as E,c as F,d as L,e as R,f as N,g as S,h as U}from"./4771632-dba56eab.js";import{_ as Y}from"./logo-5ad94f32.js";import{_ as I,U as M,V as s,W as o,X as p,a5 as g,Y as i,r as n,o as W,a4 as d}from"./_plugin-vue_export-helper-03b40388.js";const j={data(){return{user:{email:"",password:""},expired:""}},components:{RouterLink:x},methods:{async login(){const u=this.user.email,t=this.user.password;try{const a=(await w(v,u,t)).user;console.log(a,"登入結果"),this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500});const e=y(k,"users/"+a.uid);V(e,c=>{c.val().admin?(console.log("管理者登場"),this.$router.push("/admin/recipes")):this.$router.push("/home")})}catch(r){console.log(r.message);let a="密碼錯誤";r.message==="Firebase: Error (auth/user-not-found)."&&(a="查無此帳號"),this.$swal({icon:"error",title:a,showConfirmButton:!1,timer:1500})}}},mounted(){}},q={class:"mt-6 d-flex align-items-center bg-lightYellow"},z={class:"container my-7"},A={"aria-label":"breadcrumb"},P={class:"breadcrumb"},T={class:"breadcrumb-item fs-5"},X=s("li",{class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},"登入",-1),D={class:"row mt-3 gx-3 rounded py-3"},G=g('<div class="col d-none d-lg-block"><div class="card h-100 border-0 bg-lightYellow mt-9" style="border-radius:30px;"><img src="'+B+'" class="img-fluid card-img-top" alt="" style="border-radius:30px;"><div class="card-img-overlay" style="top:450px;"><h2 class="text-darkBrown text-center mb-4 h1"> 您在找的 <span class="text-brown"> 食譜材料 </span> 都在這裡 </h2></div></div></div>',1),H={class:"col"},J={class:"login-card card h-100 border",style:{"border-radius":"20px",padding:"0 !important"}},K={class:"card-body p-0"},O={class:"card-header bg-white py-0",style:{"border-radius":"20px 20px 0px 0px"}},Q={class:"row",style:{margin:"0 -18px"}},Z=s("h2",{class:"h5 col mb-0 text-center py-3 position-relative bg-brown text-decoration-none fw-bold text-white",style:{"padding-bottom":"10px","border-radius":"20px 0 0 0"}}," 登入 ",-1),$={class:"h5 col mb-0 text-center py-3 position-relative",style:{"padding-bottom":"10px","border-radius":"0 20px 0 0"}},ss=s("h1",{class:"text-brown text-center h3 mt-4"},[i(" 歡迎來到 "),s("div",{class:"d-flex mt-2"},[s("img",{src:Y,class:"mx-auto",alt:"",width:"280"})])],-1),es={class:"row gy-4 d-flex"},os={class:"col-12 fs-5"},ts=s("i",{class:"bi bi-envelope-fill"},null,-1),as={class:"col-12 fs-5"},ls=s("i",{class:"bi bi-lock-fill"},null,-1),is=s("div",{class:"col-12 mt-9"},[s("button",{type:"submit",class:"btn btn-brown w-100"},"登入")],-1),rs=g('<div class="loginSignupImg card-footer d-flex justify-content-center bg-white border-0 py-4" style="border-radius:30px;"><img src="'+C+'" alt="" class="me-4 d-none d-lg-block"><img src="'+E+'" alt="" class="me-4"><img src="'+F+'" alt="" class="me-4"><img src="'+L+'" alt="" class="me-4"><img src="'+R+'" alt="" class="me-4"><img src="'+N+'" alt="" class="me-4"><img src="'+S+'" alt="" class="me-4 d-none d-lg-block"><img src="'+U+'" alt="" class=""></div>',1);function ns(u,t,r,a,e,c){const m=n("RouterLink"),b=n("VField"),h=n("ErrorMessage"),f=n("VForm");return W(),M("main",q,[s("div",z,[s("nav",A,[s("ol",P,[s("li",T,[o(m,{to:"/home",class:"link-redBrown d-none d-lg-block"},{default:p(()=>[i("首頁")]),_:1})]),X])]),s("div",D,[G,s("div",H,[s("div",J,[s("div",K,[s("div",O,[s("div",Q,[Z,s("h2",$,[o(m,{to:"/signup",class:"link-dark stretched-link text-decoration-none fw-bold link-brown"},{default:p(()=>[i("註冊")]),_:1})])])]),ss,o(f,{ref:"form",class:"mx-5 card-body",onSubmit:c.login},{default:p(({errors:l})=>[s("div",es,[s("div",os,[s("label",{for:"email",class:d(["form-label text-secondary",{"text-brown":e.user.email&&!l.信箱}])},[ts,i(" 信箱")],2),o(b,{id:"email",name:"信箱",type:"email",class:d(["form-control border-0 border-bottom",{"is-invalid":l.信箱,"is-valid":e.user.email&&!l.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:e.user.email,"onUpdate:modelValue":t[0]||(t[0]=_=>e.user.email=_),autocomplete:"email"},null,8,["class","modelValue"]),o(h,{name:"信箱",class:"invalid-feedback"})]),s("div",as,[s("label",{for:"password",class:d(["form-label text-secondary",{"text-brown":e.user.password&&!l.密碼}])},[ls,i(" 密碼")],2),o(b,{id:"password",name:"密碼",type:"password",class:d(["form-control border-0 border-bottom",{"is-invalid":l.密碼,"is-valid":!l.密碼&&e.user.password}]),placeholder:"請輸入您的密碼",rules:"min:6",modelValue:e.user.password,"onUpdate:modelValue":t[1]||(t[1]=_=>e.user.password=_),autocomplete:"current-password"},null,8,["class","modelValue"]),o(h,{name:"密碼",class:"invalid-feedback"})]),is])]),_:1},8,["onSubmit"])]),rs])])])])])}const us=I(j,[["render",ns]]);export{us as default};
