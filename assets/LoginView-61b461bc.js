import{R as y}from"./vue-router-2c21c692.js";import{g as x,b as v,r as w,d as k,o as V}from"./db-64e704f5.js";import{_ as E}from"./hero-mobile-de2e8a61.js";import{_ as B}from"./logo-e34835c8.js";import{_ as M,U as C,V as s,W as o,X as u,a5 as f,Y as r,r as n,o as F,a4 as d}from"./_plugin-vue_export-helper-03b40388.js";const L="/finalEasyBuyEasyMake/assets/dessert3-3eda5298.png",R="/finalEasyBuyEasyMake/assets/donut3-92f127f5.png",N="/finalEasyBuyEasyMake/assets/pannacott3-978a1e52.png",S="/finalEasyBuyEasyMake/assets/mochi-d5321667.png",U="/finalEasyBuyEasyMake/assets/cakeko-06778fe1.png",Y="/finalEasyBuyEasyMake/assets/cake23-8da838f0.png";const I={data(){return{user:{email:"",password:""},expired:""}},components:{RouterLink:y},methods:{async login(){const _=this.user.email,t=this.user.password;try{const a=(await x(v,_,t)).user;console.log(a,"登入結果"),this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500});const e=w(k,"users/"+a.uid);V(e,c=>{c.val().admin?(console.log("管理者登場"),this.$router.push("/admin/recipes")):this.$router.push("/home")})}catch(l){console.log(l.message);let a="密碼錯誤";l.message==="Firebase: Error (auth/user-not-found)."&&(a="查無此帳號"),this.$swal({icon:"error",title:a,showConfirmButton:!1,timer:1500})}}},mounted(){}},W={class:"mt-6 d-flex align-items-center bg-lightYellow"},j={class:"container my-7"},q={"aria-label":"breadcrumb"},z={class:"breadcrumb"},A={class:"breadcrumb-item fs-5"},P=s("li",{class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},"登入",-1),T={class:"row mt-3 gx-3 rounded py-3"},X=f('<div class="col d-none d-lg-block"><div class="card h-100 border-0 bg-lightYellow mt-9" style="border-radius:30px;"><img src="'+E+'" class="img-fluid card-img-top" alt="" style="border-radius:30px;"><div class="card-img-overlay" style="top:450px;"><h2 class="text-darkBrown text-center mb-4 h1"> 您在找的 <span class="text-red"> 食譜材料 </span> 都在這裡 </h2></div></div></div>',1),D={class:"col"},G={class:"login-card card h-100 border",style:{"border-radius":"20px",padding:"0 !important"}},H={class:"card-body p-0"},J={class:"card-header bg-white py-0",style:{"border-radius":"20px 20px 0px 0px"}},K={class:"row",style:{margin:"0 -18px"}},O=s("h2",{class:"h5 col mb-0 text-center py-3 position-relative bg-red text-decoration-none fw-bold text-white",style:{"padding-bottom":"10px","border-radius":"20px 0 0 0"}}," 登入 ",-1),Q={class:"h5 col mb-0 text-center py-3 position-relative",style:{"padding-bottom":"10px","border-radius":"0 20px 0 0"}},Z=s("h1",{class:"text-red text-center h3 mt-4"},[r(" 歡迎來到 "),s("div",{class:"d-flex mt-2"},[s("img",{src:B,class:"mx-auto",alt:"",width:"280"})])],-1),$={class:"row gy-4 d-flex"},ss={class:"col-12 fs-5"},es=s("i",{class:"bi bi-envelope-fill"},null,-1),os={class:"col-12 fs-5"},ts=s("i",{class:"bi bi-lock-fill"},null,-1),as=s("div",{class:"col-12 mt-9"},[s("button",{type:"submit",class:"btn btn-red w-100"},"登入")],-1),is=f('<div class="loginSignupImg card-footer d-flex justify-content-evenly bg-white border-0 py-4" style="border-radius:30px;"><img src="'+L+'"><img src="'+R+'"><img src="'+N+'"><img src="'+S+'"><img src="'+U+'"><img src="'+Y+'"></div>',1);function rs(_,t,l,a,e,c){const m=n("RouterLink"),b=n("VField"),h=n("ErrorMessage"),g=n("VForm");return F(),C("main",W,[s("div",j,[s("nav",q,[s("ol",z,[s("li",A,[o(m,{to:"/home",class:"link-red d-none d-lg-block"},{default:u(()=>[r("首頁")]),_:1})]),P])]),s("div",T,[X,s("div",D,[s("div",G,[s("div",H,[s("div",J,[s("div",K,[O,s("h2",Q,[o(m,{to:"/signup",class:"link-dark stretched-link text-decoration-none fw-bold link-red"},{default:u(()=>[r("註冊")]),_:1})])])]),Z,o(g,{ref:"form",class:"mx-5 card-body",onSubmit:c.login},{default:u(({errors:i})=>[s("div",$,[s("div",ss,[s("label",{for:"email",class:d(["form-label text-secondary",{"text-red":e.user.email&&!i.信箱}])},[es,r(" 信箱")],2),o(b,{id:"email",name:"信箱",type:"email",class:d(["form-control border-0 border-bottom",{"is-invalid":i.信箱,"is-valid":e.user.email&&!i.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:e.user.email,"onUpdate:modelValue":t[0]||(t[0]=p=>e.user.email=p),autocomplete:"email"},null,8,["class","modelValue"]),o(h,{name:"信箱",class:"invalid-feedback"})]),s("div",os,[s("label",{for:"password",class:d(["form-label text-secondary",{"text-red":e.user.password&&!i.密碼}])},[ts,r(" 密碼")],2),o(b,{id:"password",name:"密碼",type:"password",class:d(["form-control border-0 border-bottom",{"is-invalid":i.密碼,"is-valid":!i.密碼&&e.user.password}]),placeholder:"請輸入您的密碼",rules:"min:6",modelValue:e.user.password,"onUpdate:modelValue":t[1]||(t[1]=p=>e.user.password=p),autocomplete:"current-password"},null,8,["class","modelValue"]),o(h,{name:"密碼",class:"invalid-feedback"})]),as])]),_:1},8,["onSubmit"])]),is])])])])])}const ps=M(I,[["render",rs]]);export{ps as default};
