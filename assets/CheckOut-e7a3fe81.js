import{m as v,a as w}from"./index-6af516ba.js";import{c as f}from"./carts-32b42ff3.js";import{n as k}from"./numberCommaMixin-e0aac39c.js";import{v as N}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as C,a7 as c,a8 as s,N as V,ae as T,ad as l,aa as d,ab as u,F as i,a9 as _,ag as q,r as b,o as m,af as n,ac as M}from"./_plugin-vue_export-helper-d28549df.js";import"./vue-router-46224dd8.js";import"./_commonjsHelpers-042e6b4d.js";import"./db-143b9a4b.js";const z={data(){return{user:{email:"",name:"",phoneNum:"",address:"",message:""}}},mixins:[k],methods:{...v(f,["getCart","addOrder"]),isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"}},mounted(){window.scrollTo(0,0)},computed:{...w(f,["cart","cartItems"])}},D={class:"",style:{"overflow-x":"hidden"},"data-aos":"fade-up"},F=q('<section class="py-lg-76 d-flex" style="background-image:url(&#39;https://images.unsplash.com/photo-1678465952838-c9d7f5daaa65?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=688&amp;q=80&#39;);background-repeat:no-repeat;background-position:center center;background-size:cover;height:50vh;"><div class="checkoutMask mx-auto mt-4"><div class="container"><ul class="list-unstyled d-lg-flex fs-5 align-items-center"><li class="text-center" style="flex:1;"><i class="bi bi-check-circle-fill text-primary fs-2"></i><p><span class="fw-bold">確認購物車品項</span></p></li><li class="bg-primary d-none d-lg-block" style="width:200px;height:3px;flex:2;"></li><li class="bg-primary d-lg-none my-2" style="width:3px;height:40px;margin:0 auto;"></li><li class="text-center position-relative" style="flex:1;"><i class="bi bi-2-circle-fill text-primary fs-2 rounded-circle" style="padding:3px 5px;border:2px dotted #4572c2;"></i><p class=""><span class="text-primary fw-bold">填寫訂單資訊</span></p></li><li class="d-none d-lg-block" style="width:200px;height:3px;flex:2;border-top:3px dashed #6c757d;"></li><li class="d-lg-none my-4" style="width:40px;height:3px;margin:0 auto;transform:rotate(90deg);border-top:3px dashed #6c757d;"></li><li class="text-center" style="flex:1;"><i class="bi bi-3-circle fs-2 text-secondary"></i><p><span class="text-secondary fw-bold">成功下訂</span></p></li></ul></div></div></section>',1),U={class:"container my-5"},B={class:"row row-cols-1 row-cols-lg-2 g-5"},S={class:"col"},O=s("h4",{class:"text-center fw-bold mb-4 bg-secondary py-2"},"商品確認",-1),j={class:"row"},A={class:"card mb-3",style:{border:"none !important"}},E={class:"row g-0"},H={class:"col-4"},L=["src"],P={class:"col-8"},W={class:"card-body d-flex flex-column h-100"},G={class:"card-title d-flex mb-auto subTitle"},I={class:"ms-auto"},R={class:"card-text d-flex justify-content-end"},Y={class:"mt-1"},J={key:0,class:"mb-0 text-danger text-end fw-bold"},K={key:1,class:"mb-0 text-danger text-end fw-bold"},Q=s("hr",null,null,-1),X={class:"col-12"},Z={class:"card",style:{border:"none !important"}},$={class:"card-body"},ss={class:"table table-borderless"},es=s("th",{class:"fw-normal"},"商品總金額",-1),ts={class:"text-end fw-normal"},os={key:0},ls={class:"text-end"},as={key:0},rs=s("td",null,"優惠券折扣",-1),ns={class:"text-end"},is={class:"border-top bg-secondary"},ds=s("td",{class:"fw-bold text-danger"},"總計金額",-1),cs={class:"text-end fw-bold text-danger"},ms={key:0},us={key:1},ps={class:"col-12"},hs=s("i",{class:"bi bi-arrow-left"},null,-1),bs={class:"col"},fs=s("h4",{class:"text-center fw-bold mb-4 bg-cyan py-2"},"填寫收件人資訊",-1),_s={class:"row gy-4 d-flex"},ys={class:"col-12 fs-5"},xs=s("i",{class:"bi bi-envelope-fill"},null,-1),gs=s("span",{class:"text-danger h4 ms-2"},"*",-1),vs={class:"col-12 fs-5"},ws=s("i",{class:"bi bi-person-fill"},null,-1),ks=s("span",{class:"text-danger h4 ms-2"},"*",-1),Ns={class:"col-12 fs-5"},Cs=s("i",{class:"bi bi-telephone-fill"},null,-1),Vs=s("span",{class:"text-danger h4 ms-2"},"*",-1),Ts={class:"col-12 fs-5"},qs=s("i",{class:"bi bi-house-fill"},null,-1),Ms=s("span",{class:"text-danger h4 ms-2"},"*",-1),zs=s("div",{class:"col-12 fs-5 position-relative"},[s("label",{for:"payWay",class:"form-label text-primary"},[s("i",{class:"bi bi-wallet-fill"}),d(" 付款方式"),s("span",{class:"text-danger h4 ms-2"},"*")]),s("input",{type:"text",class:"form-control",id:"payWay",value:"貨到付款",disabled:""}),s("i",{class:"fs-4 text-success bi bi-check-lg position-absolute",style:{top:"40px",right:"20px"}}),s("p",{class:"text-muted",style:{"font-size":"14px"}},"注意：本店一律採貨到付款的方式喔!")],-1),Ds={class:"col-12 fs-5"},Fs=s("i",{class:"bi bi-chat-left-text-fill"},null,-1),Us=s("span",{class:"text-muted ms-2",style:{"font-size":"14px"}},"(可不填寫)",-1),Bs=s("p",{class:"text-muted",style:{"font-size":"14px"}},"有任何問題或是貨品相關注意事項都歡迎與我們聯繫~",-1),Ss=s("div",{class:"col-12 mt-4"},[s("button",{type:"submit",class:"hvr-sweep-to-right btn btn-primary fw-bold rounded-0 px-4 shadow-lg w-100"},"確認建立訂單")],-1);function Os(t,a,js,As,o,y){const x=b("RouterLink"),p=b("VField"),h=b("ErrorMessage"),g=b("VForm");return m(),c("div",D,[F,s("section",U,[s("div",B,[s("div",S,[O,s("div",j,[(m(!0),c(V,null,T(t.cartItems,(e,r)=>(m(),c("div",{class:"col-12",key:r+756345},[s("div",A,[s("div",E,[s("div",H,[s("img",{src:e.product.imgUrl,class:"img-fluid w-100",style:{"object-fit":"cover",height:"130px"}},null,8,L)]),s("div",P,[s("div",W,[s("h5",G,[d(l(e.product.title)+" ",1),s("span",I,"x "+l(t.numberComma(e.qty)),1)]),s("div",R,[s("del",{class:n(["me-2 text-muted mt-1",{"d-none":!e.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+l(t.numberComma(e.product.originalPrice)),3),s("span",Y,[s("span",{class:n({"text-danger":e.product.isCheaper,"fw-bold":e.product.isCheaper})},"NT$ "+l(t.numberComma(e.product.price)),3),d(" / "+l(e.product.num)+l(e.product.unit),1)])]),e.product.category!=="組合包"?(m(),c("p",J,"小計：NT$ "+l(t.numberComma(e.product.price*e.qty))+" / "+l(t.numberComma(e.product.num*e.qty))+l(e.product.unit),1)):u("",!0),e.product.category==="組合包"?(m(),c("p",K,"小計：NT$ "+l(t.numberComma(e.product.price*e.qty))+" / "+l(t.numberComma(e.qty))+"組",1)):u("",!0)])])])]),Q]))),128)),s("div",X,[s("div",Z,[s("div",$,[s("table",ss,[s("thead",null,[s("tr",null,[es,s("th",ts,"NT$ "+l(t.numberComma(t.cart.total)),1)])]),s("tbody",null,[s("tr",null,[s("td",null,[d("運費"),t.cart.total>=1e3?(m(),c("span",os,"(滿千元免運)")):u("",!0)]),s("td",ls," NT$ "+l(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(m(),c("tr",as,[rs,s("td",ns,"- NT$ "+l(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):u("",!0),s("tr",is,[ds,s("td",cs,[t.cart.total<1e3?(m(),c("span",ms,"NT$ "+l(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(m(),c("span",us,"NT$ "+l(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):u("",!0)])])])])])])]),s("div",ps,[i(x,{to:"/products",class:"rounded-0 hvr-sweep-to-left btn mb-4 ms-3 text-primary border-primary"},{default:_(()=>[hs,d(" 繼續選購")]),_:1})])])]),s("div",bs,[fs,i(g,{ref:"form",class:"",onSubmit:a[5]||(a[5]=()=>t.addOrder(o.user.email,o.user.name,o.user.phoneNum,o.user.address,o.user.message))},{default:_(({errors:e})=>[s("div",_s,[s("div",ys,[s("label",{for:"email",class:n(["form-label text-secondary",{"text-primary":o.user.email&&!e.信箱}])},[xs,d(" 信箱"),gs],2),i(p,{id:"email",name:"信箱",type:"email",class:n(["form-control border-0 border-bottom",{"is-invalid":e.信箱,"is-valid":o.user.email&&!e.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":a[0]||(a[0]=r=>o.user.email=r)},null,8,["class","modelValue"]),i(h,{name:"信箱",class:"invalid-feedback"})]),s("div",vs,[s("label",{for:"name",class:n(["form-label text-secondary",{"text-primary":o.user.name&&!e.收件人姓名}])},[ws,d(" 收件人姓名"),ks],2),i(p,{id:"name",name:"收件人姓名",type:"name",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人姓名,"is-valid":!e.收件人姓名&&o.user.name}]),placeholder:"請輸入您的收件人姓名",rules:"required",modelValue:o.user.name,"onUpdate:modelValue":a[1]||(a[1]=r=>o.user.name=r)},null,8,["class","modelValue"]),i(h,{name:"收件人姓名",class:"invalid-feedback"})]),s("div",Ns,[s("label",{for:"phoneNum",class:n(["form-label text-secondary",{"text-primary":o.user.phoneNum&&!e.收件人電話}])},[Cs,d(" 收件人電話"),Vs],2),i(p,{id:"phoneNum",name:"收件人電話",type:"phoneNum",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人電話,"is-valid":!e.收件人電話&&o.user.phoneNum}]),placeholder:"請輸入您的收件人電話",rules:y.isPhone,modelValue:o.user.phoneNum,"onUpdate:modelValue":a[2]||(a[2]=r=>o.user.phoneNum=r)},null,8,["class","rules","modelValue"]),i(h,{name:"收件人電話",class:"invalid-feedback"})]),s("div",Ts,[s("label",{for:"address",class:n(["form-label text-secondary",{"text-primary":o.user.address&&!e.收件人地址}])},[qs,d(" 收件人地址"),Ms],2),i(p,{id:"address",name:"收件人地址",type:"address",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人地址,"is-valid":!e.收件人地址&&o.user.address}]),placeholder:"請輸入您的收件人地址",rules:"required",modelValue:o.user.address,"onUpdate:modelValue":a[3]||(a[3]=r=>o.user.address=r)},null,8,["class","modelValue"]),i(h,{name:"收件人地址",class:"invalid-feedback"})]),zs,s("div",Ds,[s("label",{for:"message",class:n(["form-label text-secondary",{"text-primary":o.user.message}])},[Fs,d(" 留言")],2),Us,M(s("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":a[4]||(a[4]=r=>o.user.message=r)},null,512),[[N,o.user.message]]),Bs]),Ss])]),_:1},512)])])])])}const Ys=C(z,[["render",Os]]);export{Ys as default};
