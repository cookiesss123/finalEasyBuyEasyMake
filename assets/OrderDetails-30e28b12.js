import{b6 as _,av as b,aj as i,l as c,m as t,t as p,b1 as f,aJ as e,a5 as x,a3 as l,F as m,at as y,k as d,s as r}from"./_plugin-vue_export-helper-68081c38.js";const{VITE_PATH:g}={VITE_PATH:"https://vue-final-dbjson-889xxtffg-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},v={data(){return{userId:"",token:"",nickName:"",user:{},order:[],barWidth:"0%"}},methods:{getOrder(){const{id:a}=this.$route.params;this.$http.get(`${g}/600/orders/${a}`,{headers:{authorization:`Bearer ${this.token}`}}).then(n=>{console.log("單筆訂單",n.data),this.order=n.data,this.order.deliveryStatus==="待出貨"?this.barWidth="0%":this.order.deliveryStatus==="運送中"?this.barWidth="33%":this.order.deliveryStatus==="待取貨"?this.barWidth="66%":this.order.deliveryStatus==="完成訂單"&&(this.barWidth="100%")}).catch(n=>{console.log(n)})}},mounted(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.userId=localStorage.getItem("userId"),this.userId=Number(this.userId),this.nickName=localStorage.getItem("nickName"),this.getOrder()}},w={class:"mt-10 container"},k={"aria-label":"breadcrumb"},N={class:"breadcrumb"},T={class:"breadcrumb-item h5"},W=t("li",{class:"breadcrumb-item h5"},"訂單狀況",-1),S={class:"breadcrumb-item active h5","aria-current":"page"},C={class:"ms-4"},I={class:"d-flex flex-column align-items-center mt-4"},E={class:"progress col-8"},B={class:"col-10 d-flex list-unstyled position-relative text-lightBrown"},D={class:"row mb-5",style:{"margin-top":"150px"}},V={class:"col"},L=t("h4",{class:"text-center"},"訂購商品資訊",-1),O={key:0,class:"row py-3"},j={class:"col-12"},z={class:"row"},A={class:"card mb-3 border-0"},P={class:"row g-0"},R={class:"col-md-4"},q=["src"],M={class:"col-md-8"},F={class:"card-body"},H={class:"card-title mb-0 d-flex"},U={class:"ms-auto"},J={class:"card-text d-flex justify-content-end"},G={class:"mt-1"},K=t("br",null,null,-1),Q={class:"mb-0 text-danger text-end"},X=t("hr",null,null,-1),Y={class:"col-12"},Z={class:"table table-borderless"},$=t("th",{class:"fw-normal"},"商品總金額",-1),tt={key:0,class:"text-end fw-normal"},st=t("td",null,"運費",-1),et={key:0,class:"text-end"},ot={key:0},lt=t("td",null,"優惠券折扣",-1),rt={class:"text-end"},it={class:"border-top"},ct=t("td",{class:"fw-bold text-danger"},"總計金額",-1),nt={class:"text-end fw-bold text-danger"},dt={class:"col"},at=t("h4",{class:"text-center"},"收件人資訊",-1),ht={class:"table table-borderless text-brown"},ut=t("th",{class:"fw-normal"},[t("i",{class:"bi bi-envelope-fill"}),r(" 信箱")],-1),_t={class:"fw-normal"},bt=t("td",null,[t("i",{class:"bi bi-person-fill"}),r(" 收件人姓名")],-1),pt=t("td",null,[t("i",{class:"bi bi-telephone-fill"}),r(" 收件人電話")],-1),ft=t("td",null,[t("i",{class:"bi bi-house-fill"}),r(" 收件人地址")],-1),xt=t("tr",null,[t("td",null,[t("i",{class:"bi bi-wallet-fill"}),r(" 付款方式")]),t("td",null,"貨到付款")],-1),mt=t("td",null,[t("i",{class:"bi bi-chat-left-text-fill"}),r(" 留言")],-1);function yt(a,n,gt,vt,s,wt){const h=b("RouterLink");return i(),c("div",w,[t("nav",k,[t("ol",N,[t("li",T,[p(h,{to:"/member",href:"#",class:"link-orange"},{default:f(()=>[r("會員專區")]),_:1})]),W,t("li",S,e(s.order.deliveryStatus),1)])]),t("span",null,"訂單建立時間："+e(new Date(s.order.creatAt).toLocaleDateString()),1),t("span",C,"訂單編號："+e(s.order.id),1),t("div",I,[t("div",E,[t("div",{class:"progress-bar bg-brown",role:"progressbar",style:x([{width:"100%"},{width:s.barWidth}])},null,4)]),t("ul",B,[t("li",null,[t("i",{class:l(["position-absolute fs-1 bi bi-box-seam",{"text-brown":s.barWidth==="0%"}]),style:{top:"5px",left:"87px"}},null,2),t("h5",{class:l(["position-absolute fw-bold",{"text-brown":s.barWidth==="0%"}]),style:{top:"60px",left:"75px"}},"待出貨",2)]),t("li",null,[t("i",{class:l(["bi bi-truck position-absolute fs-1",{"text-brown":s.barWidth==="33%"}]),style:{top:"5px",left:"375px"}},null,2),t("h5",{class:l(["position-absolute fw-bold",{"text-brown":s.barWidth==="33%"}]),style:{top:"60px",left:"365px"}},"運送中",2)]),t("li",null,[t("i",{class:l(["bi bi-house-check position-absolute fs-1",{"text-brown":s.barWidth==="66%"}]),style:{top:"5px",left:"660px"}},null,2),t("h5",{class:l(["position-absolute fw-bold",{"text-brown":s.barWidth==="66%"}]),style:{top:"60px",left:"650px"}},"已抵達",2)]),t("li",null,[t("i",{class:l(["bi bi-clipboard-check position-absolute fs-1",{"text-brown":s.barWidth==="100%"}]),style:{top:"5px",left:"950px"}},null,2),t("h5",{class:l(["position-absolute fw-bold",{"text-brown":s.barWidth==="100%"}]),style:{top:"60px",left:"930px"}},"完成訂單",2)])])]),t("div",D,[t("div",V,[L,s.order.cart?(i(),c("div",O,[t("div",j,[t("div",z,[(i(!0),c(m,null,y(s.order.cart.items,(o,u)=>(i(),c("div",{class:"col-12",key:u+756345},[t("div",A,[t("div",P,[t("div",R,[t("img",{src:o.product.imgUrl,class:"img-fluid rounded-start",style:{"object-fit":"cover",height:"100px",width:"200px"}},null,8,q)]),t("div",M,[t("div",F,[t("h5",H,[r(e(o.product.title)+" ",1),t("span",U,"x "+e(o.qty),1)]),t("div",J,[t("del",{class:l(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+e(o.product.originalPrice),3),t("span",G,[t("span",{class:l({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+e(o.product.price),3),r(" / "+e(o.product.num)+e(o.product.unit),1)]),K]),t("p",Q,"小計：NT$ "+e(o.product.price*o.qty)+" / "+e(o.product.num*o.qty)+e(o.product.unit),1)])])])]),X]))),128))])]),t("div",Y,[t("table",Z,[t("thead",null,[t("tr",null,[$,s.order.cart?(i(),c("th",tt,"NT$ "+e(s.order.cart.total),1)):d("",!0)])]),t("tbody",null,[t("tr",null,[st,s.order.cart?(i(),c("td",et,"NT$ "+e(s.order.cart.deliveryCharge),1)):d("",!0)]),s.order.cart.total+s.order.cart.deliveryCharge!==s.order.cart.finalTotal&&s.order.cart.coupon?(i(),c("tr",ot,[lt,t("td",rt,"- NT$ "+e(Math.ceil(s.order.cart.total*(s.order.cart.coupon.discount/100))),1)])):d("",!0),t("tr",it,[ct,t("td",nt,"NT$ "+e(s.order.cart.finalTotal),1)])])])])])):d("",!0)]),t("div",dt,[at,t("table",ht,[t("thead",null,[t("tr",null,[ut,t("th",_t,e(s.order.email),1)])]),t("tbody",null,[t("tr",null,[bt,t("td",null,e(s.order.name),1)]),t("tr",null,[pt,t("td",null,e(s.order.phoneNum),1)]),t("tr",null,[ft,t("td",null,e(s.order.address),1)]),xt,t("tr",null,[mt,t("td",null,e(s.order.message),1)])])])])])])}const Nt=_(v,[["render",yt]]);export{Nt as default};
