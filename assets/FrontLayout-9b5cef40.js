import{f as S,m as D,h as H,R as K,e as Y}from"./index-ef229fde.js";import{o as U,c as k,r as C,d as x,b as N,a as q,s as V}from"./carts-683259c2.js";import{C as A}from"./collapse-ee56ddca.js";import{m as G}from"./modalMixin-3a496cca.js";import{n as j}from"./numberCommaMixin-e0aac39c.js";import{l as $,n as R,w as L,m as B,k as w}from"./runtime-dom.esm-bundler-5f84711a.js";import{_ as O}from"./loadingLogo-ea15f612.js";import{_ as P,r as M,o as l,c as a,b as e,ao as g,ak as h,F as y,aY as v,a as m,w as b,b7 as i,aH as I,bk as p,an as E,aj as z}from"./_plugin-vue_export-helper-f96b5234.js";import{s as F}from"./publicData-f4e8600e.js";import"./base-component-f2bdf0e9.js";const W="/finalEasyBuyEasyMake/assets/undraw_shopping_app_flsj-3a31e3be.png";const J={data(){return{code:"",uid:"",user:{}}},mixins:[G,j],methods:{...S(k,["updateCartNum","changeCartNum","handleKeyDown","deleteCart","deleteAllCarts","getCoupons","checkCoupon","reUseCoupon","getCart","toastMessage"]),cancelCoupon(){this.code="",this.reUseCoupon()},clearAllCarts(){this.code="",this.deleteAllCarts(),this.toastMessage("已清空遊客購物車")},getCartData(){U(q,t=>{if(t){this.uid=t.uid,this.getCart(this.uid);const s=C(x,"users/"+t.uid);N(s,_=>{this.user=_.val()})}else this.uid=null,this.user={},this.getCart("1")})}},mounted(){this.getCoupons(),this.getCartData()},watch:{"$route.fullPath"(t){t==="/checkout"?(this.code="",this.hide()):t.includes("/products")&&this.hide()}},computed:{...D(k,["cart","cartItems","loadingItem"]),...H(k,["cartNum"])}},Q={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},X={class:"modal-dialog modal-fullscreen-md-down w-100"},Z={class:"modal-content"},ee=e("div",{class:"modal-header bg-primary-purple rounded-0 d-flex"},[e("h5",{class:"modal-title text-white ms-auto letter-spacing-5"},"購物車"),e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),te={class:"modal-body"},se={key:0,class:"h-100"},oe={key:0,class:"d-flex flex-column h-100"},le={class:"text-end mb-3"},ae=["disabled"],ne={key:0,class:"spinner-border spinner-border-sm",role:"status"},re=e("span",{class:"visually-hidden"},"Loading...",-1),ie=[re],de={class:"list-unstyled"},ce={class:"card"},ue={class:"row g-0"},he=["src","alt"],me={class:"col-8"},pe={class:"card-body py-2"},be={class:"d-flex"},ge={class:"card-title fs-6"},fe=["onClick"],_e={class:"card-text text-end"},ye=e("br",null,null,-1),ve={class:"mb-0 text-danger text-end fw-bold"},ke={class:"d-flex justify-content-end align-items-center mt-2"},we=["disabled","onClick"],Ce={key:0},xe={key:1,class:"spinner-border spinner-border-sm",role:"status"},$e=e("span",{class:"visually-hidden"},"Loading...",-1),Ne=[$e],Me=["onUpdate:modelValue","onChange"],Ie=["disabled","onClick"],Te={key:0},Re={key:1,class:"spinner-border spinner-border-sm",role:"status"},Le=e("span",{class:"visually-hidden"},"Loading...",-1),Se=[Le],De=e("hr",null,null,-1),Oe=e("label",{for:"code",class:"col-3 form-label mt-auto"},"優惠碼",-1),Pe={key:0,class:"input-group mb-3"},Ve={key:1,class:"input-group mb-3"},Ae=["value"],Be={class:"table table-borderless"},He=e("th",{class:"fw-normal"},"商品總金額",-1),Ue={class:"text-end fw-normal"},qe={key:0},Ge={class:"text-end"},je={key:0},Ee={class:"text-end"},Ke={class:"border-top"},Ye=e("td",{class:"fw-bold text-danger"},"總計金額",-1),ze={class:"text-end fw-bold text-danger"},Fe={key:0},We={key:1},Je={key:1,class:"h-100 d-flex"},Qe={class:"m-auto text-center"},Xe=e("img",{src:W,class:"mb-3 img-md-200-sm-150",alt:"空的購物車圖示"},null,-1),Ze=e("p",{class:"fs-5"},"您的購物車是空的",-1),et={key:1,class:"h-100 d-flex"},tt=E('<p class="m-auto fs-3"><img src="'+O+'" class="loading-logo me-3" style="width:60px;" alt="logo"><span class="animate-text me-1">結</span><span class="animate-text me-1">帳</span><span class="animate-text me-1">中</span><span class="animate-text me-1">.</span><span class="animate-text me-1">.</span><span class="animate-text">.</span></p>',1),st=[tt];function ot(t,s,_,T,n,c){const d=M("RouterLink");return l(),a("div",Q,[e("div",X,[e("div",Z,[ee,e("div",te,[this.$route.fullPath!=="/checkout"?(l(),a("div",se,[t.cartItems.length!==0?(l(),a("div",oe,[e("div",le,[e("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=(...r)=>c.clearAllCarts&&c.clearAllCarts(...r)),disabled:t.loadingItem==="loading"},[g(" 清空購物車 "),t.loadingItem==="loading"?(l(),a("div",ne,ie)):h("",!0)],8,ae)]),e("ul",de,[(l(!0),a(y,null,v(t.cartItems,(r,u)=>(l(),a("li",{key:u+756345},[e("div",ce,[e("div",ue,[m(d,{to:`/products/${r.product.id}`,class:"col-4"},{default:b(()=>[e("img",{src:r.product.imgUrl,class:"w-100 object-fit-cover",alt:r.product.title,style:{height:"130px !important"}},null,8,he)]),_:2},1032,["to"]),e("div",me,[e("div",pe,[e("div",be,[e("h5",ge,[m(d,{to:`/products/${r.product.id}`,class:"link-darkBrown"},{default:b(()=>[g(i(r.product.title),1)]),_:2},1032,["to"])]),e("button",{onClick:()=>t.deleteCart(r.product),type:"button",class:"p-0 ms-auto btn-close","aria-label":"Close"},null,8,fe)]),e("div",_e,[e("del",{class:I(["me-2 text-muted fs-14",{"d-none":!r.product.isCheaper}])},"NT$ "+i(t.numberComma(r.product.originalPrice)),3),e("span",{class:I({"text-danger":r.product.isCheaper,"fw-bold":r.product.isCheaper})},"NT$ "+i(t.numberComma(r.product.price)),3),e("span",null," / "+i(r.product.num)+i(r.product.unit),1),ye,e("p",ve,"小計：NT$ "+i(t.numberComma(r.product.price*r.qty))+" / "+i()+i(r.product.category!=="組合包"?t.numberComma(r.product.num*r.qty)+r.product.unit:t.numberComma(r.qty)+"組"),1)]),e("div",ke,[e("button",{disabled:t.loadingItem==="loading",class:I(["btn btn-sm btn-outline-gradient rounded-circle",{disabled:r.qty===1}]),style:{width:"30px",height:"30px"},type:"button",onClick:()=>t.updateCartNum("reduce",r.product,r.qty)},[t.loadingItem!=="loading"?(l(),a("span",Ce,"-")):t.loadingItem==="loading"?(l(),a("div",xe,Ne)):h("",!0)],10,we),p(e("input",{type:"number",class:"form-control border-0 text-center mx-2","onUpdate:modelValue":f=>r.qty=f,onChange:f=>t.changeCartNum(r.product,r.qty,f),style:{width:"70px"},onKeydown:s[1]||(s[1]=(...f)=>t.handleKeyDown&&t.handleKeyDown(...f))},null,40,Me),[[$,r.qty,void 0,{number:!0}]]),e("button",{disabled:t.loadingItem==="loading",class:"btn btn-sm btn-outline-gradient rounded-circle",style:{width:"30px",height:"30px"},type:"button",onClick:()=>t.updateCartNum("add",r.product,r.qty)},[t.loadingItem!=="loading"?(l(),a("span",Te,"+")):t.loadingItem==="loading"?(l(),a("div",Re,Se)):h("",!0)],8,Ie)])])])])]),De]))),128))]),Oe,t.cart.total+t.cart.deliveryCharge===t.cart.finalTotal?(l(),a("div",Pe,[p(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=r=>n.code=r)},null,512),[[$,n.code]]),e("button",{class:"btn btn-outline-primary fw-normal",type:"button",onClick:s[3]||(s[3]=()=>t.checkCoupon(n.code))},"套用優惠碼")])):t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal?(l(),a("div",Ve,[t.cart.coupon?(l(),a("input",{key:0,type:"text",class:"form-control",value:t.cart.coupon.code,disabled:""},null,8,Ae)):h("",!0),e("button",{class:"btn btn-outline-gray",type:"button",onClick:s[4]||(s[4]=(...r)=>c.cancelCoupon&&c.cancelCoupon(...r))},"取消")])):h("",!0),e("table",Be,[e("thead",null,[e("tr",null,[He,e("th",Ue,"NT$ "+i(t.numberComma(t.cart.total)),1)])]),e("tbody",null,[e("tr",null,[e("td",null,[g("運費"),t.cart.total>=1e3?(l(),a("span",qe,"（滿千元免運）")):h("",!0)]),e("td",Ge," NT$ "+i(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(l(),a("tr",je,[e("td",null,"優惠券折扣 - "+i(t.cart.coupon.title),1),e("td",Ee,"- NT$ "+i(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):h("",!0),e("tr",Ke,[Ye,e("td",ze,[t.cart.total<1e3?(l(),a("span",Fe,"NT$ "+i(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(l(),a("span",We,"NT$ "+i(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):h("",!0)])])])]),m(d,{to:"/checkout",type:"button",class:"hvr-sweep-to-right btn btn-primary w-100"},{default:b(()=>[g("前往結帳")]),_:1})])):t.cartNum===0?(l(),a("div",Je,[e("div",Qe,[Xe,Ze,m(d,{class:"link-primary h5",to:"/products"},{default:b(()=>[g("前往選購商品")]),_:1})])])):h("",!0)])):this.$route.fullPath==="/checkout"?(l(),a("div",et,st)):h("",!0)])])])],512)}const lt=P(J,[["render",ot]]),at={data(){return{uid:"",user:{},message:"",chats:[],newChatNum:0,oneChats:[],openId:""}},mixins:[G,j],methods:{...S(k,["updateCartNum","toastMessage"]),getMessages(){U(q,t=>{if(t){this.uid=t.uid;const s=C(x,"users/"+t.uid);N(s,_=>{if(this.user=_.val(),this.user.admin){const n=C(x,"chats/");N(n,c=>{this.chats=c.val();let d=0;if(!this.chats){this.newChatNum=0;return}Object.values(this.chats).forEach(r=>{if(r.nickName!=="甜點食譜一鍵購客服"){let f=[...r].reverse().findIndex(o=>o.nickName==="甜點食譜一鍵購客服");f===-1&&(f=r.length),r.newChatNum=f,d+=f}else r.nickName==="甜點食譜一鍵購客服"&&(r.newChatNum=0)}),this.newChatNum=d});return}const T=C(x,`chats/${this.uid}/`);N(T,n=>{if(this.chats=n.val(),!this.chats){this.newChatNum=0;return}if(this.chats[this.chats.length-1].nickName==="甜點食譜一鍵購客服"){const d=[...this.chats].reverse().findIndex(r=>r.nickName!=="甜點食譜一鍵購客服");this.newChatNum=d}else this.chats[this.chats.length-1].nickName!=="甜點食譜一鍵購客服"&&(this.newChatNum=0)})})}else this.uid=null,this.user={}})},sendMessage(){if(!this.message)return;let t=0;this.chats&&(t=this.chats.length);const s=C(x,`chats/${this.uid}/${t}`);V(s,{nickName:this.user.nickName,message:this.message,headshotImg:this.user.headshotImg,time:new Date().getTime()}),this.message=""},sendCustomerMessage(t){if(!this.message)return;const s=this.oneChats.length,_=C(x,`chats/${t}/${s}`);V(_,{nickName:"甜點食譜一鍵購客服",message:this.message,headshotImg:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",time:new Date().getTime()}),this.message=""},getInfo(t){this.openId=t;const s=C(x,`chats/${t}/`);N(s,_=>{this.oneChats=_.val()})}},mounted(){this.getMessages()},computed:{...D(k,["loadingItem"])}},nt={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},rt={class:"modal-dialog modal-fullscreen-md-down w-100"},it={class:"modal-content scroll-y min-height-100"},dt={class:"modal-header bg-primary rounded-0"},ct={key:0,class:"modal-title text-white"},ut=e("img",{src:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",style:{height:"40px",width:"40px"},class:"rounded-circle me-1",alt:"客服大頭貼"},null,-1),ht=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),mt={class:"modal-body d-flex flex-column bg-secondary"},pt={key:0},bt={key:0,class:"d-flex mb-3"},gt=["src"],ft={style:{"max-width":"90%"}},_t={class:"mb-1"},yt={class:"speech-bubble speech-bubble-left bg-white px-3 py-1 d-inline-block rounded-4 mb-0 text-newline"},vt={class:"ms-1 text-muted fs-14"},kt={key:1,class:"d-flex flex-column"},wt={class:"mb-2 ms-auto d-flex flex-column align-items-end",style:{"max-width":"90%"}},Ct={class:"mb-0 speech-bubble speech-bubble-right bg-primary text-white px-3 py-1 d-inline-block rounded-4 text-newline"},xt={class:"text-muted me-1 fs-14"},$t={key:1},Nt={href:"#",class:"text-decoration-none link-primary d-block border-bottom border-primary py-2 d-flex align-items-center"},Mt=["onClick"],It={key:0,class:"ms-2 badge bg-primary"},Tt=e("i",{class:"bi bi-x"},null,-1),Rt=[Tt],Lt={key:0,class:"pt-3"},St={key:0,class:"d-flex mb-3"},Dt=["src"],Ot={style:{"max-width":"90%"}},Pt={class:"mb-1"},Vt={class:"speech-bubble speech-bubble-left bg-white px-3 py-1 d-inline-block rounded-4 mb-0 text-newline"},At={class:"ms-1 text-muted fs-14"},Bt={key:1,class:"d-flex flex-column"},Ht={class:"mb-0 ms-auto speech-bubble speech-bubble-right bg-primary text-white px-3 py-1 d-inline-block rounded-4 text-newline",style:{"max-width":"90%"}},Ut={class:"ms-auto me-1 text-muted fs-14"},qt={class:"input-group mt-5 mb-3"},Gt=["onKeyup"],jt=["onClick"],Et=e("i",{class:"bi bi-send-fill"},null,-1),Kt=[Et],Yt={key:2,class:"input-group mt-auto"},zt=e("i",{class:"bi bi-send-fill"},null,-1),Ft=[zt];function Wt(t,s,_,T,n,c){return l(),a("div",nt,[e("div",rt,[e("div",it,[e("div",dt,[n.uid?(l(),a("h5",ct,[ut,g(" 甜點食譜一鍵購客服 ")])):h("",!0),ht]),e("div",mt,[n.user.admin?n.user.admin?(l(),a("div",$t,[(l(!0),a(y,null,v(n.chats,(d,r)=>(l(),a("div",{key:r},[e("a",Nt,[e("p",{class:"mb-0 w-100",onClick:R(u=>c.getInfo(r),["prevent"])},[g(i(r)+" ",1),d.newChatNum?(l(),a("span",It,i(d.newChatNum),1)):h("",!0)],8,Mt),e("button",{class:"btn btn-primary ms-auto",type:"button",onClick:s[0]||(s[0]=R(u=>n.openId="",["prevent"]))},Rt)]),n.openId===r?(l(),a("div",Lt,[(l(!0),a(y,null,v(d,u=>(l(),a("div",{key:u,class:""},[u.nickName!=="甜點食譜一鍵購客服"?(l(),a("div",St,[e("img",{src:u.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:"顧客大頭貼"},null,8,Dt),e("div",Ot,[e("p",Pt,i(u.nickName),1),e("p",Vt,i(u.message),1),e("p",At,i(new Date(u.time).toLocaleDateString())+" "+i(new Date(u.time).getHours())+":"+i(new Date(u.time).getMinutes()),1)])])):u.nickName==="甜點食譜一鍵購客服"?(l(),a("div",Bt,[e("p",Ht,i(u.message),1),e("p",Ut,i(new Date(u.time).toLocaleDateString())+" "+i(new Date(u.time).getHours())+":"+i(new Date(u.time).getMinutes()),1)])):h("",!0)]))),128)),e("div",qt,[p(e("input",{type:"text",onKeyup:L(u=>c.sendCustomerMessage(r),["enter"]),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[1]||(s[1]=u=>n.message=u)},null,40,Gt),[[$,n.message]]),e("button",{onClick:u=>c.sendCustomerMessage(r),class:"btn btn-outline-primary",type:"button"},Kt,8,jt)])])):h("",!0)]))),128))])):h("",!0):(l(),a("div",pt,[(l(!0),a(y,null,v(n.chats,d=>(l(),a("div",{key:d,class:""},[d.nickName==="甜點食譜一鍵購客服"?(l(),a("div",bt,[e("img",{src:d.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:"客服大頭貼"},null,8,gt),e("div",ft,[e("p",_t,i(d.nickName),1),e("p",yt,i(d.message),1),e("p",vt,i(new Date(d.time).toLocaleDateString())+" "+i(new Date(d.time).getHours())+":"+i(new Date(d.time).getMinutes()),1)])])):d.nickName!=="甜點食譜一鍵購客服"?(l(),a("div",kt,[e("div",wt,[e("p",Ct,i(d.message),1),e("p",xt,i(new Date(d.time).toLocaleDateString())+" "+i(new Date(d.time).getHours())+"："+i(new Date(d.time).getMinutes()),1)])])):h("",!0)]))),128))])),n.user.admin?h("",!0):(l(),a("div",Yt,[p(e("input",{type:"text",onKeyup:s[2]||(s[2]=L((...d)=>c.sendMessage&&c.sendMessage(...d),["enter"])),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[3]||(s[3]=d=>n.message=d)},null,544),[[$,n.message]]),e("button",{onClick:s[4]||(s[4]=(...d)=>c.sendMessage&&c.sendMessage(...d)),class:"btn btn-outline-primary",type:"button"},Ft)]))])])])],512)}const Jt=P(at,[["render",Wt]]),Qt={data(){return{selections:F,menuToggle:!1,searchToggle:!1,menuCollapse:{},searchCollapse:{},recipeSearchName:"",selectItem:"全部",highOrLow:"不拘",priceOrRate:"成本",productSearchName:"",productHighOrLow:"低到高",productPriceOrRate:"價格",pageStatus:"全部",showScrollArrow:!1,searchItem:"食譜搜尋"}},components:{RouterLink:K,RouterView:Y,CartModal:lt,ChatModal:Jt},methods:{...S(k,["checkLogin","logout","goToTop"]),reload(t){this.$route.fullPath===t&&location.reload()},searchRecipes(){this.$router.push({name:"RecipesView",query:{searchName:this.recipeSearchName,category:this.selectItem,valueHighOrLow:this.highOrLow,valuePriceOrRate:this.priceOrRate}}),this.searchToggle=!1,this.recipeSearchName="",this.highOrLow="不拘",this.priceOrRate="成本",this.selectItem="全部"},searchProducts(){this.$router.push({name:"products",query:{searchName:this.productSearchName,valueHighOrLow:this.productHighOrLow,valuePriceOrRate:this.productPriceOrRate,pageStatus:this.pageStatus}}),this.searchToggle=!1,this.productSearchName="",this.productHighOrLow="不拘",this.productPriceOrRate="價格",this.pageStatus="全部"},handleScroll(){this.showScrollArrow=window.scrollY>1e3}},mounted(){this.checkLogin(),window.addEventListener("scroll",this.handleScroll),this.menuCollapse=new A(this.$refs.menuCollapse,{toggle:!1}),this.searchCollapse=new A(this.$refs.searchCollapse,{toggle:!1})},computed:{...D(k,["user","uid","cartItems"]),...H(k,["cartNum"])},watch:{menuToggle(){this.menuToggle===!0?(this.menuCollapse.show(),this.searchCollapse.hide(),this.searchToggle=!1):this.menuToggle===!1&&this.menuCollapse.hide()},searchToggle(){this.searchToggle===!0?(this.searchCollapse.show(),this.menuCollapse.hide(),this.menuToggle=!1):this.searchToggle===!1&&this.searchCollapse.hide()},"$route.fullPath"(){this.menuToggle=!1,this.searchToggle=!1,this.$route.fullPath.match("products")?this.searchItem="產品搜尋":this.$route.fullPath.match("recipes")&&(this.searchItem="食譜搜尋")}}},Xt={class:"d-flex flex-column min-height-100"},Zt={class:"fixed-top"},es={class:"container"},ts={class:"mb-0 me-auto"},ss=e("img",{src:O,class:"logo me-1 mt-n1",alt:"logo"},null,-1),os=e("div",null,[e("p",{class:"text-darkBrown mb-0 fs-6"},"甜點食譜一鍵購"),e("p",{class:"fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5"},"Easy Buy Easy Make")],-1),ls=e("span",{class:"material-icons text-gradient fs-5"},"shopping_cart",-1),as={class:"text-gradient material-icons fs-5"},ns=e("span",{class:"material-icons-outlined fs-5 text-gradient"},"search",-1),rs=[ns],is=e("span",{class:"material-icons-outlined fs-5 text-gradient"}," menu ",-1),ds=[is],cs={id:"navbarNav",class:"collapse navbar-collapse",ref:"menuCollapse"},us={class:"mainMenu navbar-nav mx-auto text-center mb-1 mb-lg-0"},hs={class:"nav-item me-lg-3"},ms={class:"nav-item mx-lg-3"},ps={class:"nav-item mx-lg-3"},bs={class:"nav-item ms-lg-3"},gs={key:0,class:"navbar-nav me-lg-4 mt-2 pb-3 mt-lg-0 pb-lg-0"},fs={class:"nav-item text-center"},_s={key:1,class:"navbar-nav d-lg-flex align-items-lg-center me-lg-3 text-center"},ys={key:0,class:"nav-item me-lg-3"},vs={class:"me-4 d-flex align-items-center justify-content-center"},ks=["src"],ws={key:1,class:"bi bi-person-circle fs-1 text-primary"},Cs={class:"fw-bold fs-6 ms-3"},xs={class:"nav-item"},$s={class:"text-gradient material-icons fs-4"},Ns=e("span",{class:"material-icons text-gradient fs-4"},"shopping_cart",-1),Ms={class:"bg-white collapse navbar-collapse pb-4",ref:"searchCollapse"},Is={class:"container"},Ts=e("option",{value:"食譜搜尋"},"食譜搜尋",-1),Rs=e("option",{value:"產品搜尋"},"產品搜尋",-1),Ls=[Ts,Rs],Ss={key:0,class:"d-lg-none"},Ds=e("h5",{class:"text-center fw-bold"},"食譜搜尋",-1),Os={class:"list-unstyled"},Ps={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Vs=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),As=["value"],Bs={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Hs=e("label",{for:"category",class:"form-label fs-14"},"成本或評價",-1),Us=["value"],qs={class:"d-flex flex-column border-bottom border-lightBrownGray"},Gs=e("label",{for:"category",class:"form-label fs-14"},"由高到低或由低到高",-1),js=["value"],Es={class:"pt-2 border-0 position-relative"},Ks={class:"border rounded-pill border-primary"},Ys=e("span",{class:"material-icons-outlined text-primary"},"search",-1),zs=[Ys],Fs={key:1,class:"d-lg-none"},Ws=e("h5",{class:"text-center fw-bold"},"產品搜尋",-1),Js={class:"list-unstyled"},Qs={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Xs=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),Zs=["value"],eo={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},to=e("label",{for:"productPriceOrRate",class:"form-label fs-14"},"價格或評價",-1),so=["value"],oo={class:"d-flex flex-column border-bottom border-lightBrownGray"},lo=e("label",{for:"productHighOrLow",class:"form-label fs-14"},"由高到低或由低到高",-1),ao=["value"],no={class:"pt-2 border-0 position-relative"},ro={class:"border rounded-pill border-primary"},io=e("span",{class:"material-icons-outlined text-primary"},"search",-1),co=[io],uo=e("i",{class:"bi bi-chevron-up fs-5 text-white"},null,-1),ho=[uo],mo={key:0,class:"position-absolute text-primary fw-bold border border-primary alert-num rounded-circle fs-12 top-0 start-100 translate-middle"},po=e("i",{class:"bi bi-chat-dots fs-5 text-white"},null,-1),bo=E('<footer class="mt-auto position-relative bg-light-purple-secondary py-4"><div class="container d-flex flex-lg-row flex-column align-items-center justify-content-between"><div class="d-flex justify-content-center align-items-center mb-2 mb-lg-0"><img src="'+O+'" class="logo me-1" alt="logo"><div><p class="text-darkBrown mb-0 fs-6">甜點食譜一鍵購</p><p class="fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5">Easy Buy Easy Make</p></div></div><div><p class="mb-0 text-center text-lg-start fs-10">本網站僅作為網頁製作練習使用<br class="d-block d-lg-none"><span class="d-none d-lg-inline-block">，</span>圖片、資料源自網路，無任何商業利益行為</p><p class="mb-lg-0 fs-10">Copyright © 2022 甜點食譜一鍵購 All Rights Reserved.</p></div><ul class="text-center mb-0"><li class="hvr-bob me-3 ms-n3"><a href="https://www.facebook.com/profile.php?id=61551688473004" class="text-decoration-none link-primary"><i class="bi bi-facebook fs-lg-35 fs-3"></i></a></li><li class="hvr-bob"><a href="mailto:@EasyMakeEasyBuy.gmail.com" class="text-decoration-none link-primary"><i class="bi bi-envelope fs-lg-35 fs-3"></i></a></li></ul></div></footer>',1);function go(t,s,_,T,n,c){const d=M("RouterLink"),r=M("RouterView"),u=M("CartModal"),f=M("ChatModal");return l(),a("div",Xt,[e("header",Zt,[e("nav",{class:I(["navbar navbar-expand-lg navbar-light backdrop-blur-10 bg-transGray-4",{"bg-white":n.searchToggle}])},[e("div",es,[e("h1",ts,[m(d,{to:"/home",onClick:s[0]||(s[0]=o=>c.reload("/home")),class:"navbar-brand d-flex align-items-center"},{default:b(()=>[ss,os]),_:1})]),e("button",{class:"btn position-relative border-0 d-lg-none pb-0 me-md-3",onClick:s[1]||(s[1]=()=>this.$refs.cartModal.show())},[p(e("span",{class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-10 alert-num"},i(t.cartNum),513),[[B,t.cartNum!==0]]),ls]),m(d,{onClick:s[2]||(s[2]=o=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative pb-0 border-0 d-lg-none me-md-3"},{default:b(()=>[e("span",as,i(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[3]||(s[3]=()=>n.searchToggle=!n.searchToggle)},rs),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[4]||(s[4]=()=>n.menuToggle=!n.menuToggle)},ds),e("div",cs,[e("ul",us,[e("li",hs,[m(d,{to:"/recipes",onClick:s[5]||(s[5]=o=>c.reload("/recipes")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[g("甜點食譜")]),_:1})]),e("li",ms,[m(d,{to:"/products",onClick:s[6]||(s[6]=o=>c.reload("/products")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[g("材料購買")]),_:1})]),e("li",ps,[m(d,{to:"/discounts",onClick:s[7]||(s[7]=o=>c.reload("/discounts")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[g("優惠特報")]),_:1})]),e("li",bs,[m(d,{to:"/member",onClick:s[8]||(s[8]=o=>c.reload("/member")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[g("會員專區")]),_:1})])]),t.uid?t.uid?(l(),a("ul",_s,[t.user.admin?(l(),a("li",ys,[m(d,{to:"/admin/products",class:"nav-link"},{default:b(()=>[g("進入後台")]),_:1})])):h("",!0),e("li",vs,[t.user.headshotImg?(l(),a("img",{key:0,src:t.user.headshotImg,alt:"會員大頭貼",height:"50",width:"50",class:"rounded-circle object-fit-cover blur-shadow"},null,8,ks)):t.user.headshotImg?h("",!0):(l(),a("i",ws)),e("span",Cs,i(t.user.nickName),1)]),e("li",xs,[e("a",{href:"#",class:"nav-link",onClick:s[10]||(s[10]=R((...o)=>t.logout&&t.logout(...o),["prevent"]))},"登出")])])):h("",!0):(l(),a("ul",gs,[e("li",fs,[m(d,{to:"/loginSignup",onClick:s[9]||(s[9]=o=>c.reload("/signup")),class:"login-signup btn-outline-gradient px-3 text-decoration-none rounded-pill fs-md-6 fs-14 py-2 fw-bold"},{default:b(()=>[g("登入 / 註冊")]),_:1})])])),m(d,{onClick:s[11]||(s[11]=o=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative border-0 pb-0 d-none d-lg-block"},{default:b(()=>[e("span",$s,i(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"btn position-relative border-0 pb-0 d-none d-lg-block",onClick:s[12]||(s[12]=()=>this.$refs.cartModal.show())},[p(e("span",{class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-12 alert-num"},i(t.cartNum),513),[[B,t.cartNum!==0]]),Ns])],512)])],2),e("div",Ms,[e("div",Is,[p(e("select",{name:"",id:"",class:"form-select d-lg-none text-center mb-4","onUpdate:modelValue":s[13]||(s[13]=o=>n.searchItem=o)},Ls,512),[[w,n.searchItem]]),n.searchItem==="食譜搜尋"?(l(),a("div",Ss,[Ds,e("ul",Os,[e("li",Ps,[Vs,p(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[14]||(s[14]=o=>n.selectItem=o)},[(l(!0),a(y,null,v(n.selections.dessertCategory,o=>(l(),a("option",{key:o.icon,value:o.title},i(o.title),9,As))),128))],512),[[w,n.selectItem]])]),e("li",Bs,[Hs,p(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[15]||(s[15]=o=>n.priceOrRate=o)},[(l(!0),a(y,null,v(n.selections.rateOrCost,o=>(l(),a("option",{key:o,value:o},i(o),9,Us))),128))],512),[[w,n.priceOrRate]])]),e("li",qs,[Gs,p(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[16]||(s[16]=o=>n.highOrLow=o)},[(l(!0),a(y,null,v(n.selections.highOrLow,o=>(l(),a("option",{key:o,value:o},i(o),9,js))),128))],512),[[w,n.highOrLow]])])]),e("div",Es,[e("div",Ks,[p(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入甜點名稱","onUpdate:modelValue":s[17]||(s[17]=o=>n.recipeSearchName=o),onKeyup:s[18]||(s[18]=L((...o)=>c.searchRecipes&&c.searchRecipes(...o),["enter"]))},null,544),[[$,n.recipeSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[19]||(s[19]=(...o)=>c.searchRecipes&&c.searchRecipes(...o))},zs)])])])):h("",!0),n.searchItem==="產品搜尋"?(l(),a("div",Fs,[Ws,e("ul",Js,[e("li",Qs,[Xs,p(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[20]||(s[20]=o=>n.pageStatus=o)},[(l(!0),a(y,null,v(n.selections.productCategory,o=>(l(),a("option",{key:o.icon,value:o.title},i(o.title),9,Zs))),128))],512),[[w,n.pageStatus]])]),e("li",eo,[to,p(e("select",{name:"",id:"productPriceOrRate",class:"form-select border-0","onUpdate:modelValue":s[21]||(s[21]=o=>n.productPriceOrRate=o)},[(l(!0),a(y,null,v(n.selections.rateOrPrice,o=>(l(),a("option",{key:o,value:o},i(o),9,so))),128))],512),[[w,n.productPriceOrRate]])]),e("li",oo,[lo,p(e("select",{name:"",id:"productHighOrLow",class:"form-select border-0","onUpdate:modelValue":s[22]||(s[22]=o=>n.productHighOrLow=o)},[(l(!0),a(y,null,v(n.selections.highOrLow,o=>(l(),a("option",{key:o,value:o},i(o),9,ao))),128))],512),[[w,n.productHighOrLow]])])]),e("div",no,[e("div",ro,[p(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入產品名稱","onUpdate:modelValue":s[23]||(s[23]=o=>n.productSearchName=o),onKeyup:s[24]||(s[24]=L((...o)=>c.searchProducts&&c.searchProducts(...o),["enter"]))},null,544),[[$,n.productSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[25]||(s[25]=(...o)=>c.searchProducts&&c.searchProducts(...o))},co)])])])):h("",!0)])],512)]),(l(),z(r,{key:t.$route.fullPath,class:"flex-grow-1"})),m(u,{ref:"cartModal"},null,512),m(f,{ref:"chatModal"},null,512),e("button",{type:"button",ref:"upArrow",class:I(["rounded-circle py-2 px-13 bg-primary hvr-float position-fixed border-0 bottom-0 end-0 m-3 z-index-1 transition-fade",{fade:!n.showScrollArrow,show:n.showScrollArrow}]),onClick:s[26]||(s[26]=R((...o)=>t.goToTop&&t.goToTop(...o),["prevent"]))},ho,2),t.uid?(l(),a("button",{key:0,type:"button",class:"rounded-circle py-2 px-13 bg-primary hvr-float position-fixed border-0 bottom-0 end-0 mx-88 my-3 z-index-1",onClick:s[27]||(s[27]=()=>this.$refs.chatModal.show())},[this.$refs.chatModal&&this.$refs.chatModal.newChatNum!==0?(l(),a("span",mo,i(this.$refs.chatModal.newChatNum),1)):h("",!0),po])):h("",!0),bo])}const Mo=P(Qt,[["render",go]]);export{Mo as default};
