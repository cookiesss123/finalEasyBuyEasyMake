import{m as u,b as h}from"./axios-a250f0c8.js";import{c as a}from"./carts-5dc608e0.js";import{b6 as m,av as b,aj as r,l as d,m as t,t as p,b1 as y,aJ as s,F as f,at as g,k as c,r as v,s as l,a3 as n}from"./_plugin-vue_export-helper-68081c38.js";import"./vue-router-99ebe252.js";import"./_commonjsHelpers-042e6b4d.js";const O={data(){return{userId:"",token:"",nickName:""}},methods:{...u(a,["getOrders"])},mounted(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.userId=localStorage.getItem("userId"),this.userId=Number(this.userId),this.nickName=localStorage.getItem("nickName"),this.getOrders()},computed:{...h(a,["myOrder"])}},k={class:"py-100-sm-40"},N=v('<div class="container"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item fs-5"> 購物車 </li><li class="breadcrumb-item active fs-5 d-none d-lg-block" aria-current="page">填寫訂單資訊</li><li class="breadcrumb-item active fs-5 d-none d-lg-block" aria-current="page">訂單完成</li></ol></nav></div>',1),w={class:"container d-flex justify-content-center mt-5"},$={key:0,class:"col-6"},x={class:"row"},T=t("h1",{class:"text-center text-orange"},"恭喜您! 訂單建立完成",-1),C={class:"col-12 d-flex align-items-center"},S=t("span",{class:""},"詳細訂單狀況可到 會員專區 / 訂單狀況 查看",-1),I={class:"ms-auto"},V={class:"mb-5"},j={class:"card mb-3 border-0"},L={class:"row g-0"},q={class:"col-md-4"},B=["src"],D={class:"col-md-8"},z={class:"card-body"},A={class:"card-title mb-0 d-flex"},F={class:"ms-auto"},R={class:"card-text d-flex justify-content-end"},E={class:"mt-1"},J=t("br",null,null,-1),M={class:"mb-0 text-danger text-end"},P=t("hr",null,null,-1),U={class:"col-12"},G={class:"card border-0"},H={class:"card-body"},K={class:"table table-borderless"},Q=t("th",{class:"fw-normal"},"商品總金額",-1),W={class:"text-end fw-normal"},X=t("td",null,"運費",-1),Y={class:"text-end"},Z={key:0},tt=t("td",null,"優惠券折扣",-1),st={class:"text-end"},et={class:"border-top"},ot=t("td",{class:"fw-bold text-danger"},"總計金額",-1),lt={class:"text-end fw-bold text-danger"},rt={class:"col-12"},dt={class:"card border-0"},at={class:"card-body"},ct={class:"table table-borderless text-brown"},nt=t("th",{class:"fw-normal"},[t("i",{class:"bi bi-envelope-fill"}),l(" 信箱")],-1),it={class:"fw-normal"},_t=t("td",null,[t("i",{class:"bi bi-person-fill"}),l(" 收件人姓名")],-1),ut=t("td",null,[t("i",{class:"bi bi-telephone-fill"}),l(" 收件人電話")],-1),ht=t("td",null,[t("i",{class:"bi bi-house-fill"}),l(" 收件人地址")],-1),mt=t("tr",null,[t("td",null,[t("i",{class:"bi bi-wallet-fill"}),l(" 付款方式")]),t("td",null,"貨到付款")],-1),bt=t("td",null,[t("i",{class:"bi bi-chat-left-text-fill"}),l(" 留言")],-1);function pt(e,yt,ft,gt,vt,Ot){const i=b("RouterLink");return r(),d("div",k,[N,t("section",w,[e.myOrder.cart?(r(),d("div",$,[t("div",x,[T,t("div",C,[S,t("span",I,[p(i,{to:"/products",class:"btn btn-orange"},{default:y(()=>[l("繼續購物")]),_:1})])]),t("p",V,"訂單建立時間："+s(new Date(e.myOrder.creatAt).toLocaleDateString()),1),(r(!0),d(f,null,g(e.myOrder.cart.items,(o,_)=>(r(),d("div",{class:"col-12",key:_+756345},[t("div",j,[t("div",L,[t("div",q,[t("img",{src:o.product.imgUrl,class:"img-fluid rounded-start",style:{"object-fit":"cover",height:"100px",width:"200px"}},null,8,B)]),t("div",D,[t("div",z,[t("h5",A,[l(s(o.product.title)+" ",1),t("span",F,"x "+s(o.qty),1)]),t("div",R,[t("del",{class:n(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+s(o.product.originalPrice),3),t("span",E,[t("span",{class:n({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+s(o.product.price),3),l(" / "+s(o.product.num)+s(o.product.unit),1)]),J]),t("p",M,"小計：NT$ "+s(o.product.price*o.qty)+" / "+s(o.product.num*o.qty)+s(o.product.unit),1)])])])]),P]))),128)),t("div",U,[t("div",G,[t("div",H,[t("table",K,[t("thead",null,[t("tr",null,[Q,t("th",W,"NT$ "+s(e.myOrder.cart.total),1)])]),t("tbody",null,[t("tr",null,[X,t("td",Y,"NT$ "+s(e.myOrder.cart.deliveryCharge),1)]),e.myOrder.cart.total+e.myOrder.cart.deliveryCharge!==e.myOrder.cart.finalTotal&&e.myOrder.cart.coupon?(r(),d("tr",Z,[tt,t("td",st,"- NT$ "+s(Math.ceil(e.myOrder.cart.total*(e.myOrder.cart.coupon.discount/100))),1)])):c("",!0),t("tr",et,[ot,t("td",lt,"NT$ "+s(e.myOrder.cart.finalTotal),1)])])])])])]),t("div",rt,[t("div",dt,[t("div",at,[t("table",ct,[t("thead",null,[t("tr",null,[nt,t("th",it,s(e.myOrder.email),1)])]),t("tbody",null,[t("tr",null,[_t,t("td",null,s(e.myOrder.name),1)]),t("tr",null,[ut,t("td",null,s(e.myOrder.phoneNum),1)]),t("tr",null,[ht,t("td",null,s(e.myOrder.address),1)]),mt,t("tr",null,[bt,t("td",null,s(e.myOrder.message),1)])])])])])])])])):c("",!0)])])}const Tt=m(O,[["render",pt]]);export{Tt as default};
