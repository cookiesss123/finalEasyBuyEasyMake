import{m,b}from"./axios-bfb5b7ba.js";import{c}from"./carts-1385fab3.js";import{_ as p,U as r,V as t,Y as l,W as n,X as i,a0 as s,a1 as f,a2 as y,Z as _,a6 as g,r as v,o as d,a4 as u}from"./_plugin-vue_export-helper-cbb9d8af.js";import"./vue-router-1aba70ec.js";import"./_commonjsHelpers-042e6b4d.js";const O={data(){return{userId:"",token:"",nickName:"",user:{}}},methods:{...m(c,["getOrders"])},mounted(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.userId=localStorage.getItem("userId"),this.userId=Number(this.userId),this.nickName=localStorage.getItem("nickName"),this.getOrders()},computed:{...b(c,["myOrder"])}},k={class:"py-100-sm-40"},N=g('<div class="container"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item fs-5"> 購物車 </li><li class="breadcrumb-item active fs-5 d-none d-lg-block" aria-current="page">填寫訂單資訊</li><li class="breadcrumb-item active fs-5 d-none d-lg-block" aria-current="page">訂單完成</li></ol></nav></div>',1),w={class:"container d-flex justify-content-center mt-5"},$={key:0,class:"col-lg-6"},x={class:"row"},T=t("h1",{class:"h4 text-center text-orange"},"恭喜您! 訂單建立完成",-1),C={class:"col-12 d-flex flex-column"},S={class:""},I={class:"ms-auto"},V={class:"mb-2"},L={class:"card mb-3 border-0"},j={class:"row g-0"},q={class:"col-md-4"},B=["src"],D={class:"col-md-8"},z={class:"card-body"},A={class:"card-title mb-0 d-flex"},R={class:"ms-auto"},U={class:"card-text d-flex justify-content-end"},E={class:"mt-1"},F=t("br",null,null,-1),M={class:"mb-0 text-danger text-end"},P=t("hr",null,null,-1),W={class:"col-12"},X={class:"card border-0"},Y={class:"card-body"},Z={class:"table table-borderless"},G=t("th",{class:"fw-normal"},"商品總金額",-1),H={class:"text-end fw-normal"},J=t("td",null,"運費",-1),K={class:"text-end"},Q={key:0},tt=t("td",null,"優惠券折扣",-1),st={class:"text-end"},et={class:"border-top"},ot=t("td",{class:"fw-bold text-danger"},"總計金額",-1),lt={class:"text-end fw-bold text-danger"},rt={class:"col-12"},dt={class:"card border-0"},at={class:"card-body"},ct={class:"table table-borderless text-brown"},nt=t("th",{class:"fw-normal"},[t("i",{class:"bi bi-envelope-fill"}),l(" 信箱")],-1),it={class:"fw-normal"},_t=t("td",null,[t("i",{class:"bi bi-person-fill"}),l(" 收件人姓名")],-1),ut=t("td",null,[t("i",{class:"bi bi-telephone-fill"}),l(" 收件人電話")],-1),ht=t("td",null,[t("i",{class:"bi bi-house-fill"}),l(" 收件人地址")],-1),mt=t("tr",null,[t("td",null,[t("i",{class:"bi bi-wallet-fill"}),l(" 付款方式")]),t("td",null,"貨到付款")],-1),bt=t("td",null,[t("i",{class:"bi bi-chat-left-text-fill"}),l(" 留言")],-1);function pt(e,ft,yt,gt,vt,Ot){const a=v("RouterLink");return d(),r("div",k,[N,t("section",w,[e.myOrder.cart?(d(),r("div",$,[t("div",x,[T,t("div",C,[t("span",S,[l("會員可到 "),n(a,{to:"/member",class:"link-orange"},{default:i(()=>[l("會員專區")]),_:1}),l(" 查看訂單處理狀況")]),t("span",I,[n(a,{to:"/products",class:"btn btn-orange"},{default:i(()=>[l("繼續購物")]),_:1})])]),t("p",V,"訂單建立時間："+s(new Date(e.myOrder.creatAt).toLocaleDateString()),1),(d(!0),r(f,null,y(e.myOrder.cart.items,(o,h)=>(d(),r("div",{class:"col-12",key:h+756345},[t("div",L,[t("div",j,[t("div",q,[t("img",{src:o.product.imgUrl,class:"img-fluid rounded-start",style:{"object-fit":"cover",height:"100px",width:"200px"}},null,8,B)]),t("div",D,[t("div",z,[t("h5",A,[l(s(o.product.title)+" ",1),t("span",R,"x "+s(o.qty),1)]),t("div",U,[t("del",{class:u(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+s(o.product.originalPrice),3),t("span",E,[t("span",{class:u({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+s(o.product.price),3),l(" / "+s(o.product.num)+s(o.product.unit),1)]),F]),t("p",M,"小計：NT$ "+s(o.product.price*o.qty)+" / "+s(o.product.num*o.qty)+s(o.product.unit),1)])])])]),P]))),128)),t("div",W,[t("div",X,[t("div",Y,[t("table",Z,[t("thead",null,[t("tr",null,[G,t("th",H,"NT$ "+s(e.myOrder.cart.total),1)])]),t("tbody",null,[t("tr",null,[J,t("td",K,"NT$ "+s(e.myOrder.cart.deliveryCharge),1)]),e.myOrder.cart.total+e.myOrder.cart.deliveryCharge!==e.myOrder.cart.finalTotal&&e.myOrder.cart.coupon?(d(),r("tr",Q,[tt,t("td",st,"- NT$ "+s(Math.ceil(e.myOrder.cart.total*(e.myOrder.cart.coupon.discount/100))),1)])):_("",!0),t("tr",et,[ot,t("td",lt,"NT$ "+s(e.myOrder.cart.finalTotal),1)])])])])])]),t("div",rt,[t("div",dt,[t("div",at,[t("table",ct,[t("thead",null,[t("tr",null,[nt,t("th",it,s(e.myOrder.email),1)])]),t("tbody",null,[t("tr",null,[_t,t("td",null,s(e.myOrder.name),1)]),t("tr",null,[ut,t("td",null,s(e.myOrder.phoneNum),1)]),t("tr",null,[ht,t("td",null,s(e.myOrder.address),1)]),mt,t("tr",null,[bt,t("td",null,s(e.myOrder.message),1)])])])])])])])])):_("",!0)])])}const Tt=p(O,[["render",pt]]);export{Tt as default};
