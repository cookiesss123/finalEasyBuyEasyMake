import{l as I}from"./loadingStore-8666b706.js";import{f as h,m as v,R as L,h as N}from"./index-fc788f37.js";import{m as G}from"./modalMixin-1ccdf387.js";import{e as V,r as E,d as Y,c as w}from"./carts-e36b449b.js";import{_ as S,o as a,c as l,b as e,ao as i,ak as m,b7 as n,r as y,a as c,F as k,aY as _,aH as d,w as u}from"./_plugin-vue_export-helper-f96b5234.js";import{n as j}from"./numberCommaMixin-e0aac39c.js";import{d as f}from"./mainData-689bc34c.js";import{m as M}from"./bookmark-02b9897c.js";import{s as A}from"./publicData-f5d39529.js";import{B as F}from"./BannerComponent-e49de957.js";import{n as z}from"./runtime-dom.esm-bundler-5f84711a.js";import{_ as B}from"./image4-1806383b.js";import{_ as H}from"./icon-cart-796adfb7.js";import"./base-component-2499946e.js";const P={data(){return{bookMark:{},deleteId:""}},mixins:[G],props:["id","item","pageStatus","openDeleteModal"],methods:{...h(w,["toastMessage"]),deleteBookmark(){let s="recipeBookmarks";this.pageStatus==="product"&&(s="productBookmarks"),V(E(Y,`${s}/${this.uid}/${this.deleteId}`)),this.toastMessage("已刪除收藏"),this.hide()}},watch:{id(){this.id&&(this.show(),this.bookMark=this.item,this.deleteId=this.id,this.openDeleteModal("",""))}},computed:{...v(w,["uid"])},mounted(){}},U={class:"modal fade",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},q={class:"modal-dialog modal-dialog-centered"},J={class:"modal-content"},K=e("div",{class:"modal-header bg-dark"},[e("h5",{class:"modal-title text-white",id:"exampleModalLabel"}," 刪除收藏 "),e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),O={class:"modal-body"},Q={key:0},W={key:1},X={class:"text-danger fw-bold"},Z={class:"modal-footer"},ee=e("button",{type:"button",class:"btn btn-gray","data-bs-dismiss":"modal"},"關閉",-1);function te(s,p,x,T,r,g){return a(),l("div",U,[e("div",q,[e("div",J,[K,e("div",O,[e("p",null,[i("確定要刪除"),this.pageStatus==="recipe"?(a(),l("span",Q,"食譜")):this.pageStatus==="product"?(a(),l("span",W,"產品")):m("",!0),i("收藏 "),e("span",X," 【"+n(this.bookMark.title)+"】 ",1),i(" 嗎? ")])]),e("div",Z,[ee,e("button",{type:"button",class:"btn btn-danger",onClick:p[0]||(p[0]=()=>g.deleteBookmark())},"確認刪除")])])])],512)}const se=S(P,[["render",te]]),R="/finalEasyBuyEasyMake/assets/undraw_Appreciation_r2a1-776b7d68.png",oe={components:{RouterLink:L,DeleteBookmarksModal:se,BannerComponent:F},mixins:[j],data(){return{selections:A,uid:"",bookMarks:[],pageStatus:"recipe",deleteId:"",deleteItem:{},averageRate:[],recipeThumbs:[]}},methods:{...h(I,["startLoading"]),...h(w,["addCart","toastMessage","goToTop"]),...h(M,["getBookmarks"]),...h(f,["getThumbs","getRates"]),openDeleteModal(s,p){this.deleteId=s,this.deleteItem=p}},mounted(){this.startLoading(),this.goToTop(),this.getBookmarks("recipeBookmarks"),this.getBookmarks("productBookmarks"),this.getThumbs(),this.getRates()},watch:{recipeBookmarks(){}},computed:{...N(f,["discount"]),...v(M,["recipeBookmarks","productBookmarks"]),...v(f,["thumbs","rates"])}},ae={class:"no-scroll-x"},le={class:"container py-5"},re={class:"pt-lg-4 pt-3 position-relative"},ne={class:"category-selector row row-cols-2 list-unstyled border-bottom"},ie=["onClick"],de={class:"fs-12 fs-md-5 d-block pb-2"},me={class:"py-4"},ce={key:0,class:"row row-cols-xl-4 row-cols-lg-3 row-cols-2 gy-4"},be={class:"card position-relative"},ue=["src","alt"],pe={class:"badge rounded-pill bg-primary position-absolute start-0 bottom-0 m-3"},ge=e("p",{class:"detail position-absolute top-50 start-50 translate-middle fw-bold letter-spacing-5 link-darkBrown fs-xl-5 text-center"},[i("查看"),e("br",{class:"d-xl-none d-lg-block"}),i("詳細食譜")],-1),he=["onClick"],ke=e("img",{src:B,alt:"收藏按鈕-已收藏"},null,-1),_e=[ke],ye={class:"fw-bold fs-md-5 fs-6"},fe={class:"d-flex align-items-center flex-wrap fs-md-6 fs-12"},ve=e("i",{class:"bi bi-hand-thumbs-up-fill"},null,-1),we={key:2,class:"badge rounded-pill ms-auto border mt-1 mt-md-0 border-gray bg-whiteGray text-gray"},Be=e("i",{class:"bi bi-hand-thumbs-up-fill"},null,-1),Ce={key:1,class:"row row-cols-xl-4 row-cols-lg-3 row-cols-2 gy-4"},Me={class:"card position-relative"},Se={class:"card-img-hover position-relative"},Re=["src","alt"],xe=e("p",{class:"detail position-absolute top-50 start-50 translate-middle fw-bold letter-spacing-5 link-darkBrown fs-xl-5 text-center"},[i("查看"),e("br",{class:"d-xl-none d-lg-block"}),i("商品資訊")],-1),Te={key:0,class:"fs-md-14 fs-12 text-white p-2 bg-primary position-absolute top-0 start-0"},De=["onClick"],$e=e("img",{src:B,alt:"收藏按鈕-未收藏"},null,-1),Ie=[$e],Le=["onClick"],Ne=e("img",{src:B,alt:"收藏按鈕-已收藏"},null,-1),Ge=[Ne],Ve=["onClick"],Ee=e("img",{src:H,alt:"購物車按鈕",class:"shadow-sm"},null,-1),Ye=[Ee],je={class:"fs-md-5 fs-6 fw-bold"},Ae={class:"d-flex align-items-lg-center fs-md-6 fs-12"},Fe=e("i",{class:"bi bi-star-fill"},null,-1),ze={key:1,class:"badge rounded-pill ms-auto border d-none d-md-block bg-whiteGray text-gray border-gray"},He=e("i",{class:"bi bi-star-fill"},null,-1),Pe={class:"text-end mt-1 d-md-none fs-12"},Ue=e("i",{class:"bi bi-star-fill"},null,-1),qe={key:1,class:"badge rounded-pill ms-auto border d-md-none bg-whiteGray text-gray border-gray"},Je=e("i",{class:"bi bi-star-fill"},null,-1),Ke={key:2,class:"py-lg-4 text-center"},Oe=e("img",{src:R,class:"mb-lg-3 mb-2 img-md-200-sm-150",alt:"收藏大圖示"},null,-1),Qe=e("p",{class:"fs-lg-3 fs-6 mb-lg-3 mb-2"},"您尚無任何食譜收藏",-1),We={key:3,class:"py-lg-4 text-center"},Xe=e("img",{src:R,class:"mb-lg-3 mb-2 img-md-200-sm-150",alt:"收藏大圖示"},null,-1),Ze=e("p",{class:"fs-lg-3 fs-6 mb-lg-3 mb-2"},"您尚無任何材料收藏",-1);function et(s,p,x,T,r,g){const D=y("BannerComponent"),b=y("RouterLink"),$=y("DeleteBookmarksModal");return a(),l("div",ae,[c(D),e("section",le,[e("div",re,[e("ul",ne,[(a(!0),l(k,null,_(r.selections.bookmarks,t=>(a(),l("li",{key:t.icon,class:d(["col text-center",{"pointer-events-none":r.pageStatus===t.value}])},[e("a",{href:"#",onClick:z(()=>r.pageStatus=t.value,["prevent"]),class:d(["text-decoration-none d-inline-block",{"fw-bold":r.pageStatus===t.value,"link-primary":r.pageStatus===t.value}])},[r.pageStatus!==t.value?(a(),l("i",{key:0,class:d([t.icon,"text-gray"])},null,2)):m("",!0),r.pageStatus===t.value?(a(),l("i",{key:1,class:d([t.iconSelected,"text-primary"])},null,2)):m("",!0),e("span",de,n(t.title),1)],10,ie)],2))),128))]),e("div",{class:d(["blue-line bg-primary position-absolute",{"active-recipes":r.pageStatus==="recipe","active-products":r.pageStatus==="product"}])},null,2)]),e("div",me,[r.pageStatus==="recipe"?(a(),l("div",ce,[(a(!0),l(k,null,_(s.recipeBookmarks,(t,o)=>(a(),l("div",{class:"col",key:t.id},[e("div",be,[c(b,{to:`/recipes/${t.id}`,class:"card-img-hover position-relative"},{default:u(()=>[e("img",{src:t.image,class:"object-fit-cover card-img",alt:t.title},null,8,ue),e("span",pe,n(t.category),1),ge]),_:2},1032,["to"]),e("button",{type:"button",class:"position-absolute btn-bookmark border-0 bg-transparent top-0 end-0 m-2 m-md-3",onClick:()=>g.openDeleteModal(t.id,t)},_e,8,he),c(b,{to:`/recipes/${t.id}`,class:"card-body px-0 text-decoration-none link-darkBrown"},{default:u(()=>[e("h3",ye,n(t.title),1),e("div",fe,[t.total?(a(),l("del",{key:0,class:d(["me-2 text-muted",{"d-none":t.price===t.total}])},"NT$ "+n(s.numberComma(t.total)),3)):m("",!0),e("span",{class:d(["me-1",{"text-danger":t.price!==t.total,"fw-bold":t.price!==t.total}])},"NT$ "+n(s.numberComma(t.price)),3),e("span",null," / "+n(t.content),1),s.thumbs[o]?(a(),l("span",{key:1,class:d(["badge rounded-pill ms-auto border mt-1 mt-md-0",{"border-primary":s.thumbs[o].thumbs!==0,"border-gray":s.thumbs[o].thumbs===0,"text-primary":s.thumbs[o].thumbs!==0,"text-gray":s.thumbs[o].thumbs===0,"bg-secondary":s.thumbs[o].thumbs!==0,"bg-whiteGray":s.thumbs[o].thumbs===0}])},[i(n(s.thumbs[o].thumbs)+" ",1),ve],2)):s.thumbs[o]?m("",!0):(a(),l("span",we,[i(" 0 "),Be]))])]),_:2},1032,["to"])])]))),128))])):r.pageStatus==="product"?(a(),l("div",Ce,[(a(!0),l(k,null,_(s.productBookmarks,(t,o)=>(a(),l("div",{class:"col",key:t.id},[e("div",Me,[e("div",Se,[c(b,{to:`/products/${t.id}`},{default:u(()=>[e("img",{src:t.imgUrl,class:"object-fit-cover card-img",alt:t.title},null,8,Re),xe,t.isCheaper?(a(),l("span",Te,n(s.discount(t))+" 折 ",1)):m("",!0)]),_:2},1032,["to"]),e("button",{type:"button",class:"position-absolute btn-bookmark border-0 bg-transparent top-0 end-0 m-2 m-md-3",onClick:()=>g.openDeleteModal(t.id,t)},Ie,8,De),(a(!0),l(k,null,_(r.bookMarks,C=>(a(),l("div",{key:C},[C===t.id?(a(),l("button",{key:0,type:"button",class:"position-absolute btn-bookmark-delete border-0 bg-transparent top-0 end-0 m-2 m-md-3",onClick:()=>s.deleteBookmark(t.id)},Ge,8,Le)):m("",!0)]))),128)),e("button",{onClick:()=>s.addCart(t),type:"button",class:"btn-buy border-0 bg-transparent m-2 m-md-3 p-0 position-absolute end-0 bottom-0"},Ye,8,Ve)]),c(b,{to:`/products/${t.id}`,class:"card-body px-0 text-decoration-none link-darkBrown"},{default:u(()=>[e("h3",je,n(t.title),1),e("div",Ae,[e("del",{class:d(["me-2 text-muted",{"d-none":!t.isCheaper}])},"NT$ "+n(s.numberComma(t.originalPrice)),3),e("span",{class:d(["me-1",{"text-danger":t.isCheaper,"fw-bold":t.isCheaper}])},"NT$ "+n(s.numberComma(t.price)),3),e("span",null," / "+n(t.num)+n(t.unit),1),s.rates[o]?(a(),l("span",{key:0,class:d(["badge rounded-pill ms-auto border d-none d-md-block",{"text-yellow":s.rates[o].averageRate,"border-yellow":s.rates[o].averageRate,"bg-lightYellow":s.rates[o].averageRate,"bg-whiteGray":!s.rates[o].averageRate,"text-gray":!s.rates[o].averageRate,"border-gray":!s.rates[o].averageRate}])},[i(n(s.rates[o].averageRate)+" ",1),Fe],2)):s.rates[o]?m("",!0):(a(),l("span",ze,[i(" 0 "),He]))]),e("div",Pe,[s.rates[o]?(a(),l("span",{key:0,class:d(["badge rounded-pill ms-auto border d-md-none",{"text-yellow":s.rates[o].averageRate,"border-yellow":s.rates[o].averageRate,"bg-lightYellow":s.rates[o].averageRate,"bg-whiteGray":!s.rates[o].averageRate,"text-gray":!s.rates[o].averageRate,"border-gray":!s.rates[o].averageRate}])},[i(n(s.rates[o].averageRate)+" ",1),Ue],2)):s.rates[o]?m("",!0):(a(),l("span",qe,[i(" 0 "),Je]))])]),_:2},1032,["to"])])]))),128))])):m("",!0),!s.recipeBookmarks&&r.pageStatus==="recipe"?(a(),l("div",Ke,[Oe,Qe,c(b,{to:"/recipes",class:"link-primary fs-lg-5"},{default:u(()=>[i("前往瀏覽食譜")]),_:1})])):!s.productBookmarks&&r.pageStatus==="product"?(a(),l("div",We,[Xe,Ze,c(b,{to:"/products",class:"link-primary fs-lg-5"},{default:u(()=>[i("前往瀏覽食譜材料")]),_:1})])):m("",!0)])]),c($,{id:r.deleteId,item:r.deleteItem,"page-status":r.pageStatus,"open-delete-modal":g.openDeleteModal},null,8,["id","item","page-status","open-delete-modal"])])}const gt=S(oe,[["render",et]]);export{gt as default};
