import{m as x,e as w}from"./index-a9d6be75.js";import{c as h}from"./carts-810a7b65.js";import{n as N}from"./numberCommaMixin-e0aac39c.js";import{v as C}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as V,a7 as d,a8 as s,N as k,ae as T,ad as o,aa as m,ab as u,F as i,a9 as _,ag as q,r as f,o as c,af as n,ac as M}from"./_plugin-vue_export-helper-d28549df.js";const z={data(){return{user:{email:"",name:"",phoneNum:"",address:"",message:""}}},mixins:[N],methods:{...x(h,["addOrder"]),isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"}},mounted(){this.goToTop()},computed:{...w(h,["cart","cartItems","goToTop"])}},j={class:"no-scroll-x"},D=s("section",{class:"text-center","data-aos":"fade-up"},[s("div",{class:"py-lg-200 py-96 bg-cover-center",style:{"background-image":"url('https://images.unsplash.com/photo-1681923786169-67be8db99af6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"}}),s("h2",{class:"text-purple mb-0 fs-lg-1 fs-5 letter-spacing-20 ps-3 fw-bold bg-secondary-light-purple-horizontal py-2"},"結帳")],-1),F={class:"container my-5"},U=q('<div class="position-relative w-100 mt-lg-5 my-5"><div class="line-gray border-top position-absolute border-2 z-index-n1 start-50 translate-middle-x" style="top:25%;"></div><div class="line-blue-50 line-blue-50-animation border-top border-primary position-absolute border-2 z-index-n1"></div><ul class="list-unstyled d-flex justify-content-between text-gray"><li class="d-flex flex-column align-items-center"><div class="circle bg-primary d-flex align-items-center justify-content-center mb-2 ms-n2"><i class="bi bi-check-lg fs-lg-4 text-white"></i></div><p class="fs-lg-6 fs-14">確認購物車品項</p></li><li class="d-flex flex-column align-items-center"><div class="circle circle-animation fs-lg-4 d-flex align-items-center justify-content-center mb-2"> 2 </div><p class="text-gray-to-primary-2 fs-lg-6 fs-14">填寫訂單資訊</p></li><li class="d-flex flex-column align-items-center"><div class="circle border border-gray bg-white fs-lg-4 d-flex align-items-center justify-content-center mb-2"> 3 </div><p class="fs-lg-6 fs-14">成功下訂</p></li></ul></div>',1),B={class:"row row-cols-1 row-cols-lg-2 g-5"},S={class:"col d-flex flex-column"},P=s("h4",{class:"text-center fw-bold mb-4 bg-secondary py-2"},"商品確認",-1),A={class:"list-unstyled mb-0"},E={class:"card"},H={class:"row g-0"},L={class:"col-4"},O=["src","alt"],W={class:"col-8"},G={class:"card-body d-flex flex-column h-100 pb-0"},I={class:"d-flex mb-auto"},R={class:"card-title fs-lg-6 fs-14 mb-0"},Y={class:"ms-auto"},J={class:"card-text text-end"},K={key:0,class:"mb-0 text-danger fw-bold"},Q={key:1,class:"mb-0 text-danger fw-bold"},X=s("hr",null,null,-1),Z={class:"table table-borderless"},$=s("th",{class:"fw-normal"},"商品總金額",-1),ss={class:"text-end fw-normal"},es={key:0},ts={class:"text-end"},ls={key:0},os=s("td",null,"優惠券折扣",-1),as={class:"text-end"},rs={class:"border-top bg-secondary"},ns=s("td",{class:"fw-bold text-danger"},"總計金額",-1),is={class:"text-end fw-bold text-danger"},ds={key:0},cs={key:1},ms={class:"mt-auto"},us=s("i",{class:"bi bi-arrow-left"},null,-1),ps={class:"col"},bs=s("h4",{class:"text-center fw-bold mb-4 bg-lightPurple py-2"},"填寫收件人資訊",-1),fs={class:"row gy-4 d-flex text-gray fs-lg-5"},hs={class:"col-12"},_s=s("i",{class:"bi bi-envelope-fill"},null,-1),gs=s("span",{class:"text-danger fs-4 ms-2"},"*",-1),ys={class:"col-12"},vs=s("i",{class:"bi bi-person-fill"},null,-1),xs=s("span",{class:"text-danger fs-4 ms-2"},"*",-1),ws={class:"col-12"},Ns=s("i",{class:"bi bi-telephone-fill"},null,-1),Cs=s("span",{class:"text-danger fs-4 ms-2"},"*",-1),Vs={class:"col-12"},ks=s("i",{class:"bi bi-house-fill"},null,-1),Ts=s("span",{class:"text-danger fs-4 ms-2"},"*",-1),qs=s("div",{class:"col-12 position-relative"},[s("label",{for:"payWay",class:"form-label text-primary"},[s("i",{class:"bi bi-wallet-fill"}),m(" 付款方式"),s("span",{class:"text-danger fs-4 ms-2"},"*")]),s("input",{type:"text",class:"form-control",id:"payWay",value:"貨到付款",disabled:""}),s("i",{class:"fs-4 text-success bi bi-check-lg position-absolute",style:{top:"40px",right:"20px"}}),s("p",{class:"text-muted",style:{"font-size":"14px"}},"注意：本店一律採貨到付款的方式喔!")],-1),Ms={class:"col-12"},zs=s("i",{class:"bi bi-chat-left-text-fill"},null,-1),js=s("span",{class:"text-muted ms-2",style:{"font-size":"14px"}},"(可不填寫)",-1),Ds=s("p",{class:"text-muted",style:{"font-size":"14px"}},"有任何問題或是貨品相關注意事項都歡迎與我們聯繫~",-1),Fs=s("div",{class:"col-12 mt-4"},[s("button",{type:"submit",class:"hvr-sweep-to-right btn btn-primary fw-bold rounded-0 px-4 shadow-lg w-100"},"確認建立訂單")],-1);function Us(t,a,Bs,Ss,l,g){const y=f("RouterLink"),p=f("VField"),b=f("ErrorMessage"),v=f("VForm");return c(),d("div",j,[D,s("section",F,[U,s("div",B,[s("div",S,[P,s("ul",A,[(c(!0),d(k,null,T(t.cartItems,(e,r)=>(c(),d("li",{key:r+756345},[s("div",E,[s("div",H,[s("div",L,[s("img",{src:e.product.imgUrl,alt:e.product.title,class:"img-fluid w-100 object-fit-cover",style:{height:"130px"}},null,8,O)]),s("div",W,[s("div",G,[s("div",I,[s("h5",R,o(e.product.title),1),s("span",Y,"x "+o(t.numberComma(e.qty)),1)]),s("div",J,[s("del",{class:n(["me-2 text-muted fs-14",{"d-none":!e.product.isCheaper}])},"NT$ "+o(t.numberComma(e.product.originalPrice)),3),s("span",{class:n({"text-danger":e.product.isCheaper,"fw-bold":e.product.isCheaper})},"NT$ "+o(t.numberComma(e.product.price)),3),s("span",null," / "+o(e.product.num)+o(e.product.unit),1),e.product.category!=="組合包"?(c(),d("p",K,"小計：NT$ "+o(t.numberComma(e.product.price*e.qty))+" / "+o(t.numberComma(e.product.num*e.qty))+o(e.product.unit),1)):u("",!0),e.product.category==="組合包"?(c(),d("p",Q,"小計：NT$ "+o(t.numberComma(e.product.price*e.qty))+" / "+o(t.numberComma(e.qty))+"組",1)):u("",!0)])])])])]),X]))),128))]),s("table",Z,[s("thead",null,[s("tr",null,[$,s("th",ss,"NT$ "+o(t.numberComma(t.cart.total)),1)])]),s("tbody",null,[s("tr",null,[s("td",null,[m("運費"),t.cart.total>=1e3?(c(),d("span",es,"（滿千元免運）")):u("",!0)]),s("td",ts," NT$ "+o(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(c(),d("tr",ls,[os,s("td",as,"- NT$ "+o(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):u("",!0),s("tr",rs,[ns,s("td",is,[t.cart.total<1e3?(c(),d("span",ds,"NT$ "+o(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(c(),d("span",cs,"NT$ "+o(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):u("",!0)])])])]),s("div",ms,[i(y,{to:"/products",class:"hvr-sweep-to-left btn text-primary border-primary"},{default:_(()=>[us,m(" 繼續選購")]),_:1})])]),s("div",ps,[bs,i(v,{ref:"form",onSubmit:a[5]||(a[5]=()=>t.addOrder(l.user.email,l.user.name,l.user.phoneNum,l.user.address,l.user.message))},{default:_(({errors:e})=>[s("div",fs,[s("div",hs,[s("label",{for:"email",class:n(["form-label",{"text-primary":l.user.email&&!e.信箱}])},[_s,m(" 信箱"),gs],2),i(p,{id:"email",name:"信箱",type:"email",class:n(["form-control border-0 border-bottom",{"is-invalid":e.信箱,"is-valid":l.user.email&&!e.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:l.user.email,"onUpdate:modelValue":a[0]||(a[0]=r=>l.user.email=r)},null,8,["class","modelValue"]),i(b,{name:"信箱",class:"invalid-feedback"})]),s("div",ys,[s("label",{for:"name",class:n(["form-label",{"text-primary":l.user.name&&!e.收件人姓名}])},[vs,m(" 收件人姓名"),xs],2),i(p,{id:"name",name:"收件人姓名",type:"name",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人姓名,"is-valid":!e.收件人姓名&&l.user.name}]),placeholder:"請輸入您的收件人姓名",rules:"required",modelValue:l.user.name,"onUpdate:modelValue":a[1]||(a[1]=r=>l.user.name=r)},null,8,["class","modelValue"]),i(b,{name:"收件人姓名",class:"invalid-feedback"})]),s("div",ws,[s("label",{for:"phoneNum",class:n(["form-label",{"text-primary":l.user.phoneNum&&!e.收件人電話}])},[Ns,m(" 收件人電話"),Cs],2),i(p,{id:"phoneNum",name:"收件人電話",type:"phoneNum",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人電話,"is-valid":!e.收件人電話&&l.user.phoneNum}]),placeholder:"請輸入您的收件人電話",rules:g.isPhone,modelValue:l.user.phoneNum,"onUpdate:modelValue":a[2]||(a[2]=r=>l.user.phoneNum=r)},null,8,["class","rules","modelValue"]),i(b,{name:"收件人電話",class:"invalid-feedback"})]),s("div",Vs,[s("label",{for:"address",class:n(["form-label",{"text-primary":l.user.address&&!e.收件人地址}])},[ks,m(" 收件人地址"),Ts],2),i(p,{id:"address",name:"收件人地址",type:"address",class:n(["form-control border-0 border-bottom",{"is-invalid":e.收件人地址,"is-valid":!e.收件人地址&&l.user.address}]),placeholder:"請輸入您的收件人地址",rules:"required",modelValue:l.user.address,"onUpdate:modelValue":a[3]||(a[3]=r=>l.user.address=r)},null,8,["class","modelValue"]),i(b,{name:"收件人地址",class:"invalid-feedback"})]),qs,s("div",Ms,[s("label",{for:"message",class:n(["form-label",{"text-primary":l.user.message}])},[zs,m(" 留言")],2),js,M(s("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":a[4]||(a[4]=r=>l.user.message=r)},null,512),[[C,l.user.message]]),Ds]),Fs])]),_:1},512)])])])])}const Os=V(z,[["render",Us]]);export{Os as default};
