import{m as L,a as O}from"./index-6af516ba.js";import{c as C}from"./carts-32b42ff3.js";import{R as G,b as K}from"./vue-router-46224dd8.js";import{C as B}from"./collapse-6026b968.js";import{m as U}from"./modalMixin-f99c1c1a.js";import{n as q}from"./numberCommaMixin-e0aac39c.js";import{o as j,r as v,d as k,b as $,a as E,s as H}from"./db-143b9a4b.js";import{v as x,w as D,d as S,b as y}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as P}from"./loadingLogo-ea15f612.js";import{_ as V,o as l,a7 as n,a8 as e,ad as r,ab as u,aa as p,c as T,N as I,ae as R,F as m,a9 as b,af as N,ac as g,r as w,ag as A}from"./_plugin-vue_export-helper-d28549df.js";import"./_commonjsHelpers-042e6b4d.js";import"./base-component-5a126788.js";const z="/finalEasyBuyEasyMake/assets/undraw_shopping_app_flsj-3a31e3be.png";const F={data(){return{code:"",uid:"",user:{}}},mixins:[U,q],methods:{...L(C,["updateCartNum","changeCartNum","handleKeyDown","deleteCart","deleteAllCarts","getCoupons","checkCoupon","reUseCoupon","getCart","toastMessage"]),cancelCoupon(){this.code="",this.reUseCoupon()},clearAllCarts(){this.code="",this.deleteAllCarts(),this.toastMessage("已清空遊客購物車")},getCartData(){j(E,t=>{if(t){this.uid=t.uid,this.getCart(this.uid);const s=v(k,"users/"+t.uid);$(s,f=>{this.user=f.val()})}else this.uid=null,this.user={},this.getCart("1")})}},mounted(){this.getCoupons(),this.getCartData()},watch:{"$route.fullPath"(t){t==="/checkout"?(this.code="",this.hide()):t.includes("/products")&&this.hide()}},computed:{...O(C,["cart","cartItems","cartNum","loadingItem"])}},Y={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{"overflow-y":"hidden"}},W={class:"modal-dialog modal-fullscreen-md-down w-100",style:{"margin-right":"0","margin-top":"0"}},J={class:"modal-content",style:{height:"100vh","overflow-y":"auto"}},Q={class:"modal-header bg-primary rounded-0"},X={key:0,class:"modal-title text-white"},Z=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ee={class:"modal-body"},te={key:0},se={key:0,class:"row gy-3 row-cols-1 px-3"},oe={class:"col-12 d-flex"},le=["disabled"],ae=e("i",{class:"bi bi-cart-x-fill"},null,-1),ne={class:"card border-0 mb-3",style:{"max-width":"540px",height:"130px"}},ie={class:"row g-0"},re=["src"],de={class:"col-8"},ce={class:"card-body"},ue={class:"card-title d-flex",style:{"font-size":"16px"}},he=["onClick"],me={class:"card-text d-flex justify-content-end"},pe={class:"mt-1"},be=e("br",null,null,-1),ge={key:0,class:"mb-0 text-danger text-end fw-bold"},fe={key:1,class:"mb-0 text-danger text-end fw-bold"},_e={class:"d-flex justify-content-end align-items-center mt-2"},ye=["disabled","onClick"],ve={key:0},ke=["onUpdate:modelValue","onChange"],we=["disabled","onClick"],Ce={key:0},xe=e("div",{class:"border"},null,-1),$e={class:"col-12"},Ne=e("label",{for:"code",class:"col-3 form-label"},"優惠碼",-1),Me={key:0,class:"input-group mb-3"},Te={key:1,class:"input-group mb-3"},Ie=["value"],Re={class:"table table-borderless"},Se=e("th",{class:"fw-normal"},"商品總金額",-1),De={class:"text-end fw-normal"},Le={key:0},Oe={class:"text-end"},Pe={key:0},Ve={class:"text-end"},Ae={class:"border-top"},Be=e("td",{class:"fw-bold text-danger"},"總計金額",-1),He={class:"text-end fw-bold text-danger"},Ue={key:0},qe={key:1},je=e("i",{class:"bi bi-cart-check-fill"},null,-1),Ee={key:1,class:"text-center"},Ge=e("img",{src:z,width:"300",class:"mb-3",alt:""},null,-1),Ke=e("h5",{class:"text-center"},"您的購物車是空的",-1),ze={key:1,class:"h-100 d-flex"},Fe=A('<h3 class="m-auto"><img src="'+P+'" class="loadingLogo mb-3" style="width:100px;" alt=""><span class="animate-text me-1">結</span><span class="animate-text me-1">帳</span><span class="animate-text me-1">中</span><span class="animate-text me-1">.</span><span class="animate-text me-1">.</span><span class="animate-text">.</span></h3>',1),Ye=[Fe];function We(t,s,f,M,a,c){const d=w("font-awesome-icon"),h=w("RouterLink");return l(),n("div",Y,[e("div",W,[e("div",J,[e("div",Q,[a.uid?(l(),n("h5",X,r(a.user.nickName)+" 的購物車 ",1)):u("",!0),Z]),e("div",ee,[this.$route.fullPath!=="/checkout"?(l(),n("div",te,[t.cartItems.length!==0?(l(),n("div",se,[e("div",oe,[e("button",{type:"button",class:"ms-auto btn btn-outline-danger rounded-0",onClick:s[0]||(s[0]=(...o)=>c.clearAllCarts&&c.clearAllCarts(...o)),disabled:t.loadingItem==="loading"},[ae,p(" 清空購物車 "),t.loadingItem==="loading"?(l(),T(d,{key:0,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],8,le)]),(l(!0),n(I,null,R(t.cartItems,(o,_)=>(l(),n("div",{class:"col-12",key:_+756345},[e("div",ne,[e("div",ie,[m(h,{to:`/products/${o.product.id}`,class:"col-4"},{default:b(()=>[e("img",{src:o.product.imgUrl,class:"img-fluid h-100 w-100",style:{"object-fit":"cover","max-height":"130px"}},null,8,re)]),_:2},1032,["to"]),e("div",de,[e("div",ce,[e("h5",ue,[m(h,{to:`/products/${o.product.id}`,class:"link-darkBrown"},{default:b(()=>[p(r(o.product.title),1)]),_:2},1032,["to"]),e("button",{onClick:()=>t.deleteCart(o.product),type:"button",class:"p-0 ms-auto btn-close m-0","aria-label":"Close",style:{width:"15px"}},null,8,he)]),e("div",me,[e("del",{class:N(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+r(t.numberComma(o.product.originalPrice)),3),e("span",pe,[e("span",{class:N({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+r(t.numberComma(o.product.price)),3),p(" / "+r(o.product.num)+r(o.product.unit),1)]),be]),o.product.category!=="組合包"?(l(),n("p",ge,"小計：NT$ "+r(t.numberComma(o.product.price*o.qty))+" / "+r(t.numberComma(o.product.num*o.qty))+r(o.product.unit),1)):u("",!0),o.product.category==="組合包"?(l(),n("p",fe,"小計：NT$ "+r(t.numberComma(o.product.price*o.qty))+" / "+r(t.numberComma(o.qty))+"組",1)):u("",!0),e("div",_e,[e("button",{disabled:t.loadingItem==="loading",class:N(["btn btn-sm btn-primary rounded-circle",{disabled:o.qty===1}]),style:{width:"30px",height:"30px"},type:"button",id:"button-addon2",onClick:()=>t.updateCartNum("reduce",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),n("span",ve,"-")):t.loadingItem==="loading"?(l(),T(d,{key:1,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],10,ye),g(e("input",{type:"number",class:"form-control border-0 text-center","onUpdate:modelValue":i=>o.qty=i,onChange:i=>t.changeCartNum(o.product,o.qty,i),style:{width:"70px"},onKeydown:s[1]||(s[1]=(...i)=>t.handleKeyDown&&t.handleKeyDown(...i))},null,40,ke),[[x,o.qty,void 0,{number:!0}]]),e("button",{disabled:t.loadingItem==="loading",class:"btn btn-sm btn-primary rounded-circle",style:{width:"30px",height:"30px"},type:"button",id:"button-addon2",onClick:()=>t.updateCartNum("add",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),n("span",Ce,"+")):t.loadingItem==="loading"?(l(),T(d,{key:1,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],8,we)])])])])]),xe]))),128)),e("div",$e,[Ne,t.cart.total+t.cart.deliveryCharge===t.cart.finalTotal?(l(),n("div",Me,[g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>a.code=o)},null,512),[[x,a.code]]),e("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:s[3]||(s[3]=()=>t.checkCoupon(a.code))},"套用優惠碼")])):t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal?(l(),n("div",Te,[t.cart.coupon?(l(),n("input",{key:0,type:"text",class:"form-control",value:t.cart.coupon.code,disabled:""},null,8,Ie)):u("",!0),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:s[4]||(s[4]=(...o)=>c.cancelCoupon&&c.cancelCoupon(...o))},"取消")])):u("",!0),e("table",Re,[e("thead",null,[e("tr",null,[Se,e("th",De,"NT$ "+r(t.numberComma(t.cart.total)),1)])]),e("tbody",null,[e("tr",null,[e("td",null,[p("運費"),t.cart.total>=1e3?(l(),n("span",Le,"(滿千元免運)")):u("",!0)]),e("td",Oe," NT$ "+r(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(l(),n("tr",Pe,[e("td",null,"優惠券折扣 - "+r(t.cart.coupon.title),1),e("td",Ve,"- NT$ "+r(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):u("",!0),e("tr",Ae,[Be,e("td",He,[t.cart.total<1e3?(l(),n("span",Ue,"NT$ "+r(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(l(),n("span",qe,"NT$ "+r(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):u("",!0)])])])])]),m(h,{to:"/checkout",type:"button",class:"hvr-sweep-to-right btn btn-primary rounded-0"},{default:b(()=>[je,p(" 前往結帳")]),_:1})])):t.cartNum===0?(l(),n("div",Ee,[Ge,Ke,m(h,{class:"link-primary h5",to:"/products"},{default:b(()=>[p("前往選購商品")]),_:1})])):u("",!0)])):this.$route.fullPath==="/checkout"?(l(),n("div",ze,Ye)):u("",!0)])])])],512)}const Je=V(F,[["render",We]]);const Qe={data(){return{uid:"",user:{},message:"",chats:[],newChatNum:0,oneChats:[],openId:""}},mixins:[U,q],methods:{...L(C,["updateCartNum","toastMessage"]),getMessages(){j(E,t=>{if(t){this.uid=t.uid;const s=v(k,"users/"+t.uid);$(s,f=>{if(this.user=f.val(),this.user.admin){const a=v(k,"chats/");$(a,c=>{this.chats=c.val();let d=0;if(!this.chats){this.newChatNum=0;return}Object.values(this.chats).forEach(h=>{if(h.nickName!=="甜點食譜一鍵購客服"){let _=[...h].reverse().findIndex(i=>i.nickName==="甜點食譜一鍵購客服");_===-1&&(_=h.length),h.newChatNum=_,d+=_}else h.nickName==="甜點食譜一鍵購客服"&&(h.newChatNum=0)}),this.newChatNum=d});return}const M=v(k,`chats/${this.uid}/`);$(M,a=>{if(this.chats=a.val(),!this.chats){this.newChatNum=0;return}if(this.chats[this.chats.length-1].nickName==="甜點食譜一鍵購客服"){const d=[...this.chats].reverse().findIndex(h=>h.nickName!=="甜點食譜一鍵購客服");this.newChatNum=d}else this.chats[this.chats.length-1].nickName!=="甜點食譜一鍵購客服"&&(this.newChatNum=0)})})}else this.uid=null,this.user={}})},sendMessage(){if(!this.message)return;let t=0;this.chats&&(t=this.chats.length);const s=v(k,`chats/${this.uid}/${t}`);H(s,{nickName:this.user.nickName,message:this.message,headshotImg:this.user.headshotImg,time:new Date().getTime()}),this.message=""},sendCustomerMessage(t){if(!this.message)return;const s=this.oneChats.length,f=v(k,`chats/${t}/${s}`);H(f,{nickName:"甜點食譜一鍵購客服",message:this.message,headshotImg:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",time:new Date().getTime()}),this.message=""},getInfo(t){this.openId=t;const s=v(k,`chats/${t}/`);$(s,f=>{this.oneChats=f.val()})}},mounted(){this.getMessages()},computed:{...O(C,["loadingItem"])}},Xe={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{"overflow-y":"hidden"}},Ze={class:"modal-dialog modal-fullscreen-md-down w-100",style:{"margin-right":"0","margin-top":"0"}},et={class:"modal-content",style:{height:"100vh","overflow-y":"auto"}},tt={class:"modal-header bg-primary",style:{"border-radius":"0"}},st={key:0,class:"modal-title text-white"},ot=e("img",{src:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",style:{height:"40px",width:"40px"},class:"rounded-circle me-1",alt:""},null,-1),lt=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),at={class:"modal-body d-flex flex-column bg-secondary"},nt={key:0},it={key:0,class:"d-flex mb-3"},rt=["src"],dt={style:{"max-width":"90%"}},ct={class:"mb-1"},ut={class:"speech-bubble left bg-white px-3 py-1 d-inline-block rounded-4 mb-0",style:{"word-break":"break-all"}},ht={class:"ms-1 text-muted",style:{"font-size":"14px"}},mt={key:1,class:"d-flex flex-column"},pt={class:"mb-2 ms-auto d-flex flex-column align-items-end",style:{"max-width":"90%"}},bt={class:"mb-0 speech-bubble right bg-primary text-white px-3 py-1 d-inline-block rounded-4",style:{"word-break":"break-all"}},gt={class:"text-muted me-1",style:{"font-size":"14px"}},ft={key:1},_t={href:"#",class:"text-decoration-none link-primary d-block border-bottom border-primary py-2 d-flex align-items-center"},yt=["onClick"],vt={key:0,class:"ms-2 badge bg-primary"},kt=e("i",{class:"bi bi-x"},null,-1),wt=[kt],Ct={key:0,class:"pt-3"},xt={key:0,class:"d-flex mb-3"},$t=["src"],Nt={style:{"max-width":"90%"}},Mt={class:"mb-1"},Tt={class:"speech-bubble left bg-white px-3 py-1 d-inline-block rounded-4 mb-0",style:{"word-break":"break-all"}},It={class:"ms-1 text-muted",style:{"font-size":"14px"}},Rt={key:1,class:"d-flex flex-column"},St={class:"mb-0 ms-auto speech-bubble right bg-primary text-white px-3 py-1 d-inline-block rounded-4",style:{"max-width":"90%","word-break":"break-all"}},Dt={class:"ms-auto me-1 text-muted",style:{"font-size":"14px"}},Lt={class:"input-group mt-5 mb-3"},Ot=["onKeyup"],Pt=["onClick"],Vt=e("i",{class:"bi bi-send-fill"},null,-1),At=[Vt],Bt={key:2,class:"input-group mt-auto"},Ht=e("i",{class:"bi bi-send-fill"},null,-1),Ut=[Ht];function qt(t,s,f,M,a,c){return l(),n("div",Xe,[e("div",Ze,[e("div",et,[e("div",tt,[a.uid?(l(),n("h5",st,[ot,p(" 甜點食譜一鍵購客服 ")])):u("",!0),lt]),e("div",at,[a.user.admin?a.user.admin?(l(),n("div",ft,[(l(!0),n(I,null,R(a.chats,(d,h)=>(l(),n("div",{key:h},[e("a",_t,[e("p",{class:"mb-0 w-100",onClick:D(o=>c.getInfo(h),["prevent"])},[p(r(h)+" ",1),d.newChatNum?(l(),n("span",vt,r(d.newChatNum),1)):u("",!0)],8,yt),e("button",{class:"btn btn-primary ms-auto",type:"button",onClick:s[0]||(s[0]=D(o=>a.openId="",["prevent"]))},wt)]),a.openId===h?(l(),n("div",Ct,[(l(!0),n(I,null,R(d,o=>(l(),n("div",{key:o,class:""},[o.nickName!=="甜點食譜一鍵購客服"?(l(),n("div",xt,[e("img",{src:o.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:""},null,8,$t),e("div",Nt,[e("p",Mt,r(o.nickName),1),e("p",Tt,r(o.message),1),e("p",It,r(new Date(o.time).toLocaleDateString())+" "+r(new Date(o.time).getHours())+":"+r(new Date(o.time).getMinutes()),1)])])):o.nickName==="甜點食譜一鍵購客服"?(l(),n("div",Rt,[e("p",St,r(o.message),1),e("p",Dt,r(new Date(o.time).toLocaleDateString())+" "+r(new Date(o.time).getHours())+":"+r(new Date(o.time).getMinutes()),1)])):u("",!0)]))),128)),e("div",Lt,[g(e("input",{type:"text",onKeyup:S(o=>c.sendCustomerMessage(h),["enter"]),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[1]||(s[1]=o=>a.message=o)},null,40,Ot),[[x,a.message]]),e("button",{onClick:o=>c.sendCustomerMessage(h),class:"btn btn-outline-primary",type:"button"},At,8,Pt)])])):u("",!0)]))),128))])):u("",!0):(l(),n("div",nt,[(l(!0),n(I,null,R(a.chats,d=>(l(),n("div",{key:d,class:""},[d.nickName==="甜點食譜一鍵購客服"?(l(),n("div",it,[e("img",{src:d.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:""},null,8,rt),e("div",dt,[e("p",ct,r(d.nickName),1),e("p",ut,r(d.message),1),e("p",ht,r(new Date(d.time).toLocaleDateString())+" "+r(new Date(d.time).getHours())+":"+r(new Date(d.time).getMinutes()),1)])])):d.nickName!=="甜點食譜一鍵購客服"?(l(),n("div",mt,[e("div",pt,[e("p",bt,r(d.message),1),e("p",gt,r(new Date(d.time).toLocaleDateString())+" "+r(new Date(d.time).getHours())+"："+r(new Date(d.time).getMinutes()),1)])])):u("",!0)]))),128))])),a.user.admin?u("",!0):(l(),n("div",Bt,[g(e("input",{type:"text",onKeyup:s[2]||(s[2]=S((...d)=>c.sendMessage&&c.sendMessage(...d),["enter"])),class:"form-control border-primary",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[3]||(s[3]=d=>a.message=d)},null,544),[[x,a.message]]),e("button",{onClick:s[4]||(s[4]=(...d)=>c.sendMessage&&c.sendMessage(...d)),class:"btn btn-outline-primary",type:"button"},Ut)]))])])])],512)}const jt=V(Qe,[["render",qt]]),Et={data(){return{menuToggle:!1,searchToggle:!1,menuCollapse:{},searchCollapse:{},recipeSearchName:"",selectItem:"全部",highOrLow:"不拘",priceOrRate:"成本",productSearchName:"",productHighOrLow:"低到高",productPriceOrRate:"價格",pageStatus:"全部",showScrollArrow:!1,searchItem:"食譜搜尋"}},components:{RouterLink:G,RouterView:K,CartModal:Je,ChatModal:jt},methods:{...L(C,["checkLogin","logout"]),reload(t){this.$route.fullPath===t&&location.reload()},searchRecipes(){this.$router.push({name:"RecipesView",query:{searchName:this.recipeSearchName,category:this.selectItem,valueHighOrLow:this.highOrLow,valuePriceOrRate:this.priceOrRate}}),this.searchToggle=!1,this.recipeSearchName="",this.highOrLow="不拘",this.priceOrRate="成本",this.selectItem="全部"},searchProducts(){this.$router.push({name:"products",query:{searchName:this.productSearchName,valueHighOrLow:this.productHighOrLow,valuePriceOrRate:this.productPriceOrRate,pageStatus:this.pageStatus}}),this.searchToggle=!1,this.productSearchName="",this.productHighOrLow="不拘",this.productPriceOrRate="價格",this.pageStatus="全部"},goToTop(){window.scrollTo(0,0)},handleScroll(){this.showScrollArrow=window.scrollY>1e3}},mounted(){this.checkLogin(),window.addEventListener("scroll",this.handleScroll),this.menuCollapse=new B(this.$refs.menuCollapse,{toggle:!1}),this.searchCollapse=new B(this.$refs.searchCollapse,{toggle:!1}),console.log(this.$refs.cartModal,"購物車內容")},computed:{...O(C,["user","uid","cartItems","cartNum"])},watch:{menuToggle(){this.menuToggle===!0?(this.menuCollapse.show(),this.searchCollapse.hide(),this.searchToggle=!1):this.menuToggle===!1&&this.menuCollapse.hide()},searchToggle(){this.searchToggle===!0?(this.searchCollapse.show(),this.menuCollapse.hide(),this.menuToggle=!1):this.searchToggle===!1&&this.searchCollapse.hide()},"$route.fullPath"(){this.menuToggle=!1,this.searchToggle=!1,this.$route.fullPath.match("products")?this.searchItem="產品搜尋":this.$route.fullPath.match("recipes")&&(this.searchItem="食譜搜尋")}}},Gt={class:"d-flex flex-column min-height-100"},Kt={class:"fixed-top js-header"},zt={class:"container"},Ft={class:"mb-0 me-auto"},Yt=e("img",{src:P,class:"logo me-1 mt-n1",alt:"甜點食譜一鍵購logo"},null,-1),Wt=e("div",null,[e("p",{class:"text-darkBrown mb-0 fs-6"},"甜點食譜一鍵購"),e("p",{class:"fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5"},"Easy Buy Easy Make")],-1),Jt={key:0,class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-10 alert-num"},Qt=e("span",{class:"material-icons text-gradient fs-5"},"shopping_cart",-1),Xt={class:"text-gradient material-icons fs-5"},Zt=e("span",{class:"material-icons-outlined fs-5 text-gradient"},"search",-1),es=[Zt],ts=e("span",{class:"material-icons-outlined fs-5 text-gradient"}," menu ",-1),ss=[ts],os={id:"navbarNav",class:"collapse navbar-collapse",ref:"menuCollapse"},ls={class:"mainMenu navbar-nav mx-auto text-center mb-1 mb-lg-0"},as={class:"nav-item me-lg-3"},ns={class:"nav-item mx-lg-3"},is={class:"nav-item mx-lg-3"},rs={class:"nav-item ms-lg-3"},ds={key:0,class:"navbar-nav me-lg-4 mt-2 pb-3 mt-lg-0 pb-lg-0"},cs={class:"nav-item text-center"},us={key:1,class:"navbar-nav d-lg-flex align-items-lg-center me-lg-3 text-center"},hs={key:0,class:"nav-item me-lg-3"},ms={class:"me-4 d-flex align-items-center justify-content-center"},ps=["src"],bs={key:1,class:"bi bi-person-circle fs-1 text-primary"},gs={class:"fw-bold fs-6 ms-3"},fs={class:"nav-item"},_s={class:"text-gradient material-icons fs-4"},ys={key:0,class:"position-absolute top-0 end-0 translate-middle-y rounded-circle border fw-bold border-primary text-primary fs-12 alert-num"},vs=e("span",{class:"material-icons text-gradient fs-4"},"shopping_cart",-1),ks={class:"bg-white collapse navbar-collapse pb-4",ref:"searchCollapse"},ws={class:"container"},Cs=e("option",{value:"食譜搜尋"},"食譜搜尋",-1),xs=e("option",{value:"產品搜尋"},"產品搜尋",-1),$s=[Cs,xs],Ns={key:0,class:"d-lg-none"},Ms=e("h5",{class:"text-center fw-bold"},"食譜搜尋",-1),Ts={class:"list-unstyled"},Is={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Rs=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),Ss=A('<option value="全部" selected>全部</option><option value="台式甜點">台式甜點</option><option value="法式甜點">法式甜點</option><option value="美式甜點">美式甜點</option><option value="日式甜點">日式甜點</option><option value="義式甜點">義式甜點</option>',6),Ds=[Ss],Ls={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Os=e("label",{for:"category",class:"form-label fs-14"},"成本或評價",-1),Ps=e("option",{value:"成本"},"成本",-1),Vs=e("option",{value:"評價"},"評價",-1),As=[Ps,Vs],Bs={class:"d-flex flex-column border-bottom border-lightBrownGray"},Hs=e("label",{for:"category",class:"form-label fs-14"},"由高到低或由低到高",-1),Us=e("option",{value:"不拘"},"不拘",-1),qs=e("option",{value:"高到低"},"高到低",-1),js=e("option",{value:"低到高"},"低到高",-1),Es=[Us,qs,js],Gs={class:"pt-2 border-0 position-relative"},Ks={class:"border rounded-pill border-primary"},zs=e("span",{class:"material-icons-outlined text-primary"},"search",-1),Fs=[zs],Ys={key:1,class:"d-lg-none"},Ws=e("h5",{class:"text-center fw-bold"},"產品搜尋",-1),Js={class:"list-unstyled"},Qs={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},Xs=e("label",{for:"category",class:"form-label fs-14"},"種類",-1),Zs=e("option",{value:"全部"},"全部",-1),eo=e("option",{value:"食材組合包"},"食材組合包",-1),to=e("option",{value:"熱銷單品"},"熱銷單品",-1),so=e("option",{value:"特價商品"},"特價商品",-1),oo=[Zs,eo,to,so],lo={class:"mb-3 d-flex flex-column border-bottom border-lightBrownGray"},ao=e("label",{for:"productPriceOrRate",class:"form-label fs-14"},"價格或評價",-1),no=e("option",{value:"價格"},"價格",-1),io=e("option",{value:"評價"},"評價",-1),ro=[no,io],co={class:"d-flex flex-column border-bottom border-lightBrownGray"},uo=e("label",{for:"productHighOrLow",class:"form-label fs-14"},"由高到低或由低到高",-1),ho=e("option",{value:"不拘"},"不拘",-1),mo=e("option",{value:"高到低"},"高到低",-1),po=e("option",{value:"低到高"},"低到高",-1),bo=[ho,mo,po],go={class:"pt-2 border-0 position-relative"},fo={class:"border rounded-pill border-primary"},_o=e("span",{class:"material-icons-outlined text-primary"},"search",-1),yo=[_o],vo=e("i",{class:"bi bi-arrow-up-circle-fill fs-35"},null,-1),ko=[vo],wo={key:0,class:"position-absolute text-primary fw-bold border border-primary alert-num rounded-circle fs-12 top-0 start-100 translate-middle"},Co=e("i",{class:"bi bi-chat-dots-fill fs-35"},null,-1),xo=A('<footer class="mt-auto js-footer position-relative bg-lightPurple-secondary"><div class="container d-flex flex-column flex-lg-row align-items-center py-3"><div class="d-flex justify-content-center align-items-center mb-2 mb-lg-0"><img src="'+P+'" class="logo me-1" alt="甜點食譜一鍵購網站logo"><div><p class="text-darkBrown mb-0 fs-6">甜點食譜一鍵購</p><p class="fw-light mb-0 font-style-Chathura mt-n2 text-purple fs-5">Easy Buy Easy Make</p></div></div><div class="ms-lg-auto d-flex flex-column align-items-lg-end align-items-center"><ul class="list-unstyled d-flex justify-content-between w-50"><li class="hvr-bob"><a href="#" class="text-decoration-none link-primary"><i class="bi bi-instagram fs-lg-35 fs-3"></i></a></li><li class="hvr-bob"><a href="#" class="text-decoration-none link-primary"><i class="bi bi-facebook fs-lg-35 fs-3"></i></a></li><li class="hvr-bob"><a href="mailto:@EasyMakeEasyBuy.gmail.com" class="text-decoration-none link-primary"><i class="bi bi-envelope fs-lg-35 fs-3"></i></a></li></ul><p class="mb-0 text-center text-lg-start fs-10">本網站僅作為網頁製作練習使用<br class="d-block d-lg-none"><span class="d-none d-lg-inline-block">，</span>圖片、資料源自網路，無任何商業利益行為</p><p class="mb-0 fs-10">Copyright © 2022 甜點食譜一鍵購 All Rights Reserved.</p></div></div></footer>',1);function $o(t,s,f,M,a,c){const d=w("RouterLink"),h=w("RouterView"),o=w("CartModal"),_=w("ChatModal");return l(),n("div",Gt,[e("header",Kt,[e("nav",{class:N(["navbar navbar-expand-lg navbar-light backdrop-blur-10 bg-transGray-4",{"bg-white":a.searchToggle}])},[e("div",zt,[e("h1",Ft,[m(d,{to:"/home",onClick:s[0]||(s[0]=i=>c.reload("/home")),class:"navbar-brand d-flex align-items-center"},{default:b(()=>[Yt,Wt]),_:1})]),e("button",{class:"btn position-relative border-0 d-lg-none pb-0 me-md-3",onClick:s[1]||(s[1]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),n("span",Jt,r(t.cartNum),1)):u("",!0),Qt]),m(d,{onClick:s[2]||(s[2]=i=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative pb-0 border-0 d-lg-none me-md-3"},{default:b(()=>[e("span",Xt,r(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[3]||(s[3]=()=>a.searchToggle=!a.searchToggle)},es),e("button",{class:"navbar-toggler btn border-0 me-md-3",type:"button",onClick:s[4]||(s[4]=()=>a.menuToggle=!a.menuToggle)},ss),e("div",os,[e("ul",ls,[e("li",as,[m(d,{to:"/recipes",onClick:s[5]||(s[5]=i=>c.reload("/recipes")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("甜點食譜")]),_:1})]),e("li",ns,[m(d,{to:"/products",onClick:s[6]||(s[6]=i=>c.reload("/products")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("材料購買")]),_:1})]),e("li",is,[m(d,{to:"/discounts",onClick:s[7]||(s[7]=i=>c.reload("/discounts")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("優惠特報")]),_:1})]),e("li",rs,[m(d,{to:"/member",onClick:s[8]||(s[8]=i=>c.reload("/member")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("會員專區")]),_:1})])]),t.uid?t.uid?(l(),n("ul",us,[t.user.admin?(l(),n("li",hs,[m(d,{to:"/admin/products",class:"nav-link"},{default:b(()=>[p("進入後台")]),_:1})])):u("",!0),e("li",ms,[t.user.headshotImg?(l(),n("img",{key:0,src:t.user.headshotImg,alt:"會員大頭貼",height:"50",width:"50",class:"rounded-circle object-fit-cover blur-shadow"},null,8,ps)):t.user.headshotImg?u("",!0):(l(),n("i",bs)),e("span",gs,r(t.user.nickName),1)]),e("li",fs,[e("a",{href:"#",class:"nav-link",onClick:s[10]||(s[10]=D((...i)=>t.logout&&t.logout(...i),["prevent"]))},"登出")])])):u("",!0):(l(),n("ul",ds,[e("li",cs,[m(d,{to:"/loginSignup",onClick:s[9]||(s[9]=i=>c.reload("/signup")),class:"loginSignup btn-outline-gradient px-3 text-decoration-none rounded-pill fs-md-6 fs-14 py-2 fw-bold"},{default:b(()=>[p("登入 / 註冊")]),_:1})])])),m(d,{onClick:s[11]||(s[11]=i=>c.reload("/bookmarks")),to:"/bookmarks",class:"btn position-relative border-0 pb-0 d-none d-lg-block"},{default:b(()=>[e("span",_s,r(this.$route.fullPath==="/bookmarks"?"favorite":"favorite_border"),1)]),_:1}),e("button",{class:"btn position-relative border-0 pb-0 d-none d-lg-block",onClick:s[12]||(s[12]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),n("span",ys,r(t.cartNum),1)):u("",!0),vs])],512)])],2),e("div",ks,[e("div",ws,[g(e("select",{name:"",id:"",class:"form-select d-lg-none text-center mb-4","onUpdate:modelValue":s[13]||(s[13]=i=>a.searchItem=i)},$s,512),[[y,a.searchItem]]),a.searchItem==="食譜搜尋"?(l(),n("div",Ns,[Ms,e("ul",Ts,[e("li",Is,[Rs,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[14]||(s[14]=i=>a.selectItem=i)},Ds,512),[[y,a.selectItem]])]),e("li",Ls,[Os,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[15]||(s[15]=i=>a.priceOrRate=i)},As,512),[[y,a.priceOrRate]])]),e("li",Bs,[Hs,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[16]||(s[16]=i=>a.highOrLow=i)},Es,512),[[y,a.highOrLow]])])]),e("div",Gs,[e("div",Ks,[g(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入甜點名稱","onUpdate:modelValue":s[17]||(s[17]=i=>a.recipeSearchName=i),onKeyup:s[18]||(s[18]=S((...i)=>c.searchRecipes&&c.searchRecipes(...i),["enter"]))},null,544),[[x,a.recipeSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[19]||(s[19]=(...i)=>c.searchRecipes&&c.searchRecipes(...i))},Fs)])])])):u("",!0),a.searchItem==="產品搜尋"?(l(),n("div",Ys,[Ws,e("ul",Js,[e("li",Qs,[Xs,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[20]||(s[20]=i=>a.pageStatus=i)},oo,512),[[y,a.pageStatus]])]),e("li",lo,[ao,g(e("select",{name:"",id:"productPriceOrRate",class:"form-select border-0","onUpdate:modelValue":s[21]||(s[21]=i=>a.productPriceOrRate=i)},ro,512),[[y,a.productPriceOrRate]])]),e("li",co,[uo,g(e("select",{name:"",id:"productHighOrLow",class:"form-select border-0","onUpdate:modelValue":s[22]||(s[22]=i=>a.productHighOrLow=i)},bo,512),[[y,a.productHighOrLow]])])]),e("div",go,[e("div",fo,[g(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入產品名稱","onUpdate:modelValue":s[23]||(s[23]=i=>a.productSearchName=i),onKeyup:s[24]||(s[24]=S((...i)=>c.searchProducts&&c.searchProducts(...i),["enter"]))},null,544),[[x,a.productSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute end-0 bottom-0",onClick:s[25]||(s[25]=(...i)=>c.searchProducts&&c.searchProducts(...i))},yo)])])])):u("",!0)])],512)]),(l(),T(h,{key:t.$route.fullPath,class:"flex-grow-1"})),m(o,{ref:"cartModal"},null,512),m(_,{ref:"chatModal"},null,512),e("button",{type:"button",ref:"upArrow",class:N(["link-primary bg-transparent hvr-float position-fixed border-0 bottom-0 end-0 m-3",{fade:!a.showScrollArrow,show:a.showScrollArrow}]),onClick:s[26]||(s[26]=(...i)=>c.goToTop&&c.goToTop(...i))},ko,2),t.uid?(l(),n("button",{key:0,type:"button",class:"link-primary bg-transparent position-fixed border-0 bottom-0 end-0 mx-88 my-3",onClick:s[27]||(s[27]=()=>this.$refs.chatModal.show())},[this.$refs.chatModal&&this.$refs.chatModal.newChatNum!==0?(l(),n("span",wo,r(this.$refs.chatModal.newChatNum),1)):u("",!0),Co])):u("",!0),xo])}const Bo=V(Et,[["render",$o]]);export{Bo as default};
