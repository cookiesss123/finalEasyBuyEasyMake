import{R as O}from"./vue-router-495964e8.js";import{m as S,b as B}from"./axios-174aada3.js";import{c as P}from"./carts-f5125435.js";import{l as L,w as E,n as _,j as R}from"./runtime-dom.esm-bundler-226b1721.js";import{_ as V}from"./icon-search-d6364761.js";import{_ as w}from"./image5-4fc2427e.js";import{_ as C}from"./image4-1806383b.js";import{_ as M}from"./icon-cart-09916409.js";import{_ as u}from"./icon-star-c15bacb9.js";import{b6 as j,l as r,m as o,s as g,aJ as c,b3 as b,F as x,at as f,k as n,av as I,aj as i,t as v,b1 as F,a3 as p}from"./_plugin-vue_export-helper-31c7975b.js";import"./_commonjsHelpers-042e6b4d.js";const{VITE_PATH:d}={VITE_PATH:"https://vue-final-dbjson-3nukrua10-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},T={components:{RouterLink:O},data(){return{products:[],priceOrRate:"價格",highOrLow:"不拘",productSearchName:"",filterProducts:[],myCollapse:{},bookMarks:[],deleteId:"",AllproductRates:[],averageRate:[],rates:{},recipes:[],pageStatus:"全部",sortRates:[],activePage:1,pageProducts:[]}},methods:{...S(P,["addCart","toastMessage"]),getProducts(){let l=`${d}/products`;this.pageStatus==="食材組合包"?l=`${d}/products?category=組合包`:this.pageStatus==="熱銷單品"?l=`${d}/products?category=單一產品`:this.pageStatus==="特價商品"&&(l=`${d}/products?isCheaper=true`),this.$http.get(`${l}`).then(s=>{console.log("產品",s.data),this.products=s.data,this.filterProducts=s.data,this.renderPage(1)}).catch(s=>{console.log(s)})},renderPage(l){console.log(this.filterProducts,"篩選後的產品");let s=0,a=12;this.activePage=l,l!==1&&l!==Math.ceil(this.filterProducts.length/12)?(s=12*(l-1),a=12*l):l===Math.ceil(this.filterProducts.length/12)&&(s=12*(l-1),a=this.filterProducts.length),this.pageProducts=this.filterProducts.slice(s,a),this.priceOrRate==="評價"&&(this.pageProducts=this.sortRates.slice(s,a))},searchProduct(){this.sortRates=[];let l=`${d}/products`;if(this.highOrLow==="不拘"){this.filterProducts=this.products.filter(s=>s.title.match(this.productSearchName)),this.renderPage(1);return}else this.priceOrRate==="價格"?this.highOrLow==="低到高"?(l=`${d}/products?_sort=price&_order=asc`,this.pageStatus==="食材組合包"?l=`${d}/products?category=組合包&_sort=price&_order=asc`:this.pageStatus==="熱銷單品"?l=`${d}/products?category=單一產品&_sort=price&_order=asc`:this.pageStatus==="特價商品"&&(l=`${d}/products?isCheaper=true&_sort=price&_order=asc`)):this.highOrLow==="高到低"&&(l=`${d}/products?_sort=price&_order=desc`,this.pageStatus==="食材組合包"?l=`${d}/products?category=組合包&_sort=price&_order=desc`:this.pageStatus==="熱銷單品"?l=`${d}/products?category=單一產品&_sort=price&_order=desc`:this.pageStatus==="特價商品"&&(l=`${d}/products?isCheaper=true&_sort=price&_order=desc`)):this.priceOrRate==="評價"&&(this.highOrLow==="低到高"?(this.sortRates=Object.entries(this.rates).sort((s,a)=>s[1].averageRate!==a[1].averageRate?s[1].averageRate-a[1].averageRate:s[1].totalRates-a[1].totalRates),this.pageStatus==="食材組合包"?(console.log("組合包頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.category==="組合包")):this.pageStatus==="熱銷單品"?(console.log("熱銷單品頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.category==="單一產品")):this.pageStatus==="特價商品"&&(console.log("特價商品頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.isCheaper===!0)),this.renderPage(1),console.log(this.sortRates,"排序好的產品評價 低到高")):this.highOrLow==="高到低"&&(this.sortRates=Object.entries(this.rates).sort((s,a)=>s[1].averageRate!==a[1].averageRate?a[1].averageRate-s[1].averageRate:a[1].totalRates-s[1].totalRates),this.pageStatus==="食材組合包"?(console.log("組合包頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.category==="組合包")):this.pageStatus==="熱銷單品"?(console.log("熱銷單品頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.category==="單一產品")):this.pageStatus==="特價商品"&&(console.log("特價商品頁面"),this.sortRates=this.sortRates.filter(s=>s[1].product.isCheaper===!0)),this.renderPage(1),console.log(this.sortRates,"排序好的產品評價 高到低")));this.$http.get(`${l}`).then(s=>{console.log("重新",s.data),this.filterProducts=s.data,this.filterProducts=this.filterProducts.filter(a=>a.title.match(this.productSearchName)),this.sortRates=this.sortRates.filter(a=>a[1].product.title.match(this.productSearchName)),this.renderPage(1)}).catch(s=>{console.log(s)})},getBookmarks(){if(!this.token)return;const l=`${d}/600/users/${this.userId}/productBookmarks?_expand=product`;this.$http.get(l,{headers:{authorization:`Bearer ${this.token}`}}).then(s=>{console.log(s.data),this.bookMarks=s.data}).catch(s=>{console.log(s)})},addBookmark(l){if(!this.token){this.toastMessage("登入才可使用收藏功能","error");return}const s={userId:this.userId,productId:l};this.$http.post(`${d}/600/users/${this.userId}/productBookmarks?_expand=product`,s,{headers:{authorization:`Bearer ${this.token}`}}).then(a=>{console.log(a.data),this.getBookmarks(),this.toastMessage("收藏成功")}).catch(a=>{console.log(a)})},deleteBookmark(l){let s="";this.bookMarks.forEach(a=>{a.productId.toString()===l.toString()&&(s=a.id)}),this.$http.delete(`${d}/600/productBookmarks/${Number(s)}`,{headers:{authorization:`Bearer ${this.token}`}}).then(a=>{console.log(a.data),this.getBookmarks(),this.toastMessage("刪除收藏")}).catch(a=>{console.log(a)})},getAllProductRates(){this.$http.get(`${d}/productRates?_expand=product`).then(l=>{console.log("所有產品評價",l.data),this.AllproductRates=l.data,this.AllproductRates.forEach(s=>{this.rates[s.product.id]===void 0?this.rates[s.product.id]={totalRates:s.score,people:1,averageRate:s.score/1,product:s.product}:(this.rates[s.product.id].totalRates+=s.score,this.rates[s.product.id].people+=1,this.rates[s.product.id].averageRate=Number((this.rates[s.product.id].totalRates/this.rates[s.product.id].people).toFixed(1)))}),this.products.forEach(s=>{Object.keys(this.rates).forEach(a=>{this.rates[s.id]===void 0&&(this.rates[s.id]={totalRates:0,people:0,averageRate:0,product:s})})}),console.log("所有評價分類",this.rates)}).catch(l=>{console.log(l)})}},mounted(){this.getProducts(),this.getBookmarks(),this.getAllProductRates()},watch:{pageStatus(){this.priceOrRate="價格",this.highOrLow="不拘",this.sortRates=[],this.getProducts(),this.renderPage(1),console.log("換頁囉",this.pageStatus)}},computed:{...B(P,["token","userId"])}},G={class:"my-10"},N={class:"nav nav-tabs container d-flex justify-content-center justify-content-lg-start",id:"myTab",role:"tablist"},A={class:"nav-item",role:"presentation "},U={class:"nav-item",role:"presentation"},D=o("i",{class:"bi bi-bag-check-fill"},null,-1),z={class:"nav-item",role:"presentation"},H=o("i",{class:"bi bi-fire"},null,-1),K={class:"nav-item",role:"presentation"},J=o("i",{class:"bi bi-percent"},null,-1),q={class:"d-none d-lg-block container selectProduct pt-4"},Q={class:"input-group"},W={class:"btn btn-outline-brown px-5","data-bs-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"},X=o("i",{class:"bi bi-caret-down-fill"},null,-1),Y={class:"ms-2 fw-bold"},Z={class:"btn btn-outline-brown px-5",type:"button","data-bs-toggle":"collapse","data-bs-target":"#multiCollapseExample2","aria-expanded":"false","aria-controls":"multiCollapseExample2"},$=o("i",{class:"bi bi-caret-down-fill"},null,-1),ee={class:"ms-2 fw-bold"},te=o("img",{src:V,style:{height:"25px"},alt:""},null,-1),se=[te],oe={class:"row g-0",id:"myGroup"},re={class:"col-2"},ie={ref:"collapse1","data-bs-parent":"#myGroup",class:"collapse multi-collapse",id:"multiCollapseExample1"},le={class:"card card-body border-0"},ae={class:"btn-group-vertical",role:"group","aria-label":"Vertical radio toggle button group"},ne=o("label",{class:"btn btn-outline-brown",for:"selectprice"},"價格",-1),ce=o("label",{class:"btn btn-outline-brown",for:"selectRate"},"評價",-1),de={class:"col-2"},pe={ref:"collapse2","data-bs-parent":"#myGroup",class:"collapse multi-collapse",id:"multiCollapseExample2"},he={class:"card card-body border-0"},ue={class:"btn-group-vertical",role:"group","aria-label":"Vertical radio toggle button group"},ge=o("label",{class:"btn btn-outline-brown",for:"noDifference"},"不拘",-1),_e=o("label",{class:"btn btn-outline-brown",for:"highToLow"},"高到低",-1),be=o("label",{class:"btn btn-outline-brown",for:"lowToHigh"},"低到高",-1),xe={class:"container mt-4"},fe={key:0,class:"row row-cols-lg-4 row-cols-1 gy-4"},Re={class:"card position-relative border-0 bg-transparent",style:{"border-radius":"20px"}},ke=["src"],ye={class:"card-text"},ve=["onClick"],Fe=o("img",{src:w},null,-1),me=[Fe],Pe={key:0,style:{"pointer-events":"none","font-size":"14px"},class:"d-flex flex-column align-items-center text-orange p-2 bg-brown border-0 me-3 position-absolute top-0 end-0"},we={class:"mb-1"},Ce=["onClick"],Me=o("img",{src:C},null,-1),Oe=[Me],Se=["onClick"],Be=o("img",{src:M,style:{height:"48px"},alt:"",class:"rounded-circle shadow-sm"},null,-1),Le=[Be],Ee={class:"h5 fw-bold"},Ve={class:"row"},je={key:0,class:"col"},Ie={key:0,class:"me-1"},Te={key:1,class:"col-12"},Ge=o("span",{class:"me-1 text-muted"},"未有評價",-1),Ne=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),Ae=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),Ue=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),De=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),ze=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),He=[Ge,Ne,Ae,Ue,De,ze],Ke={class:"col-12 d-flex justify-content-end"},Je={class:"mt-1"},qe={key:1,class:"row row-cols-lg-4 row-cols-1 gy-4"},Qe={class:"card position-relative border-0 bg-transparent",style:{"border-radius":"20px"}},We=["src"],Xe={class:"card-text"},Ye=["onClick"],Ze=o("img",{src:w},null,-1),$e=[Ze],et={key:0,style:{"pointer-events":"none","font-size":"14px"},class:"d-flex flex-column align-items-center text-orange p-2 bg-brown border-0 me-3 position-absolute top-0 end-0"},tt={class:"mb-1"},st=["onClick"],ot=o("img",{src:C},null,-1),rt=[ot],it=["onClick"],lt=o("img",{src:M,style:{height:"48px"},alt:"",class:"rounded-circle shadow-sm"},null,-1),at=[lt],nt={class:"h5 fw-bold"},ct={class:"row"},dt={key:0,class:"col-12"},pt={key:0,class:"me-1"},ht={key:1,class:"col-12"},ut=o("span",{class:"me-1 text-muted"},"未有評價",-1),gt=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),_t=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),bt=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),xt=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),ft=o("img",{src:u,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),Rt=[ut,gt,_t,bt,xt,ft],kt={class:"col-12 d-flex justify-content-end"},yt={class:"mt-1"},vt={key:0,"aria-label":"Page navigation example"},Ft={class:"pagination d-flex justify-content-center mt-5"},mt={key:0,class:"page-item mx-1"},Pt=o("i",{class:"bi bi-chevron-left mx-auto"},null,-1),wt=[Pt],Ct=["onClick"],Mt={key:1,class:"page-link border-0 rounded-circle px-3 py-2 active",style:{"pointer-events":"none"}},Ot={key:1,class:"page-item mx-1"},St=o("i",{class:"bi bi-chevron-right mx-auto"},null,-1),Bt=[St],Lt={key:1,"aria-label":"Page navigation example"},Et={class:"pagination d-flex justify-content-center mt-5"},Vt={key:0,class:"page-item mx-1"},jt=o("i",{class:"bi bi-chevron-left mx-auto"},null,-1),It=[jt],Tt=["onClick"],Gt={key:1,class:"page-link border-0 rounded-circle px-3 py-2 active",style:{"pointer-events":"none"}},Nt={key:1,class:"page-item mx-1"},At=o("i",{class:"bi bi-chevron-right mx-auto"},null,-1),Ut=[At];function Dt(l,s,a,zt,t,h){const k=I("RouterLink");return i(),r("div",G,[o("ul",N,[o("li",A,[o("button",{class:"nav-link active px-1 px-lg-3 py-lg-2",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true",onClick:s[0]||(s[0]=()=>t.pageStatus="全部")},"全部")]),o("li",U,[o("button",{class:"nav-link px-1 px-lg-3 py-lg-2",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",onClick:s[1]||(s[1]=()=>t.pageStatus="食材組合包")},[D,g(" 食材組合包")])]),o("li",z,[o("button",{class:"nav-link px-1 px-lg-3 py-lg-2",id:"popularProducts-tab","data-bs-toggle":"tab","data-bs-target":"#popularProducts",type:"button",role:"tab","aria-controls":"popularProducts","aria-selected":"false",onClick:s[2]||(s[2]=()=>t.pageStatus="熱銷單品")},[H,g(" 熱銷單品")])]),o("li",K,[o("button",{class:"nav-link px-1 px-lg-3 py-lg-2",id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false",onClick:s[3]||(s[3]=()=>t.pageStatus="特價商品")},[J,g(" 特價商品")])])]),o("div",q,[o("div",Q,[o("a",W,[g("篩選對象 "),X,o("span",Y,c(t.priceOrRate),1)]),o("button",Z,[g("篩選值 "),$,o("span",ee,c(t.highOrLow),1)]),b(o("input",{type:"search",class:"form-control border-brown border-end-0",placeholder:"請輸入食材名稱","aria-label":"Example text with two button addons","onUpdate:modelValue":s[4]||(s[4]=e=>t.productSearchName=e),onKeyup:s[5]||(s[5]=E((...e)=>h.searchProduct&&h.searchProduct(...e),["enter"]))},null,544),[[L,t.productSearchName]]),o("button",{type:"submit",class:"btn border border-brown border-start-0 bg-transparent",onClick:s[6]||(s[6]=_((...e)=>h.searchProduct&&h.searchProduct(...e),["prevent"]))},se)]),o("div",oe,[o("div",re,[o("div",ie,[o("div",le,[o("div",ae,[b(o("input",{type:"radio",class:"btn-check",value:"價格",name:"priceOrRate",id:"selectprice",autocomplete:"off","onUpdate:modelValue":s[7]||(s[7]=e=>t.priceOrRate=e)},null,512),[[R,t.priceOrRate]]),ne,b(o("input",{type:"radio",class:"btn-check",value:"評價",name:"priceOrRate",id:"selectRate",autocomplete:"off","onUpdate:modelValue":s[8]||(s[8]=e=>t.priceOrRate=e)},null,512),[[R,t.priceOrRate]]),ce])])],512)]),o("div",de,[o("div",pe,[o("div",he,[o("div",ue,[b(o("input",{type:"radio",class:"btn-check",value:"不拘",name:"highOrLow",id:"noDifference",autocomplete:"off",checked:"","onUpdate:modelValue":s[9]||(s[9]=e=>t.highOrLow=e)},null,512),[[R,t.highOrLow]]),ge,b(o("input",{type:"radio",class:"btn-check",value:"高到低",name:"highOrLow",id:"highToLow",autocomplete:"off","onUpdate:modelValue":s[10]||(s[10]=e=>t.highOrLow=e)},null,512),[[R,t.highOrLow]]),_e,b(o("input",{type:"radio",class:"btn-check",value:"低到高",name:"highOrLow",id:"lowToHigh",autocomplete:"off","onUpdate:modelValue":s[11]||(s[11]=e=>t.highOrLow=e)},null,512),[[R,t.highOrLow]]),be])])],512)])])]),o("div",xe,[t.sortRates.length?t.sortRates.length?(i(),r("div",qe,[(i(!0),r(x,null,f(t.pageProducts,(e,y)=>(i(),r("div",{class:"col text-decoration-none",key:y+6778},[o("div",Qe,[v(k,{to:`/products/${e[1].product.id}`},{default:F(()=>[o("img",{src:e[1].product.imgUrl,class:"card-img",height:"220",style:{"border-radius":"20px","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,We)]),_:2},1032,["to"]),o("h5",Xe,[o("button",{type:"button",class:"position-absolute bookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>h.addBookmark(e[1].product.id)},$e,8,Ye),e[1].product.isCheaper?(i(),r("span",et,[o("p",tt,c(((1-e[1].product.price/e[1].product.originalPrice)*10).toFixed(1)),1),g("折")])):n("",!0),(i(!0),r(x,null,f(t.bookMarks,m=>(i(),r("div",{key:m.id+4567},[m.productId===e[1].product.id?(i(),r("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>h.deleteBookmark(e[1].product.id)},rt,8,st)):n("",!0)]))),128)),o("button",{onClick:()=>l.addCart(e[1].product),type:"button",class:"buyBtn border-0 bg-transparent me-3 position-absolute top-50 end-0"},at,8,it)]),v(k,{to:`/item[1].products/${e[1].product.id}`,class:"card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:F(()=>[o("h5",nt,c(e[1].product.title),1),o("div",ct,[t.rates[e[1].product.id].totalRates!==0?(i(),r("div",dt,[t.rates[e[1].product.id]?(i(),r("span",pt,c((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)%1===0?t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people:(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)),1)):n("",!0),t.rates[e[1].product.id]?(i(),r("i",{key:1,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===0&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=0,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>1||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==0&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=0||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==1,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<1&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<0||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==0}])},null,2)):n("",!0),t.rates[e[1].product.id]?(i(),r("i",{key:2,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===1&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=1,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>2||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==1&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=1||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==2,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<2&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<1||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==1}])},null,2)):n("",!0),t.rates[e[1].product.id]?(i(),r("i",{key:3,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===2&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=2,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>3||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==2&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=2||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==3,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<3&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<2||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==2}])},null,2)):n("",!0),t.rates[e[1].product.id]?(i(),r("i",{key:4,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===3&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=3,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>4||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==3&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=3||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==4,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<4&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<3||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==3}])},null,2)):n("",!0),t.rates[e[1].product.id]?(i(),r("i",{key:5,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===4&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=4,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>5||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==4&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=4||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==5,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<5&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<4||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==4}])},null,2)):n("",!0)])):(i(),r("div",ht,Rt)),o("div",kt,[o("del",{class:p(["me-2 text-muted mt-1",{"d-none":!e[1].product.isCheaper}])},"NT$ "+c(e[1].product.originalPrice),3),o("span",yt,[o("span",{class:p({"text-danger":e[1].product.isCheaper,"fw-bold":e[1].product.isCheaper})},"NT$ "+c(e[1].product.price),3),g(" / "+c(e[1].product.num)+c(e[1].product.unit),1)])])])]),_:2},1032,["to"])])]))),128))])):n("",!0):(i(),r("div",fe,[(i(!0),r(x,null,f(t.pageProducts,e=>(i(),r("div",{class:"col text-decoration-none",key:e.id},[o("div",Re,[v(k,{to:`/products/${e.id}`},{default:F(()=>[o("img",{src:e.imgUrl,class:"card-img",height:"220",style:{"border-radius":"20px","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,ke)]),_:2},1032,["to"]),o("h5",ye,[o("button",{type:"button",class:"position-absolute bookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>h.addBookmark(e.id)},me,8,ve),e.isCheaper?(i(),r("span",Pe,[o("p",we,c((100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0))%10===0?(100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0)).toString().charAt(0):100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0)),1),g("折")])):n("",!0),(i(!0),r(x,null,f(t.bookMarks,y=>(i(),r("div",{key:y.id+4567},[y.productId===e.id?(i(),r("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>h.deleteBookmark(e.id)},Oe,8,Ce)):n("",!0)]))),128)),o("button",{onClick:()=>l.addCart(e),type:"button",class:"buyBtn border-0 bg-transparent me-3 position-absolute end-0",style:{top:"155px"}},Le,8,Se)]),v(k,{to:`/products/${e.id}`,class:"card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:F(()=>[o("h5",Ee,c(e.title),1),o("div",Ve,[t.rates[e.id]&&t.rates[e.id].totalRates!==0?(i(),r("div",je,[t.rates[e.id]?(i(),r("span",Ie,c((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)%1===0?t.rates[e.id].totalRates/t.rates[e.id].people:(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)),1)):n("",!0),t.rates[e.id]?(i(),r("i",{key:1,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===0&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=0,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>1||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==0&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=0||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==1,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<1&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<0||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==0}])},null,2)):n("",!0),t.rates[e.id]?(i(),r("i",{key:2,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===1&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=1,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>2||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==1&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=1||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==2,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<2&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<1||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==1}])},null,2)):n("",!0),t.rates[e.id]?(i(),r("i",{key:3,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===2&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=2,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>3||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==2&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=2||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==3,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<3&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<2||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==2}])},null,2)):n("",!0),t.rates[e.id]?(i(),r("i",{key:4,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===3&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=3,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>4||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==3&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=3||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==4,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<4&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<3||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==3}])},null,2)):n("",!0),t.rates[e.id]?(i(),r("i",{key:5,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===4&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=4,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>5||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==4&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=4||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==5,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<5&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<4||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==4}])},null,2)):n("",!0)])):t.rates[e.id]&&t.rates[e.id].totalRates===0?(i(),r("div",Te,He)):n("",!0),o("div",Ke,[o("del",{class:p(["me-2 text-muted mt-1",{"d-none":!e.isCheaper}])},"NT$ "+c(e.originalPrice),3),o("span",Je,[o("span",{class:p({"text-danger":e.isCheaper,"fw-bold":e.isCheaper})},"NT$ "+c(e.price),3),g(" / "+c(e.num)+c(e.unit),1)])])])]),_:2},1032,["to"])])]))),128))]))]),t.priceOrRate==="價格"?(i(),r("nav",vt,[o("ul",Ft,[t.activePage!==1?(i(),r("li",mt,[o("a",{class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Previous",onClick:s[12]||(s[12]=_(()=>h.renderPage(t.activePage-1),["prevent"])),style:{padding:"8px 12px"}},wt)])):n("",!0),(i(!0),r(x,null,f(Math.ceil(t.filterProducts.length/12),e=>(i(),r("li",{class:p(["page-item mx-1",{active:t.activePage===e}]),key:e+23423},[t.activePage!==e?(i(),r("a",{key:0,onClick:_(()=>h.renderPage(e),["prevent"]),class:"page-link border-0 rounded-circle px-3 py-2",href:"#"},c(e),9,Ct)):t.activePage===e?(i(),r("span",Mt,c(e),1)):n("",!0)],2))),128)),t.activePage!==Math.ceil(t.filterProducts.length/12)?(i(),r("li",Ot,[o("a",{onClick:s[13]||(s[13]=_(()=>h.renderPage(t.activePage+1),["prevent"])),class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Next",style:{padding:"8px 12px"}},Bt)])):n("",!0)])])):t.priceOrRate==="評價"?(i(),r("nav",Lt,[o("ul",Et,[t.activePage!==1?(i(),r("li",Vt,[o("a",{class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Previous",onClick:s[14]||(s[14]=_(()=>h.renderPage(t.activePage-1),["prevent"])),style:{padding:"8px 12px"}},It)])):n("",!0),(i(!0),r(x,null,f(Math.ceil(t.sortRates.length/12),e=>(i(),r("li",{class:p(["page-item mx-1",{active:t.activePage===e}]),key:e+23423},[t.activePage!==e?(i(),r("a",{key:0,onClick:_(()=>h.renderPage(e),["prevent"]),class:"page-link border-0 rounded-circle px-3 py-2",href:"#"},c(e),9,Tt)):t.activePage===e?(i(),r("span",Gt,c(e),1)):n("",!0)],2))),128)),t.activePage!==Math.ceil(t.sortRates.length/12)?(i(),r("li",Nt,[o("a",{onClick:s[15]||(s[15]=_(()=>h.renderPage(t.activePage+1),["prevent"])),class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Next",style:{padding:"8px 12px"}},Ut)])):n("",!0)])])):n("",!0)])}const ts=j(T,[["render",Dt]]);export{ts as default};
