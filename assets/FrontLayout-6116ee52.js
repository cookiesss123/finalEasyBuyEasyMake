import{m as S,a as z}from"./index-bc28e9c9.js";import{c as C}from"./carts-6a8f7fc5.js";import{R as K,b as E}from"./vue-router-46224dd8.js";import{C as A}from"./collapse-6026b968.js";import{m as B}from"./modalMixin-f99c1c1a.js";import{n as U}from"./numberCommaMixin-e0aac39c.js";import{o as q,r as v,d as w,b as N,a as j,s as H}from"./db-143b9a4b.js";import{v as $,w as L,d as R,b as y}from"./runtime-dom.esm-bundler-e140de91.js";import{_ as O}from"./loadingLogo-ea15f612.js";import{_ as P,o as l,a7 as a,a8 as e,ad as d,ab as u,aa as p,c as T,N as I,ae as D,F as m,a9 as b,af as x,ac as g,r as k,ag as V}from"./_plugin-vue_export-helper-d28549df.js";import"./_commonjsHelpers-042e6b4d.js";import"./base-component-5a126788.js";const F="/finalEasyBuyEasyMake/assets/undraw_shopping_app_flsj-3a31e3be.png";const G={data(){return{code:"",uid:"",user:{}}},mixins:[B,U],methods:{...S(C,["updateCartNum","changeCartNum","handleKeyDown","deleteCart","deleteAllCarts","getCoupons","checkCoupon","reUseCoupon","getCart","toastMessage"]),cancelCoupon(){this.code="",this.reUseCoupon()},clearAllCarts(){this.code="",this.deleteAllCarts(),this.toastMessage("已清空遊客購物車")},getCartData(){q(j,t=>{if(t){this.uid=t.uid,this.getCart(this.uid);const s=v(w,"users/"+t.uid);N(s,f=>{this.user=f.val()})}else this.uid=null,this.user={},this.getCart("1")})}},mounted(){this.getCoupons(),this.getCartData()},watch:{"$route.fullPath"(t){t==="/checkout"?(this.code="",this.hide()):t.includes("/products")&&this.hide()}},computed:{...z(C,["cart","cartItems","cartNum","loadingItem"])}},Y={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{"overflow-y":"hidden"}},W={class:"modal-dialog modal-fullscreen-md-down w-100",style:{"margin-right":"0","margin-top":"0"}},J={class:"modal-content",style:{height:"100vh","overflow-y":"auto"}},Q={class:"modal-header bg-blue",style:{"border-radius":"0"}},X={key:0,class:"modal-title text-white"},Z=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ee={class:"modal-body"},te={key:0},se={key:0,class:"row gy-3 row-cols-1 px-3"},oe={class:"col-12 d-flex"},le=["disabled"],ne=e("i",{class:"bi bi-cart-x-fill"},null,-1),ae={class:"card border-0 mb-3",style:{"max-width":"540px",height:"130px"}},ie={class:"row g-0"},re=["src"],de={class:"col-8"},ce={class:"card-body"},ue={class:"card-title d-flex",style:{"font-size":"16px"}},he=["onClick"],me={class:"card-text d-flex justify-content-end"},pe={class:"mt-1"},be=e("br",null,null,-1),ge={key:0,class:"mb-0 text-danger text-end fw-bold"},fe={key:1,class:"mb-0 text-danger text-end fw-bold"},_e={class:"d-flex justify-content-end align-items-center mt-2"},ye=["disabled","onClick"],ve={key:0},we=["onUpdate:modelValue","onChange"],ke=["disabled","onClick"],xe={key:0},Ce=e("div",{class:"border"},null,-1),$e={class:"col-12"},Ne=e("label",{for:"code",class:"col-3 form-label"},"優惠碼",-1),Me={key:0,class:"input-group mb-3"},Te={key:1,class:"input-group mb-3"},Ie=["value"],De={class:"table table-borderless"},Re=e("th",{class:"fw-normal"},"商品總金額",-1),Le={class:"text-end fw-normal"},Se={key:0},ze={class:"text-end"},Oe={key:0},Pe={class:"text-end"},Ve={class:"border-top"},Ae=e("td",{class:"fw-bold text-danger"},"總計金額",-1),He={class:"text-end fw-bold text-danger"},Be={key:0},Ue={key:1},qe=e("i",{class:"bi bi-cart-check-fill"},null,-1),je={key:1,class:"mt-6 d-flex flex-column align-items-center"},Ke=e("img",{src:F,width:"300",class:"mb-3",alt:""},null,-1),Ee=e("h5",{class:"text-center"},"您的購物車是空的",-1),Fe={key:1,class:"h-100 d-flex"},Ge=V('<h3 class="m-auto"><img src="'+O+'" class="loadingLogo mb-3" style="width:100px;" alt=""><span class="animate-text me-1">結</span><span class="animate-text me-1">帳</span><span class="animate-text me-1">中</span><span class="animate-text me-1">.</span><span class="animate-text me-1">.</span><span class="animate-text">.</span></h3>',1),Ye=[Ge];function We(t,s,f,M,n,c){const r=k("font-awesome-icon"),h=k("RouterLink");return l(),a("div",Y,[e("div",W,[e("div",J,[e("div",Q,[n.uid?(l(),a("h5",X,d(n.user.nickName)+" 的購物車 ",1)):u("",!0),Z]),e("div",ee,[this.$route.fullPath!=="/checkout"?(l(),a("div",te,[t.cartItems.length!==0?(l(),a("div",se,[e("div",oe,[e("button",{type:"button",class:"ms-auto btn btn-outline-danger rounded-0",onClick:s[0]||(s[0]=(...o)=>c.clearAllCarts&&c.clearAllCarts(...o)),disabled:t.loadingItem==="loading"},[ne,p(" 清空購物車 "),t.loadingItem==="loading"?(l(),T(r,{key:0,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],8,le)]),(l(!0),a(I,null,D(t.cartItems,(o,_)=>(l(),a("div",{class:"col-12",key:_+756345},[e("div",ae,[e("div",ie,[m(h,{to:`/products/${o.product.id}`,class:"col-4"},{default:b(()=>[e("img",{src:o.product.imgUrl,class:"img-fluid h-100 w-100",style:{"object-fit":"cover","max-height":"130px"}},null,8,re)]),_:2},1032,["to"]),e("div",de,[e("div",ce,[e("h5",ue,[m(h,{to:`/products/${o.product.id}`,class:"link-darkBrown"},{default:b(()=>[p(d(o.product.title),1)]),_:2},1032,["to"]),e("button",{onClick:()=>t.deleteCart(o.product),type:"button",class:"p-0 ms-auto btn-close m-0","aria-label":"Close",style:{width:"15px"}},null,8,he)]),e("div",me,[e("del",{class:x(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+d(t.numberComma(o.product.originalPrice)),3),e("span",pe,[e("span",{class:x({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+d(t.numberComma(o.product.price)),3),p(" / "+d(o.product.num)+d(o.product.unit),1)]),be]),o.product.category!=="組合包"?(l(),a("p",ge,"小計：NT$ "+d(t.numberComma(o.product.price*o.qty))+" / "+d(t.numberComma(o.product.num*o.qty))+d(o.product.unit),1)):u("",!0),o.product.category==="組合包"?(l(),a("p",fe,"小計：NT$ "+d(t.numberComma(o.product.price*o.qty))+" / "+d(t.numberComma(o.qty))+"組",1)):u("",!0),e("div",_e,[e("button",{disabled:t.loadingItem==="loading",class:x(["btn btn-sm btn-blue rounded-circle",{disabled:o.qty===1}]),style:{width:"30px",height:"30px"},type:"button",id:"button-addon2",onClick:()=>t.updateCartNum("reduce",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),a("span",ve,"-")):t.loadingItem==="loading"?(l(),T(r,{key:1,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],10,ye),g(e("input",{type:"number",class:"form-control border-0 text-center","onUpdate:modelValue":i=>o.qty=i,onChange:i=>t.changeCartNum(o.product,o.qty,i),style:{width:"70px"},onKeydown:s[1]||(s[1]=(...i)=>t.handleKeyDown&&t.handleKeyDown(...i))},null,40,we),[[$,o.qty,void 0,{number:!0}]]),e("button",{disabled:t.loadingItem==="loading",class:"btn btn-sm btn-blue rounded-circle",style:{width:"30px",height:"30px"},type:"button",id:"button-addon2",onClick:()=>t.updateCartNum("add",o.product,o.qty)},[t.loadingItem!=="loading"?(l(),a("span",xe,"+")):t.loadingItem==="loading"?(l(),T(r,{key:1,icon:"fa-solid fa-spinner",spin:""})):u("",!0)],8,ke)])])])])]),Ce]))),128)),e("div",$e,[Ne,t.cart.total+t.cart.deliveryCharge===t.cart.finalTotal?(l(),a("div",Me,[g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=o=>n.code=o)},null,512),[[$,n.code]]),e("button",{class:"btn btn-outline-blue",type:"button",id:"button-addon2",onClick:s[3]||(s[3]=()=>t.checkCoupon(n.code))},"套用優惠碼")])):t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal?(l(),a("div",Te,[t.cart.coupon?(l(),a("input",{key:0,type:"text",class:"form-control",value:t.cart.coupon.code,disabled:""},null,8,Ie)):u("",!0),e("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:s[4]||(s[4]=(...o)=>c.cancelCoupon&&c.cancelCoupon(...o))},"取消")])):u("",!0),e("table",De,[e("thead",null,[e("tr",null,[Re,e("th",Le,"NT$ "+d(t.numberComma(t.cart.total)),1)])]),e("tbody",null,[e("tr",null,[e("td",null,[p("運費"),t.cart.total>=1e3?(l(),a("span",Se,"(滿千元免運)")):u("",!0)]),e("td",ze," NT$ "+d(t.cart.total>=1e3?0:t.cart.deliveryCharge),1)]),t.cart.total+t.cart.deliveryCharge!==t.cart.finalTotal&&t.cart.coupon?(l(),a("tr",Oe,[e("td",null,"優惠券折扣 - "+d(t.cart.coupon.title),1),e("td",Pe,"- NT$ "+d(t.numberComma(Math.ceil(t.cart.total*(t.cart.coupon.discount/100)))),1)])):u("",!0),e("tr",Ve,[Ae,e("td",He,[t.cart.total<1e3?(l(),a("span",Be,"NT$ "+d(t.numberComma(t.cart.finalTotal)),1)):t.cart.total>=1e3?(l(),a("span",Ue,"NT$ "+d(t.numberComma(t.cart.finalTotal-t.cart.deliveryCharge)),1)):u("",!0)])])])])]),m(h,{to:"/checkout",type:"button",class:"hvr-sweep-to-right btn btn-blue rounded-0"},{default:b(()=>[qe,p(" 前往結帳")]),_:1})])):t.cartNum===0?(l(),a("div",je,[Ke,Ee,m(h,{class:"link-blue h5",to:"/products"},{default:b(()=>[p("前往選購商品")]),_:1})])):u("",!0)])):this.$route.fullPath==="/checkout"?(l(),a("div",Fe,Ye)):u("",!0)])])])],512)}const Je=P(G,[["render",We]]);const Qe={data(){return{uid:"",user:{},message:"",chats:[],newChatNum:0,oneChats:[],openId:""}},mixins:[B,U],methods:{...S(C,["updateCartNum","toastMessage"]),getMessages(){q(j,t=>{if(t){this.uid=t.uid;const s=v(w,"users/"+t.uid);N(s,f=>{if(this.user=f.val(),this.user.admin){const n=v(w,"chats/");N(n,c=>{this.chats=c.val();let r=0;if(!this.chats){this.newChatNum=0;return}Object.values(this.chats).forEach(h=>{if(h.nickName!=="甜點食譜一鍵購客服"){let _=[...h].reverse().findIndex(i=>i.nickName==="甜點食譜一鍵購客服");_===-1&&(_=h.length),h.newChatNum=_,r+=_}else h.nickName==="甜點食譜一鍵購客服"&&(h.newChatNum=0)}),this.newChatNum=r});return}const M=v(w,`chats/${this.uid}/`);N(M,n=>{if(this.chats=n.val(),!this.chats){this.newChatNum=0;return}if(this.chats[this.chats.length-1].nickName==="甜點食譜一鍵購客服"){const r=[...this.chats].reverse().findIndex(h=>h.nickName!=="甜點食譜一鍵購客服");this.newChatNum=r}else this.chats[this.chats.length-1].nickName!=="甜點食譜一鍵購客服"&&(this.newChatNum=0)})})}else this.uid=null,this.user={}})},sendMessage(){if(!this.message)return;let t=0;this.chats&&(t=this.chats.length);const s=v(w,`chats/${this.uid}/${t}`);H(s,{nickName:this.user.nickName,message:this.message,headshotImg:this.user.headshotImg,time:new Date().getTime()}),this.message=""},sendCustomerMessage(t){if(!this.message)return;const s=this.oneChats.length,f=v(w,`chats/${t}/${s}`);H(f,{nickName:"甜點食譜一鍵購客服",message:this.message,headshotImg:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",time:new Date().getTime()}),this.message=""},getInfo(t){this.openId=t;const s=v(w,`chats/${t}/`);N(s,f=>{this.oneChats=f.val()})}},mounted(){this.getMessages()},computed:{...z(C,["loadingItem"])}},Xe={class:"modal right",ref:"modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{"overflow-y":"hidden"}},Ze={class:"modal-dialog modal-fullscreen-md-down w-100",style:{"margin-right":"0","margin-top":"0"}},et={class:"modal-content",style:{height:"100vh","overflow-y":"auto"}},tt={class:"modal-header bg-blue",style:{"border-radius":"0"}},st={key:0,class:"modal-title text-white"},ot=e("img",{src:"https://plus.unsplash.com/premium_photo-1672192166439-f20d9ec1dbbc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80",style:{height:"40px",width:"40px"},class:"rounded-circle me-1",alt:""},null,-1),lt=e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),nt={class:"modal-body d-flex flex-column bg-lightBlue"},at={key:0},it={key:0,class:"d-flex mb-3"},rt=["src"],dt={style:{"max-width":"90%"}},ct={class:"mb-1"},ut={class:"speech-bubble left bg-white px-3 py-1 d-inline-block rounded-4 mb-0",style:{"word-break":"break-all"}},ht={class:"ms-1 text-muted",style:{"font-size":"14px"}},mt={key:1,class:"d-flex flex-column"},pt={class:"mb-2 ms-auto d-flex flex-column align-items-end",style:{"max-width":"90%"}},bt={class:"mb-0 speech-bubble right bg-blue text-white px-3 py-1 d-inline-block rounded-4",style:{"word-break":"break-all"}},gt={class:"text-muted me-1",style:{"font-size":"14px"}},ft={key:1},_t={href:"#",class:"text-decoration-none link-blue d-block border-bottom border-blue py-2 d-flex align-items-center"},yt=["onClick"],vt={key:0,class:"ms-2 badge bg-blue"},wt=e("i",{class:"bi bi-x"},null,-1),kt=[wt],xt={key:0,class:"pt-3"},Ct={key:0,class:"d-flex mb-3"},$t=["src"],Nt={style:{"max-width":"90%"}},Mt={class:"mb-1"},Tt={class:"speech-bubble left bg-white px-3 py-1 d-inline-block rounded-4 mb-0",style:{"word-break":"break-all"}},It={class:"ms-1 text-muted",style:{"font-size":"14px"}},Dt={key:1,class:"d-flex flex-column"},Rt={class:"mb-0 ms-auto speech-bubble right bg-blue text-white px-3 py-1 d-inline-block rounded-4",style:{"max-width":"90%","word-break":"break-all"}},Lt={class:"ms-auto me-1 text-muted",style:{"font-size":"14px"}},St={class:"input-group mt-5 mb-3"},zt=["onKeyup"],Ot=["onClick"],Pt=e("i",{class:"bi bi-send-fill"},null,-1),Vt=[Pt],At={key:2,class:"input-group mt-auto"},Ht=e("i",{class:"bi bi-send-fill"},null,-1),Bt=[Ht];function Ut(t,s,f,M,n,c){return l(),a("div",Xe,[e("div",Ze,[e("div",et,[e("div",tt,[n.uid?(l(),a("h5",st,[ot,p(" 甜點食譜一鍵購客服 ")])):u("",!0),lt]),e("div",nt,[n.user.admin?n.user.admin?(l(),a("div",ft,[(l(!0),a(I,null,D(n.chats,(r,h)=>(l(),a("div",{key:h},[e("a",_t,[e("p",{class:"mb-0 w-100",onClick:L(o=>c.getInfo(h),["prevent"])},[p(d(h)+" ",1),r.newChatNum?(l(),a("span",vt,d(r.newChatNum),1)):u("",!0)],8,yt),e("button",{class:"btn btn-blue ms-auto",type:"button",onClick:s[0]||(s[0]=L(o=>n.openId="",["prevent"]))},kt)]),n.openId===h?(l(),a("div",xt,[(l(!0),a(I,null,D(r,o=>(l(),a("div",{key:o,class:""},[o.nickName!=="甜點食譜一鍵購客服"?(l(),a("div",Ct,[e("img",{src:o.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:""},null,8,$t),e("div",Nt,[e("p",Mt,d(o.nickName),1),e("p",Tt,d(o.message),1),e("p",It,d(new Date(o.time).toLocaleDateString())+" "+d(new Date(o.time).getHours())+":"+d(new Date(o.time).getMinutes()),1)])])):o.nickName==="甜點食譜一鍵購客服"?(l(),a("div",Dt,[e("p",Rt,d(o.message),1),e("p",Lt,d(new Date(o.time).toLocaleDateString())+" "+d(new Date(o.time).getHours())+":"+d(new Date(o.time).getMinutes()),1)])):u("",!0)]))),128)),e("div",St,[g(e("input",{type:"text",onKeyup:R(o=>c.sendCustomerMessage(h),["enter"]),class:"form-control border-blue",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[1]||(s[1]=o=>n.message=o)},null,40,zt),[[$,n.message]]),e("button",{onClick:o=>c.sendCustomerMessage(h),class:"btn btn-outline-blue",type:"button"},Vt,8,Ot)])])):u("",!0)]))),128))])):u("",!0):(l(),a("div",at,[(l(!0),a(I,null,D(n.chats,r=>(l(),a("div",{key:r,class:""},[r.nickName==="甜點食譜一鍵購客服"?(l(),a("div",it,[e("img",{src:r.headshotImg,style:{height:"40px",width:"40px"},class:"mb-auto rounded-circle me-3",alt:""},null,8,rt),e("div",dt,[e("p",ct,d(r.nickName),1),e("p",ut,d(r.message),1),e("p",ht,d(new Date(r.time).toLocaleDateString())+" "+d(new Date(r.time).getHours())+":"+d(new Date(r.time).getMinutes()),1)])])):r.nickName!=="甜點食譜一鍵購客服"?(l(),a("div",mt,[e("div",pt,[e("p",bt,d(r.message),1),e("p",gt,d(new Date(r.time).toLocaleDateString())+" "+d(new Date(r.time).getHours())+"："+d(new Date(r.time).getMinutes()),1)])])):u("",!0)]))),128))])),n.user.admin?u("",!0):(l(),a("div",At,[g(e("input",{type:"text",onKeyup:s[2]||(s[2]=R((...r)=>c.sendMessage&&c.sendMessage(...r),["enter"])),class:"form-control border-blue",placeholder:"您有什麼疑問呢？","onUpdate:modelValue":s[3]||(s[3]=r=>n.message=r)},null,544),[[$,n.message]]),e("button",{onClick:s[4]||(s[4]=(...r)=>c.sendMessage&&c.sendMessage(...r)),class:"btn btn-outline-blue",type:"button"},Bt)]))])])])],512)}const qt=P(Qe,[["render",Ut]]);const jt={data(){return{menuToggle:!1,searchToggle:!1,menuCollapse:{},searchCollapse:{},recipeSearchName:"",selectItem:"全部",highOrLow:"不拘",priceOrRate:"成本",productSearchName:"",productHighOrLow:"低到高",productPriceOrRate:"價格",pageStatus:"全部",showScrollArrow:!1,searchItem:"食譜搜尋"}},components:{RouterLink:K,RouterView:E,CartModal:Je,ChatModal:qt},methods:{...S(C,["checkLogin","logout"]),reload(t){this.$route.fullPath===t&&location.reload()},searchRecipes(){this.$router.push({name:"RecipesView",query:{searchName:this.recipeSearchName,category:this.selectItem,valueHighOrLow:this.highOrLow,valuePriceOrRate:this.priceOrRate}}),this.searchToggle=!1,this.recipeSearchName="",this.highOrLow="不拘",this.priceOrRate="成本",this.selectItem="全部"},searchProducts(){this.$router.push({name:"products",query:{searchName:this.productSearchName,valueHighOrLow:this.productHighOrLow,valuePriceOrRate:this.productPriceOrRate,pageStatus:this.pageStatus}}),this.searchToggle=!1,this.productSearchName="",this.productHighOrLow="不拘",this.productPriceOrRate="價格",this.pageStatus="全部"},goToTop(){window.scrollTo(0,0)},handleScroll(){this.showScrollArrow=window.scrollY>1e3}},mounted(){this.checkLogin(),window.addEventListener("scroll",this.handleScroll),this.menuCollapse=new A(this.$refs.menuCollapse,{toggle:!1}),this.searchCollapse=new A(this.$refs.searchCollapse,{toggle:!1})},computed:{...z(C,["user","uid","cartItems","cartNum"])},watch:{menuToggle(){this.menuToggle===!0?(this.menuCollapse.show(),this.searchCollapse.hide(),this.searchToggle=!1):this.menuToggle===!1&&this.menuCollapse.hide()},searchToggle(){this.searchToggle===!0?(this.searchCollapse.show(),this.menuCollapse.hide(),this.menuToggle=!1):this.searchToggle===!1&&this.searchCollapse.hide()},"$route.fullPath"(){this.menuToggle=!1,this.searchToggle=!1,this.$route.fullPath.match("products")?this.searchItem="產品搜尋":this.$route.fullPath.match("recipes")&&(this.searchItem="食譜搜尋")}}},Kt={class:"d-flex flex-column",style:{"min-height":"100vh"}},Et={class:"fixed-top"},Ft={class:"navbar navbar-expand-lg navbar-light"},Gt={class:"container"},Yt={class:"d-flex align-items-center"},Wt=e("img",{src:O,style:{height:"40px"},class:"logo me-1",alt:""},null,-1),Jt=e("div",null,[e("p",{class:"text-darkBrown mb-0",style:{"font-size":"16px"}},"甜點食譜一鍵購"),e("p",{class:"fw-light mb-0",style:{"font-family":"'Rajdhani', sans-serif","font-size":"10px","margin-top":"-6px",color:"#5a5ad0"}},"Easy Buy Easy Make")],-1),Qt={class:"position-absolute end-0"},Xt={key:0,class:"position-absolute border border-blue text-blue fw-bold",style:{padding:"2px","border-radius":"25px",width:"25px",height:"25px","font-size":"12px",top:"-10px",left:"20px"}},Zt=e("span",{class:"material-icons text-blue fs-4"},"shopping_cart",-1),es=e("span",{class:"material-icons link-blue fs-4"}," favorite ",-1),ts=e("span",{class:"material-icons-outlined fs-4"},"search",-1),ss=[ts],os=e("span",{class:"material-icons-outlined fs-4"}," menu ",-1),ls=[os],ns={id:"navbarNav",class:"collapse navbar-collapse",ref:"menuCollapse"},as={class:"mainMenu navbar-nav mx-auto text-center text-lg-start"},is={class:"nav-item me-lg-3",style:{"white-space":"nowrap"}},rs={class:"nav-item mx-lg-3",style:{"white-space":"nowrap"}},ds={class:"nav-item mx-lg-3",style:{"white-space":"nowrap"}},cs={class:"nav-item ms-lg-3",style:{"white-space":"nowrap"}},us={key:0,class:"navbar-nav d-flex align-items-center"},hs={class:"login nav-item me-lg-3 mb-2 mb-lg-0",style:{"white-space":"nowrap"}},ms={class:"signup nav-item me-lg-4",style:{"white-space":"nowrap"}},ps={key:1,class:"navbar-nav d-lg-flex align-items-lg-center"},bs={key:0,class:"nav-item me-lg-3",style:{"white-space":"nowrap"}},gs={class:"nav-item fs-5 me-4 d-flex align-items-center justify-content-center justify-content-lg-start"},fs=["src"],_s={key:1,class:"bi bi-person-circle me-3 fs-1 text-blue"},ys={class:"fw-bold",style:{"white-space":"nowrap","font-size":"16px"}},vs={class:"nav-item me-lg-3",style:{"white-space":"nowrap"}},ws=e("span",{class:"material-icons link-blue fs-4"}," favorite ",-1),ks={key:0,class:"position-absolute border fw-bold border-blue text-blue",style:{padding:"2px","border-radius":"25px",width:"25px",height:"25px","font-size":"12px",top:"-12px",left:"10px"}},xs=e("span",{class:"material-icons link-blue"},"shopping_cart",-1),Cs={class:"bg-white collapse navbar-collapse py-1",ref:"searchCollapse"},$s=e("option",{value:"食譜搜尋"},"食譜搜尋",-1),Ns=e("option",{value:"產品搜尋"},"產品搜尋",-1),Ms=[$s,Ns],Ts={key:0,class:"m-4 d-lg-none"},Is=e("h5",{class:"text-center fw-bold"},"食譜搜尋",-1),Ds={class:"list-unstyled"},Rs={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},Ls=e("label",{for:"category",class:"form-label me-auto ms-2",style:{"font-size":"14px"}},"種類",-1),Ss=V('<option value="全部" selected>全部</option><option value="台式甜點">台式甜點</option><option value="法式甜點">法式甜點</option><option value="美式甜點">美式甜點</option><option value="日式甜點">日式甜點</option><option value="義式甜點">義式甜點</option>',6),zs=[Ss],Os={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},Ps=e("label",{for:"category",class:"form-label me-auto ms-2 mt-2",style:{"font-size":"14px"}},"成本或評價",-1),Vs=e("option",{value:"成本"},"成本",-1),As=e("option",{value:"評價"},"評價",-1),Hs=[Vs,As],Bs={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},Us=e("label",{for:"category",class:"form-label me-auto ms-2 mt-2",style:{"font-size":"14px"}},"由高到低或由低到高",-1),qs=e("option",{value:"不拘"},"不拘",-1),js=e("option",{value:"高到低"},"高到低",-1),Ks=e("option",{value:"低到高"},"低到高",-1),Es=[qs,js,Ks],Fs={class:"bg-white border-0 position-relative"},Gs={class:"border rounded-pill border-lightred"},Ys=e("span",{class:"material-icons-outlined text-lightred"},"search",-1),Ws=[Ys],Js={key:1,class:"m-4 d-lg-none"},Qs=e("h5",{class:"text-center fw-bold"},"產品搜尋",-1),Xs={class:"list-unstyled"},Zs={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},eo=e("label",{for:"category",class:"form-label me-auto ms-2 mt-2",style:{"font-size":"14px"}},"種類",-1),to=e("option",{value:"全部"},"全部",-1),so=e("option",{value:"食材組合包"},"食材組合包",-1),oo=e("option",{value:"熱銷單品"},"熱銷單品",-1),lo=e("option",{value:"特價商品"},"特價商品",-1),no=[to,so,oo,lo],ao={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},io=e("label",{for:"productPriceOrRate",class:"form-label me-auto ms-2 mt-2",style:{"font-size":"14px"}},"價格或評價",-1),ro=e("option",{value:"價格"},"價格",-1),co=e("option",{value:"評價"},"評價",-1),uo=[ro,co],ho={class:"text-center mb-3 d-flex flex-column border-bottom",style:{"border-color":"#D3CCC1 !important"}},mo=e("label",{for:"productHighOrLow",class:"form-label me-auto ms-2 mt-2",style:{"font-size":"14px"}},"由高到低或由低到高",-1),po=e("option",{value:"不拘"},"不拘",-1),bo=e("option",{value:"高到低"},"高到低",-1),go=e("option",{value:"低到高"},"低到高",-1),fo=[po,bo,go],_o={class:"border-0 position-relative"},yo={class:"border rounded-pill border-lightred"},vo=e("span",{class:"material-icons-outlined text-lightred"},"search",-1),wo=[vo],ko=e("i",{class:"bi bi-arrow-up-circle-fill",style:{"font-size":"35px"}},null,-1),xo=[ko],Co={key:0,class:"position-absolute bg-lightBlue text-blue fw-bold border border-blue",style:{padding:"2px","border-radius":"25px",width:"25px",height:"25px","font-size":"12px",top:"-10px",left:"30px"}},$o=e("i",{class:"bi bi-chat-dots-fill",style:{"font-size":"35px"}},null,-1),No=V('<div class="container d-flex flex-column flex-lg-row align-items-center" style="padding:40px 0;"><div class="d-flex justify-content-center align-items-center mt-2 mb-3 mb-lg-0"><img src="'+O+'" style="height:60px;" class="logo me-1" alt=""><div><p class="text-darkBrown mb-0 text-start" style="font-size:24px;">甜點食譜一鍵購</p><p class="fw-light mb-0 text-start" style="font-family:&#39;Rajdhani&#39;, sans-serif;color:#5a5ad0;font-size:18px;margin-top:-6px;">Easy Buy Easy Make</p></div></div><div class="ms-lg-auto d-flex flex-column align-items-lg-end align-items-center"><ul id="contactInfo" class="list-unstyled d-flex"><li class="me-4 hvr-bob"><a href="#" class="text-decoration-none link-blue"><i class="bi bi-instagram me-2" style="font-size:34px;"></i></a></li><li class="me-4 hvr-bob"><a href="#" class="text-decoration-none link-blue"><i class="bi bi-facebook me-2" style="font-size:34px;"></i></a></li><li class="hvr-bob"><a href="#" class="text-decoration-none link-blue"><i class="bi bi-envelope me-2" style="font-size:34px;"></i></a></li></ul><p class="mb-0 text-center text-lg-start" style="font-size:10px;">本網站僅作為網頁製作練習使用<br class="d-block d-lg-none"><span class="d-none d-lg-inline-block">，</span>圖片、資料源自網路，無任何商業利益行為</p><p class="mb-0 text-lg-end text-center" style="font-size:10px;">Copyright © 2022 甜點食譜一鍵購 All Rights Reserved.</p></div></div>',1),Mo=[No];function To(t,s,f,M,n,c){const r=k("RouterLink"),h=k("RouterView"),o=k("CartModal"),_=k("ChatModal");return l(),a("div",Kt,[e("header",Et,[e("div",{class:x(["",{"bg-white":n.searchToggle}]),style:{"background-color":"rgba(255, 255, 255, .4)","backdrop-filter":"blur(10px)"}},[e("nav",Ft,[e("div",Gt,[e("div",Yt,[m(r,{to:"/home",onClick:s[0]||(s[0]=i=>c.reload("/home")),class:"navbar-brand d-flex align-items-center"},{default:b(()=>[Wt,Jt]),_:1}),e("div",Qt,[e("button",{class:"btn btn-sm position-relative d-lg-none border-0 me-3",onClick:s[1]||(s[1]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),a("span",Xt,d(t.cartNum),1)):u("",!0),Zt]),m(r,{onClick:s[2]||(s[2]=i=>c.reload("/bookmarks")),to:"/bookmarks",class:"d-lg-none btn btn-sm position-relative border-0"},{default:b(()=>[es]),_:1}),e("button",{class:"navbar-toggler btn border-0 p-2 ms-2 link-blue",type:"button",onClick:s[3]||(s[3]=()=>n.searchToggle=!n.searchToggle)},ss),e("button",{class:"navbar-toggler btn border-0 link-blue",type:"button",onClick:s[4]||(s[4]=()=>n.menuToggle=!n.menuToggle)},ls)])]),e("div",ns,[e("ul",as,[e("li",is,[m(r,{to:"/recipes",onClick:s[5]||(s[5]=i=>c.reload("/recipes")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("甜點食譜")]),_:1})]),e("li",rs,[m(r,{to:"/products",onClick:s[6]||(s[6]=i=>c.reload("/products")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("材料購買")]),_:1})]),e("li",ds,[m(r,{to:"/discounts",onClick:s[7]||(s[7]=i=>c.reload("/discounts")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("優惠特報")]),_:1})]),e("li",cs,[m(r,{to:"/member",onClick:s[8]||(s[8]=i=>c.reload("/member")),"active-class":"active-link",class:"nav-link d-inline-block"},{default:b(()=>[p("會員專區")]),_:1})])]),t.uid?t.uid?(l(),a("ul",ps,[t.user.admin?(l(),a("li",bs,[m(r,{to:"/admin/products",class:"nav-link text-center text-lg-start"},{default:b(()=>[p("進入後台")]),_:1})])):u("",!0),e("li",gs,[t.user.headshotImg?(l(),a("img",{key:0,src:t.user.headshotImg,alt:"",height:"50",width:"50",class:"me-3 rounded-circle",style:{"object-fit":"cover"}},null,8,fs)):t.user.headshotImg?u("",!0):(l(),a("i",_s)),e("span",ys,d(t.user.nickName),1)]),e("li",vs,[e("a",{href:"#",class:"nav-link text-center text-lg-start",onClick:s[11]||(s[11]=L((...i)=>t.logout&&t.logout(...i),["prevent"]))},"登出")])])):u("",!0):(l(),a("ul",us,[e("li",hs,[m(r,{to:"/login",onClick:s[9]||(s[9]=i=>c.reload("/login")),"active-class":"active-link",class:"nav-link"},{default:b(()=>[p("登入")]),_:1})]),e("li",ms,[m(r,{to:"/signup",onClick:s[10]||(s[10]=i=>c.reload("/signup")),class:"text-decoration-none badge btn btn-blue rounded-pill fs-6 px-4 py-3 fw-bold",style:{}},{default:b(()=>[p("註冊")]),_:1})])])),m(r,{to:"/bookmarks",onClick:s[12]||(s[12]=i=>c.reload("/bookmarks")),class:"me-4 link-blue hvr-push d-none d-lg-block"},{default:b(()=>[ws]),_:1}),e("button",{type:"button",class:"btn position-relative p-0 border-0 d-none d-lg-block",onClick:s[13]||(s[13]=()=>this.$refs.cartModal.show())},[t.cartNum!==0?(l(),a("span",ks,d(t.cartNum),1)):u("",!0),xs])],512)])]),e("div",Cs,[g(e("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":s[14]||(s[14]=i=>n.searchItem=i)},Ms,512),[[y,n.searchItem]]),n.searchItem==="食譜搜尋"?(l(),a("div",Ts,[Is,e("ul",Ds,[e("li",Rs,[Ls,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[15]||(s[15]=i=>n.selectItem=i)},zs,512),[[y,n.selectItem]])]),e("li",Os,[Ps,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[16]||(s[16]=i=>n.priceOrRate=i)},Hs,512),[[y,n.priceOrRate]])]),e("li",Bs,[Us,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[17]||(s[17]=i=>n.highOrLow=i)},Es,512),[[y,n.highOrLow]])])]),e("div",Fs,[e("div",Gs,[g(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入甜點名稱","onUpdate:modelValue":s[18]||(s[18]=i=>n.recipeSearchName=i),onKeyup:s[19]||(s[19]=R((...i)=>c.searchRecipes&&c.searchRecipes(...i),["enter"])),style:{width:"90%"}},null,544),[[$,n.recipeSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute translate-middle",style:{top:"23px",right:"-15px"},onClick:s[20]||(s[20]=(...i)=>c.searchRecipes&&c.searchRecipes(...i))},Ws)])])])):u("",!0),n.searchItem==="產品搜尋"?(l(),a("div",Js,[Qs,e("ul",Xs,[e("li",Zs,[eo,g(e("select",{name:"",id:"category",class:"form-select border-0","onUpdate:modelValue":s[21]||(s[21]=i=>n.pageStatus=i)},no,512),[[y,n.pageStatus]])]),e("li",ao,[io,g(e("select",{name:"",id:"productPriceOrRate",class:"form-select border-0","onUpdate:modelValue":s[22]||(s[22]=i=>n.productPriceOrRate=i)},uo,512),[[y,n.productPriceOrRate]])]),e("li",ho,[mo,g(e("select",{name:"",id:"productHighOrLow",class:"form-select border-0","onUpdate:modelValue":s[23]||(s[23]=i=>n.productHighOrLow=i)},fo,512),[[y,n.productHighOrLow]])])]),e("div",_o,[e("div",yo,[g(e("input",{type:"search",class:"form-control border-0 rounded-pill",placeholder:"請輸入產品名稱","onUpdate:modelValue":s[24]||(s[24]=i=>n.productSearchName=i),onKeyup:s[25]||(s[25]=R((...i)=>c.searchProducts&&c.searchProducts(...i),["enter"])),style:{width:"90%"}},null,544),[[$,n.productSearchName]]),e("button",{type:"submit",class:"border-0 bg-transparent position-absolute translate-middle",style:{right:"-15px",top:"22px"},onClick:s[26]||(s[26]=(...i)=>c.searchProducts&&c.searchProducts(...i))},wo)])])])):u("",!0)],512)],2)]),(l(),T(h,{key:t.$route.fullPath,style:{"flex-grow":"1"}})),m(o,{ref:"cartModal"},null,512),m(_,{ref:"chatModal"},null,512),e("button",{ref:"upArrow",class:x(["link-blue bg-transparent hvr-float",{fade:!n.showScrollArrow,show:n.showScrollArrow}]),onClick:s[27]||(s[27]=(...i)=>c.goToTop&&c.goToTop(...i)),style:{position:"fixed",bottom:"20px",right:"20px",border:"0 !important"}},xo,2),t.uid?(l(),a("button",{key:0,type:"button",class:"link-blue bg-transparent",style:{position:"fixed",bottom:"20px",right:"100px",border:"0 !important","z-index":"1"},onClick:s[28]||(s[28]=()=>this.$refs.chatModal.show())},[this.$refs.chatModal&&this.$refs.chatModal.newChatNum!==0?(l(),a("span",Co,d(this.$refs.chatModal.newChatNum),1)):u("",!0),$o])):u("",!0),e("footer",{class:x(["",{"bg-lightBlue":this.$route.fullPath!=="/login"||this.$route.fullPath!=="/signup","bg-white":this.$route.fullPath==="/login"||this.$route.fullPath==="/signup"}]),style:{"margin-top":"auto"}},Mo,2)])}const Uo=P(jt,[["render",To]]);export{Uo as default};
