import{R as S}from"./vue-router-495964e8.js";import{m as B,b as L}from"./axios-0933a5f0.js";import{c as w}from"./carts-e3b12cd8.js";import{l as E,w as j,n as b,j as k}from"./runtime-dom.esm-bundler-226b1721.js";import{_ as N}from"./icon-search-d6364761.js";import{_ as C}from"./image5-4fc2427e.js";import{_ as M}from"./image4-1806383b.js";import{_ as O}from"./icon-cart-09916409.js";import{_ as g}from"./icon-star-c15bacb9.js";import{b6 as V,l as i,m as s,a3 as p,s as _,aJ as h,b3 as x,F as f,at as R,k as n,av as I,aj as r,t as P,b1 as F,j as T}from"./_plugin-vue_export-helper-31c7975b.js";import"./_commonjsHelpers-042e6b4d.js";const{VITE_PATH:d}={VITE_PATH:"https://vue-final-dbjson-3nukrua10-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},G={components:{RouterLink:S},data(){return{products:[],priceOrRate:"價格",highOrLow:"不拘",productSearchName:"",filterProducts:[],myCollapse:{},bookMarks:[],deleteId:"",AllproductRates:[],averageRate:[],rates:{},recipes:[],pageStatus:"全部",selectPage:"全部",sortRates:[],activePage:1,pageProducts:[]}},methods:{...B(w,["addCart","toastMessage"]),getProducts(){let a=`${d}/products`;this.pageStatus==="食材組合包"?a=`${d}/products?category=組合包`:this.pageStatus==="熱銷單品"?a=`${d}/products?category=單一產品`:this.pageStatus==="特價商品"&&(a=`${d}/products?isCheaper=true`),this.$http.get(`${a}`).then(o=>{console.log("產品",o.data),this.products=o.data,this.filterProducts=o.data,this.renderPage(1)}).catch(o=>{console.log(o)})},renderPage(a){console.log(this.filterProducts,"篩選後的產品");let o=0,c=12;this.activePage=a,a!==1&&a!==Math.ceil(this.filterProducts.length/12)?(o=12*(a-1),c=12*a):a===Math.ceil(this.filterProducts.length/12)&&(o=12*(a-1),c=this.filterProducts.length),this.pageProducts=this.filterProducts.slice(o,c),this.priceOrRate==="評價"&&(this.pageProducts=this.sortRates.slice(o,c))},searchProduct(){let a=`${d}/products`;this.pageStatus==="食材組合包"?a=`${d}/products?category=組合包`:this.pageStatus==="熱銷單品"?a=`${d}/products?category=單一產品`:this.pageStatus==="特價商品"&&(a=`${d}/products?isCheaper=true`),this.$http.get(`${a}`).then(o=>(console.log("產品",o.data),this.products=o.data,this.filterProducts=o.data,this.renderPage(1),this.$http.get(`${d}/productRates?_expand=product`))).then(o=>{console.log("所有產品評價",o.data),this.AllproductRates=o.data,this.AllproductRates.forEach(l=>{this.rates[l.product.id]===void 0?this.rates[l.product.id]={totalRates:l.score,people:1,averageRate:l.score/1,product:l.product}:(this.rates[l.product.id].totalRates+=l.score,this.rates[l.product.id].people+=1,this.rates[l.product.id].averageRate=Number((this.rates[l.product.id].totalRates/this.rates[l.product.id].people).toFixed(1)))}),this.products.forEach(l=>{Object.keys(this.rates).forEach(t=>{this.rates[l.id]===void 0&&(this.rates[l.id]={totalRates:0,people:0,averageRate:0,product:l})})}),console.log("所有評價分類",this.rates),console.log(this.pageStatus,"搜尋頁面"),this.sortRates=[];let c=`${d}/products`;if(this.highOrLow==="不拘"){this.filterProducts=this.products.filter(l=>l.title.match(this.productSearchName)),this.renderPage(1);return}else this.priceOrRate==="價格"?(console.log("有價格嗎?????????? 怎麼沒進到這???"),this.highOrLow==="低到高"?(c=`${d}/products?_sort=price&_order=asc`,console.log("全部 - 價格低到高!!!!!!!!!!!!!!!!!!"),this.pageStatus==="食材組合包"?c=`${d}/products?category=組合包&_sort=price&_order=asc`:this.pageStatus==="熱銷單品"?c=`${d}/products?category=單一產品&_sort=price&_order=asc`:this.pageStatus==="特價商品"&&(c=`${d}/products?isCheaper=true&_sort=price&_order=asc`)):this.highOrLow==="高到低"&&(c=`${d}/products?_sort=price&_order=desc`,console.log("全部 - 價格高到低!!!!!!!!!!!!!!!!!!"),this.pageStatus==="食材組合包"?c=`${d}/products?category=組合包&_sort=price&_order=desc`:this.pageStatus==="熱銷單品"?c=`${d}/products?category=單一產品&_sort=price&_order=desc`:this.pageStatus==="特價商品"&&(c=`${d}/products?isCheaper=true&_sort=price&_order=desc`))):this.priceOrRate==="評價"&&(this.highOrLow==="低到高"?(this.sortRates=Object.entries(this.rates).sort((l,t)=>l[1].averageRate!==t[1].averageRate?l[1].averageRate-t[1].averageRate:l[1].totalRates-t[1].totalRates),this.pageStatus==="食材組合包"?(console.log("組合包頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.category==="組合包")):this.pageStatus==="熱銷單品"?(console.log("熱銷單品頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.category==="單一產品")):this.pageStatus==="特價商品"&&(console.log("特價商品頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.isCheaper===!0)),this.renderPage(1),console.log(this.sortRates,"排序好的產品評價 低到高")):this.highOrLow==="高到低"&&(this.sortRates=Object.entries(this.rates).sort((l,t)=>l[1].averageRate!==t[1].averageRate?t[1].averageRate-l[1].averageRate:t[1].totalRates-l[1].totalRates),this.pageStatus==="食材組合包"?(console.log("組合包頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.category==="組合包")):this.pageStatus==="熱銷單品"?(console.log("熱銷單品頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.category==="單一產品")):this.pageStatus==="特價商品"&&(console.log("特價商品頁面"),this.sortRates=this.sortRates.filter(l=>l[1].product.isCheaper===!0)),this.renderPage(1),console.log(this.sortRates,"排序好的產品評價 高到低")));this.$http.get(`${c}`).then(l=>{console.log("重新",l.data),this.filterProducts=l.data,this.filterProducts=this.filterProducts.filter(t=>t.title.match(this.productSearchName)),this.sortRates=this.sortRates.filter(t=>t[1].product.title.match(this.productSearchName)),this.renderPage(1)}).catch(l=>{console.log(l)})}).catch(o=>{console.log(o)})},getBookmarks(){if(!this.token)return;const a=`${d}/600/users/${this.userId}/productBookmarks?_expand=product`;this.$http.get(a,{headers:{authorization:`Bearer ${this.token}`}}).then(o=>{console.log(o.data),this.bookMarks=o.data}).catch(o=>{console.log(o)})},addBookmark(a){if(!this.token){this.toastMessage("登入才可使用收藏功能","error");return}const o={userId:this.userId,productId:a};this.$http.post(`${d}/600/users/${this.userId}/productBookmarks?_expand=product`,o,{headers:{authorization:`Bearer ${this.token}`}}).then(c=>{console.log(c.data),this.getBookmarks(),this.toastMessage("收藏成功")}).catch(c=>{console.log(c)})},deleteBookmark(a){let o="";this.bookMarks.forEach(c=>{c.productId.toString()===a.toString()&&(o=c.id)}),this.$http.delete(`${d}/600/productBookmarks/${Number(o)}`,{headers:{authorization:`Bearer ${this.token}`}}).then(c=>{console.log(c.data),this.getBookmarks(),this.toastMessage("刪除收藏")}).catch(c=>{console.log(c)})},getAllProductRates(){this.$http.get(`${d}/productRates?_expand=product`).then(a=>{console.log("所有產品評價",a.data),this.AllproductRates=a.data,this.AllproductRates.forEach(o=>{this.rates[o.product.id]===void 0?this.rates[o.product.id]={totalRates:o.score,people:1,averageRate:o.score/1,product:o.product}:(this.rates[o.product.id].totalRates+=o.score,this.rates[o.product.id].people+=1,this.rates[o.product.id].averageRate=Number((this.rates[o.product.id].totalRates/this.rates[o.product.id].people).toFixed(1)))}),this.products.forEach(o=>{Object.keys(this.rates).forEach(c=>{this.rates[o.id]===void 0&&(this.rates[o.id]={totalRates:0,people:0,averageRate:0,product:o})})}),console.log("所有評價分類",this.rates)}).catch(a=>{console.log(a)})}},mounted(){this.getBookmarks(),(this.$route.query.pageStatus||this.$route.query.searchName||this.$route.query.valueHighOrLow||this.$route.query.valuePriceOrRate)&&(this.pageStatus=this.$route.query.pageStatus,this.priceOrRate=this.$route.query.valuePriceOrRate,this.highOrLow=this.$route.query.valueHighOrLow,this.productSearchName=this.$route.query.searchName,console.log("存入了",this.pageStatus,this.priceOrRate,this.highOrLow,this.productSearchName)),this.searchProduct()},watch:{selectPage(){this.pageStatus=this.selectPage,this.priceOrRate="價格",this.highOrLow="不拘",this.sortRates=[],this.getProducts(),this.renderPage(1),console.log("換頁囉",this.pageStatus)}},computed:{...L(w,["token","userId"])}},A={class:"my-10"},U={class:"nav nav-tabs container d-flex justify-content-center justify-content-lg-start",id:"myTab",role:"tablist"},q={class:"nav-item",role:"presentation "},D={class:"nav-item",role:"presentation"},z=s("i",{class:"bi bi-bag-check-fill"},null,-1),H={class:"nav-item",role:"presentation"},K=s("i",{class:"bi bi-fire"},null,-1),J={class:"nav-item",role:"presentation"},Q=s("i",{class:"bi bi-percent"},null,-1),W={class:"d-none d-lg-block container selectProduct pt-4"},X={class:"input-group"},Y={class:"btn btn-outline-brown px-5","data-bs-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"},Z=s("i",{class:"bi bi-caret-down-fill"},null,-1),$={class:"ms-2 fw-bold"},ee={class:"btn btn-outline-brown px-5",type:"button","data-bs-toggle":"collapse","data-bs-target":"#multiCollapseExample2","aria-expanded":"false","aria-controls":"multiCollapseExample2"},te=s("i",{class:"bi bi-caret-down-fill"},null,-1),se={class:"ms-2 fw-bold"},oe=s("img",{src:N,style:{height:"25px"},alt:""},null,-1),re=[oe],ie={class:"row g-0",id:"myGroup"},le={class:"col-2"},ae={ref:"collapse1","data-bs-parent":"#myGroup",class:"collapse multi-collapse",id:"multiCollapseExample1"},ce={class:"card card-body border-0"},ne={class:"btn-group-vertical",role:"group","aria-label":"Vertical radio toggle button group"},de=s("label",{class:"btn btn-outline-brown",for:"selectprice"},"價格",-1),pe=s("label",{class:"btn btn-outline-brown",for:"selectRate"},"評價",-1),he={class:"col-2"},ue={ref:"collapse2","data-bs-parent":"#myGroup",class:"collapse multi-collapse",id:"multiCollapseExample2"},ge={class:"card card-body border-0"},_e={class:"btn-group-vertical",role:"group","aria-label":"Vertical radio toggle button group"},be=s("label",{class:"btn btn-outline-brown",for:"noDifference"},"不拘",-1),xe=s("label",{class:"btn btn-outline-brown",for:"highToLow"},"高到低",-1),fe=s("label",{class:"btn btn-outline-brown",for:"lowToHigh"},"低到高",-1),Re={class:"container mt-4"},ke={key:0,class:"row row-cols-lg-4 row-cols-1 gy-4"},ye={class:"card position-relative border-0 bg-transparent",style:{"border-radius":"20px"}},ve=["src"],Fe={class:"card-text"},Pe=["onClick"],me=s("img",{src:C},null,-1),we=[me],Ce={key:0,style:{"pointer-events":"none","font-size":"14px"},class:"d-flex flex-column align-items-center text-orange p-2 bg-brown border-0 me-3 position-absolute top-0 end-0"},Me={class:"mb-1"},Oe=["onClick"],Se=s("img",{src:M},null,-1),Be=[Se],Le=["onClick"],Ee=s("img",{src:O,style:{height:"48px"},alt:"",class:"rounded-circle shadow-sm"},null,-1),je=[Ee],Ne={class:"h5 fw-bold"},Ve={class:"row"},Ie={key:0,class:"col"},Te={key:0,class:"me-1"},Ge={key:1,class:"col-12"},Ae=s("span",{class:"me-1 text-muted"},"未有評價",-1),Ue=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),qe=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),De=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),ze=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),He=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),Ke=[Ae,Ue,qe,De,ze,He],Je={class:"col-12 d-flex justify-content-end"},Qe={class:"mt-1"},We={key:1,class:"row row-cols-lg-4 row-cols-1 gy-4"},Xe={class:"card position-relative border-0 bg-transparent",style:{"border-radius":"20px"}},Ye=["src"],Ze={class:"card-text"},$e=["onClick"],et=s("img",{src:C},null,-1),tt=[et],st={key:0,style:{"pointer-events":"none","font-size":"14px"},class:"d-flex flex-column align-items-center text-orange p-2 bg-brown border-0 me-3 position-absolute top-0 end-0"},ot={class:"mb-1"},rt=["onClick"],it=s("img",{src:M},null,-1),lt=[it],at=["onClick"],ct=s("img",{src:O,style:{height:"48px"},alt:"",class:"rounded-circle shadow-sm"},null,-1),nt=[ct],dt={class:"h5 fw-bold"},pt={class:"row"},ht={key:0,class:"col-12"},ut={key:0,class:"me-1"},gt={key:1,class:"col-12"},_t=s("span",{class:"me-1 text-muted"},"未有評價",-1),bt=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),xt=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),ft=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),Rt=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),kt=s("img",{src:g,class:"mb-1 me-1",width:"17",height:"17",alt:""},null,-1),yt=[_t,bt,xt,ft,Rt,kt],vt={class:"col-12 d-flex justify-content-end"},Ft={class:"mt-1"},Pt={key:0,"aria-label":"Page navigation example"},mt={class:"pagination d-flex justify-content-center mt-5"},wt={key:0,class:"page-item mx-1"},Ct=s("i",{class:"bi bi-chevron-left mx-auto"},null,-1),Mt=[Ct],Ot=["onClick"],St={key:1,class:"page-link border-0 rounded-circle px-3 py-2 active",style:{"pointer-events":"none"}},Bt={key:1,class:"page-item mx-1"},Lt=s("i",{class:"bi bi-chevron-right mx-auto"},null,-1),Et=[Lt],jt={key:1,"aria-label":"Page navigation example"},Nt={class:"pagination d-flex justify-content-center mt-5"},Vt={key:0,class:"page-item mx-1"},It=s("i",{class:"bi bi-chevron-left mx-auto"},null,-1),Tt=[It],Gt=["onClick"],At={key:1,class:"page-link border-0 rounded-circle px-3 py-2 active",style:{"pointer-events":"none"}},Ut={key:1,class:"page-item mx-1"},qt=s("i",{class:"bi bi-chevron-right mx-auto"},null,-1),Dt=[qt];function zt(a,o,c,l,t,u){const y=I("RouterLink");return r(),i("div",A,[s("ul",U,[s("li",q,[s("button",{class:p(["nav-link px-1 px-lg-3 py-lg-2",{active:t.pageStatus==="全部"}]),id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true",onClick:o[0]||(o[0]=()=>t.selectPage="全部")},"全部",2)]),s("li",D,[s("button",{class:p(["nav-link px-1 px-lg-3 py-lg-2",{active:t.pageStatus==="食材組合包"}]),id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false",onClick:o[1]||(o[1]=()=>t.selectPage="食材組合包")},[z,_(" 食材組合包")],2)]),s("li",H,[s("button",{class:p(["nav-link px-1 px-lg-3 py-lg-2",{active:t.pageStatus==="熱銷單品"}]),id:"popularProducts-tab","data-bs-toggle":"tab","data-bs-target":"#popularProducts",type:"button",role:"tab","aria-controls":"popularProducts","aria-selected":"false",onClick:o[2]||(o[2]=()=>t.selectPage="熱銷單品")},[K,_(" 熱銷單品")],2)]),s("li",J,[s("button",{class:p(["nav-link px-1 px-lg-3 py-lg-2",{active:t.pageStatus==="特價商品"}]),id:"contact-tab","data-bs-toggle":"tab","data-bs-target":"#contact",type:"button",role:"tab","aria-controls":"contact","aria-selected":"false",onClick:o[3]||(o[3]=()=>t.selectPage="特價商品")},[Q,_(" 特價商品")],2)])]),s("div",W,[s("div",X,[s("a",Y,[_("篩選對象 "),Z,s("span",$,h(t.priceOrRate),1)]),s("button",ee,[_("篩選值 "),te,s("span",se,h(t.highOrLow),1)]),x(s("input",{type:"search",class:"form-control border-brown border-end-0",placeholder:"請輸入食材名稱","aria-label":"Example text with two button addons","onUpdate:modelValue":o[4]||(o[4]=e=>t.productSearchName=e),onKeyup:o[5]||(o[5]=j((...e)=>u.searchProduct&&u.searchProduct(...e),["enter"]))},null,544),[[E,t.productSearchName]]),s("button",{type:"submit",class:"btn border border-brown border-start-0 bg-transparent",onClick:o[6]||(o[6]=b((...e)=>u.searchProduct&&u.searchProduct(...e),["prevent"]))},re)]),s("div",ie,[s("div",le,[s("div",ae,[s("div",ce,[s("div",ne,[x(s("input",{type:"radio",class:"btn-check",value:"價格",name:"priceOrRate",id:"selectprice",autocomplete:"off","onUpdate:modelValue":o[7]||(o[7]=e=>t.priceOrRate=e)},null,512),[[k,t.priceOrRate]]),de,x(s("input",{type:"radio",class:"btn-check",value:"評價",name:"priceOrRate",id:"selectRate",autocomplete:"off","onUpdate:modelValue":o[8]||(o[8]=e=>t.priceOrRate=e)},null,512),[[k,t.priceOrRate]]),pe])])],512)]),s("div",he,[s("div",ue,[s("div",ge,[s("div",_e,[x(s("input",{type:"radio",class:"btn-check",value:"不拘",name:"highOrLow",id:"noDifference",autocomplete:"off",checked:"","onUpdate:modelValue":o[9]||(o[9]=e=>t.highOrLow=e)},null,512),[[k,t.highOrLow]]),be,x(s("input",{type:"radio",class:"btn-check",value:"高到低",name:"highOrLow",id:"highToLow",autocomplete:"off","onUpdate:modelValue":o[10]||(o[10]=e=>t.highOrLow=e)},null,512),[[k,t.highOrLow]]),xe,x(s("input",{type:"radio",class:"btn-check",value:"低到高",name:"highOrLow",id:"lowToHigh",autocomplete:"off","onUpdate:modelValue":o[11]||(o[11]=e=>t.highOrLow=e)},null,512),[[k,t.highOrLow]]),fe])])],512)])])]),s("div",Re,[t.sortRates.length?t.sortRates.length?(r(),i("div",We,[(r(!0),i(f,null,R(t.pageProducts,(e,v)=>(r(),i("div",{class:"col text-decoration-none",key:v+6778},[s("div",Xe,[e[1].product?(r(),T(y,{key:0,to:`/products/${e[1].product.id}`},{default:F(()=>[s("img",{src:e[1].product.imgUrl,class:"card-img",height:"220",style:{"border-radius":"20px","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,Ye)]),_:2},1032,["to"])):n("",!0),s("h5",Ze,[s("button",{type:"button",class:"position-absolute bookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>u.addBookmark(e[1].product.id)},tt,8,$e),e[1].product.isCheaper?(r(),i("span",st,[s("p",ot,h(((1-e[1].product.price/e[1].product.originalPrice)*10).toFixed(1)),1),_("折")])):n("",!0),(r(!0),i(f,null,R(t.bookMarks,m=>(r(),i("div",{key:m.id+4567},[m.productId===e[1].product.id?(r(),i("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>u.deleteBookmark(e[1].product.id)},lt,8,rt)):n("",!0)]))),128)),s("button",{onClick:()=>a.addCart(e[1].product),type:"button",class:"buyBtn border-0 bg-transparent me-3 position-absolute top-50 end-0"},nt,8,at)]),P(y,{to:`/item[1].products/${e[1].product.id}`,class:"card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:F(()=>[s("h5",dt,h(e[1].product.title),1),s("div",pt,[t.rates[e[1].product.id].totalRates!==0?(r(),i("div",ht,[t.rates[e[1].product.id]?(r(),i("span",ut,h((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)%1===0?t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people:(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)),1)):n("",!0),t.rates[e[1].product.id]?(r(),i("i",{key:1,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===0&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=0,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>1||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==0&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=0||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==1,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<1&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<0||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==0}])},null,2)):n("",!0),t.rates[e[1].product.id]?(r(),i("i",{key:2,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===1&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=1,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>2||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==1&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=1||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==2,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<2&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<1||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==1}])},null,2)):n("",!0),t.rates[e[1].product.id]?(r(),i("i",{key:3,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===2&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=2,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>3||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==2&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=2||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==3,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<3&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<2||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==2}])},null,2)):n("",!0),t.rates[e[1].product.id]?(r(),i("i",{key:4,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===3&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=3,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>4||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==3&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=3||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==4,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<4&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<3||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==3}])},null,2)):n("",!0),t.rates[e[1].product.id]?(r(),i("i",{key:5,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))===4&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=4,"text-orange":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)>5||Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))==4&&(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)!=4||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==5,"text-lightGray":(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)<5&&Math.floor((t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1))<4||!(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)||(t.rates[e[1].product.id].totalRates/t.rates[e[1].product.id].people).toFixed(1)==4}])},null,2)):n("",!0)])):(r(),i("div",gt,yt)),s("div",vt,[s("del",{class:p(["me-2 text-muted mt-1",{"d-none":!e[1].product.isCheaper}])},"NT$ "+h(e[1].product.originalPrice),3),s("span",Ft,[s("span",{class:p({"text-danger":e[1].product.isCheaper,"fw-bold":e[1].product.isCheaper})},"NT$ "+h(e[1].product.price),3),_(" / "+h(e[1].product.num)+h(e[1].product.unit),1)])])])]),_:2},1032,["to"])])]))),128))])):n("",!0):(r(),i("div",ke,[(r(!0),i(f,null,R(t.pageProducts,e=>(r(),i("div",{class:"col text-decoration-none",key:e.id},[s("div",ye,[P(y,{to:`/products/${e.id}`},{default:F(()=>[s("img",{src:e.imgUrl,class:"card-img",height:"220",style:{"border-radius":"20px","object-fit":"cover","max-width":"100%","max-height":"100%"},alt:""},null,8,ve)]),_:2},1032,["to"]),s("h5",Fe,[s("button",{type:"button",class:"position-absolute bookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>u.addBookmark(e.id)},we,8,Pe),e.isCheaper?(r(),i("span",Ce,[s("p",Me,h((100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0))%10===0?(100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0)).toString().charAt(0):100-((e.originalPrice-e.price)/e.originalPrice*100).toFixed(0)),1),_("折")])):n("",!0),(r(!0),i(f,null,R(t.bookMarks,v=>(r(),i("div",{key:v.id+4567},[v.productId===e.id?(r(),i("button",{key:0,type:"button",class:"position-absolute deleteBookmarkBtn border-0 bg-transparent me-auto top-0 m-3",onClick:()=>u.deleteBookmark(e.id)},Be,8,Oe)):n("",!0)]))),128)),s("button",{onClick:()=>a.addCart(e),type:"button",class:"buyBtn border-0 bg-transparent me-3 position-absolute end-0",style:{top:"155px"}},je,8,Le)]),P(y,{to:`/products/${e.id}`,class:"card-footer bg-transparent border-0 text-decoration-none link-darkBrown"},{default:F(()=>[s("h5",Ne,h(e.title),1),s("div",Ve,[t.rates[e.id]&&t.rates[e.id].totalRates!==0?(r(),i("div",Ie,[t.rates[e.id]?(r(),i("span",Te,h((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)%1===0?t.rates[e.id].totalRates/t.rates[e.id].people:(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)),1)):n("",!0),t.rates[e.id]?(r(),i("i",{key:1,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===0&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=0,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>1||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==0&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=0||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==1,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<1&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<0||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==0}])},null,2)):n("",!0),t.rates[e.id]?(r(),i("i",{key:2,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===1&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=1,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>2||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==1&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=1||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==2,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<2&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<1||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==1}])},null,2)):n("",!0),t.rates[e.id]?(r(),i("i",{key:3,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===2&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=2,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>3||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==2&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=2||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==3,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<3&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<2||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==2}])},null,2)):n("",!0),t.rates[e.id]?(r(),i("i",{key:4,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===3&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=3,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>4||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==3&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=3||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==4,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<4&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<3||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==3}])},null,2)):n("",!0),t.rates[e.id]?(r(),i("i",{key:5,class:p(["bi bi-star-fill me-1",{"bi-star-half":Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))===4&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=4,"text-orange":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)>5||Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))==4&&(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)!=4||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==5,"text-lightGray":(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)<5&&Math.floor((t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1))<4||!(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)||(t.rates[e.id].totalRates/t.rates[e.id].people).toFixed(1)==4}])},null,2)):n("",!0)])):t.rates[e.id]&&t.rates[e.id].totalRates===0?(r(),i("div",Ge,Ke)):n("",!0),s("div",Je,[s("del",{class:p(["me-2 text-muted mt-1",{"d-none":!e.isCheaper}])},"NT$ "+h(e.originalPrice),3),s("span",Qe,[s("span",{class:p({"text-danger":e.isCheaper,"fw-bold":e.isCheaper})},"NT$ "+h(e.price),3),_(" / "+h(e.num)+h(e.unit),1)])])])]),_:2},1032,["to"])])]))),128))]))]),t.priceOrRate==="價格"?(r(),i("nav",Pt,[s("ul",mt,[t.activePage!==1?(r(),i("li",wt,[s("a",{class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Previous",onClick:o[12]||(o[12]=b(()=>u.renderPage(t.activePage-1),["prevent"])),style:{padding:"8px 12px"}},Mt)])):n("",!0),(r(!0),i(f,null,R(Math.ceil(t.filterProducts.length/12),e=>(r(),i("li",{class:p(["page-item mx-1",{active:t.activePage===e}]),key:e+23423},[t.activePage!==e?(r(),i("a",{key:0,onClick:b(()=>u.renderPage(e),["prevent"]),class:"page-link border-0 rounded-circle px-3 py-2",href:"#"},h(e),9,Ot)):t.activePage===e?(r(),i("span",St,h(e),1)):n("",!0)],2))),128)),t.activePage!==Math.ceil(t.filterProducts.length/12)?(r(),i("li",Bt,[s("a",{onClick:o[13]||(o[13]=b(()=>u.renderPage(t.activePage+1),["prevent"])),class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Next",style:{padding:"8px 12px"}},Et)])):n("",!0)])])):t.priceOrRate==="評價"?(r(),i("nav",jt,[s("ul",Nt,[t.activePage!==1?(r(),i("li",Vt,[s("a",{class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Previous",onClick:o[14]||(o[14]=b(()=>u.renderPage(t.activePage-1),["prevent"])),style:{padding:"8px 12px"}},Tt)])):n("",!0),(r(!0),i(f,null,R(Math.ceil(t.sortRates.length/12),e=>(r(),i("li",{class:p(["page-item mx-1",{active:t.activePage===e}]),key:e+23423},[t.activePage!==e?(r(),i("a",{key:0,onClick:b(()=>u.renderPage(e),["prevent"]),class:"page-link border-0 rounded-circle px-3 py-2",href:"#"},h(e),9,Gt)):t.activePage===e?(r(),i("span",At,h(e),1)):n("",!0)],2))),128)),t.activePage!==Math.ceil(t.sortRates.length/12)?(r(),i("li",Ut,[s("a",{onClick:o[15]||(o[15]=b(()=>u.renderPage(t.activePage+1),["prevent"])),class:"page-link border-0 rounded-circle d-flex",href:"#","aria-label":"Next",style:{padding:"8px 12px"}},Dt)])):n("",!0)])])):n("",!0)])}const ss=V(G,[["render",zt]]);export{ss as default};
