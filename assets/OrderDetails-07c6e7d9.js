import{b6 as b,l,m as t,t as u,b1 as p,aJ as s,a3 as i,k as d,F as x,at as f,s as c,av as m,aj as r}from"./_plugin-vue_export-helper-31c7975b.js";const{VITE_PATH:y}={VITE_PATH:"https://vue-final-dbjson-1aoj4rvyf-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{userId:"",token:"",nickName:"",user:{},order:[],barWidth:0}},methods:{getOrder(){const{id:a}=this.$route.params;this.$http.get(`${y}/600/orders/${a}`,{headers:{authorization:`Bearer ${this.token}`}}).then(n=>{console.log("單筆訂單",n.data),this.order=n.data,this.order.deliveryStatus==="待出貨"?this.barWidth=0:this.order.deliveryStatus==="運送中"?this.barWidth=33:this.order.deliveryStatus==="待取貨"?this.barWidth=66:this.order.deliveryStatus==="訂單完成"&&(this.barWidth=100)}).catch(n=>{console.log(n)})}},mounted(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.userId=localStorage.getItem("userId"),this.userId=Number(this.userId),this.nickName=localStorage.getItem("nickName"),this.getOrder()}},g={class:"mt-10 container"},v={"aria-label":"breadcrumb"},k={class:"breadcrumb"},W={class:"breadcrumb-item h5"},N=t("li",{class:"breadcrumb-item h5"},"訂單狀況",-1),T={class:"breadcrumb-item active h5","aria-current":"page"},B={class:"ms-4"},S={class:"d-flex position-relative mt-5 mb-3"},C=t("div",{class:"border-top border-5 border-lightBrown mx-auto",style:{width:"1010px"}},null,-1),I=t("div",{class:"p-2 bg-brown rounded-circle position-absolute",style:{bottom:"-6px",left:"130px"}},null,-1),D={key:0,class:"p-2 bg-brown rounded-circle position-absolute",style:{bottom:"-6px",left:"460px"}},E={key:1,class:"p-2 rounded-circle bg-white border border-lightBrown border-2 position-absolute",style:{bottom:"-7px",left:"460px"}},V={key:2,class:"p-2 bg-brown rounded-circle bg-brown position-absolute",style:{bottom:"-6px",left:"795px"}},j={key:3,class:"p-2 rounded-circle bg-white border border-lightBrown border-2 position-absolute",style:{bottom:"-7px",left:"795px"}},O={key:4,class:"p-2 bg-brown rounded-circle bg-brown position-absolute",style:{bottom:"-6px",left:"1140px"}},L={key:5,class:"p-2 rounded-circle bg-white border border-lightBrown border-2 position-absolute",style:{bottom:"-7px",left:"1140px"}},A={class:"d-flex flex-column align-items-center"},P={class:"col-10 d-flex justify-content-between list-unstyled text-lightBrown"},R=t("li",{class:"d-flex flex-column align-items-center"},[t("i",{class:"fs-1 bi bi-box-seam text-brown",style:{top:"5px",left:"87px"}}),t("h5",{class:"fw-bold text-brown",style:{top:"60px",left:"75px"}},"待出貨")],-1),q={class:"d-flex flex-column align-items-center"},z={class:"d-flex flex-column align-items-center"},M={class:"d-flex flex-column align-items-center"},F={class:"row gx-5 row-cols-1 row-cols-lg-2 my-5"},H={class:"col"},U=t("h4",{class:"text-center"},"訂購商品資訊",-1),J={key:0,class:"row py-3"},G={class:"col-12"},K={class:"row"},Q={class:"card mb-3 border-0"},X={class:"row g-0"},Y={class:"col-md-4"},Z=["src"],$={class:"col-md-8"},tt={class:"card-body"},et={class:"card-title mb-0 d-flex"},st={class:"ms-auto"},ot={class:"card-text d-flex justify-content-end"},lt={class:"mt-1"},rt=t("br",null,null,-1),it={class:"mb-0 text-danger text-end"},ct=t("hr",null,null,-1),dt={class:"col-12"},nt={class:"table table-borderless"},at=t("th",{class:"fw-normal"},"商品總金額",-1),ht={key:0,class:"text-end fw-normal"},_t=t("td",null,"運費",-1),bt={key:0,class:"text-end"},ut={key:0},pt=t("td",null,"優惠券折扣",-1),xt={class:"text-end"},ft={class:"border-top"},mt=t("td",{class:"fw-bold text-danger"},"總計金額",-1),yt={class:"text-end fw-bold text-danger"},wt={class:"col"},gt=t("h4",{class:"text-center"},"收件人資訊",-1),vt={class:"table table-borderless text-brown"},kt=t("th",{class:"fw-normal"},[t("i",{class:"bi bi-envelope-fill"}),c(" 信箱")],-1),Wt={class:"fw-normal"},Nt=t("td",null,[t("i",{class:"bi bi-person-fill"}),c(" 收件人姓名")],-1),Tt=t("td",null,[t("i",{class:"bi bi-telephone-fill"}),c(" 收件人電話")],-1),Bt=t("td",null,[t("i",{class:"bi bi-house-fill"}),c(" 收件人地址")],-1),St=t("tr",null,[t("td",null,[t("i",{class:"bi bi-wallet-fill"}),c(" 付款方式")]),t("td",null,"貨到付款")],-1),Ct=t("td",null,[t("i",{class:"bi bi-chat-left-text-fill"}),c(" 留言")],-1);function It(a,n,Dt,Et,e,Vt){const h=m("RouterLink");return r(),l("div",g,[t("nav",v,[t("ol",k,[t("li",W,[u(h,{to:"/member",href:"#",class:"link-orange"},{default:p(()=>[c("會員專區")]),_:1})]),N,t("li",T,s(e.order.deliveryStatus),1)])]),t("span",null,"訂單建立時間："+s(new Date(e.order.creatAt).toLocaleDateString()),1),t("span",B,"訂單編號："+s(e.order.id),1),t("div",S,[C,t("div",{class:i(["border-top border-5 border-brown mx-auto position-absolute",{"w-25":e.barWidth===33,"w-50":e.barWidth===66,"w-1000":e.barWidth===100}]),style:{left:"145px"}},null,2),I,e.barWidth>=33?(r(),l("div",D)):e.barWidth<33?(r(),l("div",E)):d("",!0),e.barWidth>=66?(r(),l("div",V)):e.barWidth<66?(r(),l("div",j)):d("",!0),e.barWidth===100?(r(),l("div",O)):e.barWidth<100?(r(),l("div",L)):d("",!0)]),t("div",A,[t("ul",P,[R,t("li",q,[t("i",{class:i(["bi bi-truck fs-1",{"text-brown":e.barWidth>=33}]),style:{top:"5px",left:"375px"}},null,2),t("h5",{class:i(["fw-bold",{"text-brown":e.barWidth>=33}]),style:{top:"60px",left:"365px"}},"運送中",2)]),t("li",z,[t("i",{class:i(["bi bi-house-check fs-1",{"text-brown":e.barWidth>=66}]),style:{top:"5px",left:"660px"}},null,2),t("h5",{class:i(["fw-bold",{"text-brown":e.barWidth>=66}]),style:{top:"60px",left:"650px"}},"已抵達",2)]),t("li",M,[t("i",{class:i(["bi bi-clipboard-check fs-1",{"text-brown":e.barWidth===100}]),style:{top:"5px",left:"950px"}},null,2),t("h5",{class:i(["fw-bold",{"text-brown":e.barWidth===100}]),style:{top:"60px",left:"930px"}},"訂單完成",2)])]),t("div",F,[t("div",H,[U,e.order.cart?(r(),l("div",J,[t("div",G,[t("div",K,[(r(!0),l(x,null,f(e.order.cart.items,(o,_)=>(r(),l("div",{class:"col-12",key:_+756345},[t("div",Q,[t("div",X,[t("div",Y,[t("img",{src:o.product.imgUrl,class:"img-fluid rounded-start",style:{"object-fit":"cover",height:"100px",width:"200px"}},null,8,Z)]),t("div",$,[t("div",tt,[t("h5",et,[c(s(o.product.title)+" ",1),t("span",st,"x "+s(o.qty),1)]),t("div",ot,[t("del",{class:i(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+s(o.product.originalPrice),3),t("span",lt,[t("span",{class:i({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+s(o.product.price),3),c(" / "+s(o.product.num)+s(o.product.unit),1)]),rt]),t("p",it,"小計：NT$ "+s(o.product.price*o.qty)+" / "+s(o.product.num*o.qty)+s(o.product.unit),1)])])])]),ct]))),128))])]),t("div",dt,[t("table",nt,[t("thead",null,[t("tr",null,[at,e.order.cart?(r(),l("th",ht,"NT$ "+s(e.order.cart.total),1)):d("",!0)])]),t("tbody",null,[t("tr",null,[_t,e.order.cart?(r(),l("td",bt,"NT$ "+s(e.order.cart.deliveryCharge),1)):d("",!0)]),e.order.cart.total+e.order.cart.deliveryCharge!==e.order.cart.finalTotal&&e.order.cart.coupon?(r(),l("tr",ut,[pt,t("td",xt,"- NT$ "+s(Math.ceil(e.order.cart.total*(e.order.cart.coupon.discount/100))),1)])):d("",!0),t("tr",ft,[mt,t("td",yt,"NT$ "+s(e.order.cart.finalTotal),1)])])])])])):d("",!0)]),t("div",wt,[gt,t("table",vt,[t("thead",null,[t("tr",null,[kt,t("th",Wt,s(e.order.email),1)])]),t("tbody",null,[t("tr",null,[Nt,t("td",null,s(e.order.name),1)]),t("tr",null,[Tt,t("td",null,s(e.order.phoneNum),1)]),t("tr",null,[Bt,t("td",null,s(e.order.address),1)]),St,t("tr",null,[Ct,t("td",null,s(e.order.message),1)])])])])])])])}const Ot=b(w,[["render",It]]);export{Ot as default};
