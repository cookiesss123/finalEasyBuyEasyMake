import{R as x}from"./vue-router-495964e8.js";import{n as w}from"./runtime-dom.esm-bundler-226b1721.js";import{_ as v,a as y,b as k,c as V,d as T,e as E,f as B,g as C}from"./2747131-59a542f2.js";import{_ as I}from"./logo-5ad94f32.js";import{_ as S}from"./4771632-6f97335a.js";import{b6 as L,l as N,m as s,t as a,b1 as m,r as h,s as n,av as c,aj as R,a3 as d}from"./_plugin-vue_export-helper-31c7975b.js";const{VITE_PATH:M}={VITE_PATH:"https://vue-final-dbjson-3nukrua10-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},D={data(){return{user:{email:"",password:""},expired:""}},components:{RouterLink:x},methods:{login(){this.$http.post(`${M}/login`,this.user).then(t=>{const e=new Date,p=e.getTime()+36e5;e.setTime(p),console.log(t.data);const{accessToken:o,user:l}=t.data;document.cookie=`myToken=${o}; path=/; expires=${e.toUTCString()}`,localStorage.setItem("nickName",l.nickName),localStorage.setItem("userId",l.id),console.log("登入成功"),this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500}),t.data.user.admin?(localStorage.setItem("admin",t.data.user.admin),this.$router.push("/admin/recipes")):t.data.user.admin||this.$router.push("/home")}).catch(t=>{t.response.data==="Incorrect password"?this.$swal({icon:"error",title:"密碼錯誤",showConfirmButton:!1,timer:1500}):t.response.data==="Cannot find user"&&this.$swal({icon:"error",title:"查無此帳號",showConfirmButton:!1,timer:1500})})}},mounted(){}},F={class:"py-2 d-flex align-items-center bg-lightYellow"},U={class:"container my-7"},j={"aria-label":"breadcrumb"},A={class:"breadcrumb"},P={class:"breadcrumb-item fs-5"},$=s("li",{class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},"登入",-1),H={class:"row mt-3 gx-3 rounded py-3"},O=h('<div class="col d-none d-lg-block"><div class="card h-100 border-0 bg-lightYellow mt-9" style="border-radius:30px;"><img src="'+v+'" class="img-fluid card-img-top" alt="" style="border-radius:30px;"><div class="card-img-overlay" style="top:450px;"><h2 class="text-darkBrown text-center mb-4 h1"> 您在找的 <span class="text-orange"> 食譜材料 </span> 都在這裡 </h2></div></div></div>',1),Y={class:"col"},q={class:"login-card card h-100 border",style:{"border-radius":"20px",padding:"0 !important"}},z={class:"card-body p-0"},G={class:"card-header bg-white py-0",style:{"border-radius":"20px 20px 0px 0px"}},J={class:"row",style:{margin:"0 -18px"}},K=s("h2",{class:"h5 col mb-0 text-center py-3 position-relative bg-brown text-decoration-none fw-bold text-white",style:{"padding-bottom":"10px","border-radius":"20px 0 0 0"}}," 登入 ",-1),Q={class:"h5 col mb-0 text-center py-3 position-relative",style:{"padding-bottom":"10px","border-radius":"0 20px 0 0"}},W=s("h1",{class:"text-brown text-center h3 mt-4"},[n(" 歡迎來到 "),s("div",{class:"d-flex mt-2"},[s("img",{src:I,class:"mx-auto",alt:"",width:"280"})])],-1),X={class:"row gy-4 d-flex"},Z={class:"col-12 fs-5"},ss=s("i",{class:"bi bi-envelope-fill"},null,-1),es={class:"col-12 fs-5"},os=s("i",{class:"bi bi-lock-fill"},null,-1),ts={class:"col-12 mt-9"},as=h('<div class="loginSignupImg card-footer d-flex justify-content-center bg-white border-0 py-4" style="border-radius:30px;"><img src="'+y+'" alt="" class="me-4 d-none d-lg-block"><img src="'+k+'" alt="" class="me-4"><img src="'+V+'" alt="" class="me-4"><img src="'+T+'" alt="" class="me-4"><img src="'+E+'" alt="" class="me-4"><img src="'+B+'" alt="" class="me-4"><img src="'+C+'" alt="" class="me-4 d-none d-lg-block"><img src="'+S+'" alt="" class=""></div>',1);function is(t,e,g,p,o,l){const _=c("RouterLink"),u=c("VField"),b=c("ErrorMessage"),f=c("VForm");return R(),N("main",F,[s("div",U,[s("nav",j,[s("ol",A,[s("li",P,[a(_,{to:"/home",class:"link-orange d-none d-lg-block"},{default:m(()=>[n("首頁")]),_:1})]),$])]),s("div",H,[O,s("div",Y,[s("div",q,[s("div",z,[s("div",G,[s("div",J,[K,s("h2",Q,[a(_,{to:"/LoginSignup/signup",class:"link-dark stretched-link text-decoration-none fw-bold link-brown"},{default:m(()=>[n("註冊")]),_:1})])])]),W,a(f,{ref:"form",class:"mx-5 card-body"},{default:m(({errors:i})=>[s("div",X,[s("div",Z,[s("label",{for:"email",class:d(["form-label text-secondary",{"text-brown":o.user.email&&!i.信箱}])},[ss,n(" 信箱")],2),a(u,{id:"email",name:"信箱",type:"email",class:d(["form-control border-0 border-bottom",{"is-invalid":i.信箱,"is-valid":o.user.email&&!i.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":e[0]||(e[0]=r=>o.user.email=r)},null,8,["class","modelValue"]),a(b,{name:"信箱",class:"invalid-feedback"})]),s("div",es,[s("label",{for:"password",class:d(["form-label text-secondary",{"text-brown":o.user.password&&!i.密碼}])},[os,n(" 密碼")],2),a(u,{id:"password",name:"密碼",type:"password",class:d(["form-control border-0 border-bottom",{"is-invalid":i.密碼,"is-valid":!i.密碼&&o.user.password}]),placeholder:"請輸入您的密碼",rules:"min:4",modelValue:o.user.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.user.password=r)},null,8,["class","modelValue"]),a(b,{name:"密碼",class:"invalid-feedback"})]),s("div",ts,[s("button",{type:"submit",class:"btn btn-brown w-100",onClick:e[2]||(e[2]=w((...r)=>l.login&&l.login(...r),["prevent"]))},"登入")])])]),_:1},512)]),as])])])])])}const ps=L(D,[["render",is]]);export{ps as default};
