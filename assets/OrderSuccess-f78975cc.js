import{m as h,e as b}from"./index-399fd004.js";import{o as f,c as n,a as g}from"./carts-ee6b7a03.js";import{n as _}from"./numberCommaMixin-e0aac39c.js";import{_ as y,a7 as r,a8 as s,aa as o,F as c,a9 as u,ad as e,N as v,ae as w,ab as d,ag as x,r as O,o as a,af as m}from"./_plugin-vue_export-helper-d28549df.js";const C={data(){return{user:{},uid:""}},mixins:[_],methods:{...h(n,["getOrder","toastMessage","goToTop"]),getMyOrder(){f(g,t=>{t?(this.uid=t.uid,this.getOrder(this.uid)):(this.uid=null,this.user={},this.getOrder("1"))})}},mounted(){this.goToTop(),this.toastMessage("恭喜您! 訂單建立完成"),this.getMyOrder()},computed:{...b(n,["myOrder"])}},k={class:"no-scroll-x"},N=s("section",{class:"text-center","data-aos":"fade-up"},[s("div",{class:"py-lg-200 py-96 bg-cover-center",style:{"background-image":"url('https://images.unsplash.com/photo-1681923786169-67be8db99af6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"}}),s("h2",{class:"bg-secondary-light-purple-horizontal text-purple mb-0 fs-lg-1 fs-5 letter-spacing-20 ps-3 fw-bold bg-secondary-light-purple py-2"},"訂單建立完成")],-1),T={class:"container my-5"},$=x('<div class="position-relative w-100 mt-lg-5 my-5"><div class="line-gray border-top position-absolute border-2 z-index-n1 start-50 translate-middle-x" style="top:25%;"></div><div class="line-blue-50 border-top border-primary position-absolute border-2 z-index-n1"></div><div class="line-blue-100 border-top border-primary position-absolute border-2 z-index-n1"></div><ul class="list-unstyled d-flex justify-content-between text-gray"><li class="d-flex flex-column align-items-center"><div class="circle bg-primary d-flex align-items-center justify-content-center mb-2 ms-n2"><i class="bi bi-check-lg fs-lg-4 text-white"></i></div><p class="fs-lg-6 fs-14">確認購物車品項</p></li><li class="d-flex flex-column align-items-center"><div class="circle bg-primary text-white fs-lg-4 d-flex align-items-center justify-content-center mb-2"><i class="check-block bi bi-check-lg fs-lg-4 text-white"></i><span class="number-hide">2</span></div><p class="fs-lg-6 fs-14">填寫訂單資訊</p></li><li class="d-flex flex-column align-items-center"><div class="circle circle-animation fs-lg-4 d-flex align-items-center justify-content-center mb-2"><i class="check-block-3 bi bi-check-lg fs-lg-4"></i><span class="number-hide-3">3</span></div><p class="text-gray-to-primary-3 fs-lg-6 fs-14 fw-bold">成功下訂</p></li></ul></div>',1),M={key:0},S={class:"d-flex align-items-center mb-2"},D={class:"mb-5"},j={class:"row g-5"},q={class:"col-lg-6"},A=s("h4",{class:"text-center fw-bold bg-secondary py-2 mb-4"},"訂購商品資訊",-1),V={class:"list-unstyled"},z={class:"card mb-3"},B={class:"row g-0"},L={class:"col-4"},H=["src","alt"],F={class:"col-8"},G={class:"card-body d-flex flex-column h-100 pb-0"},P={class:"d-flex mb-auto"},R={class:"card-title mb-0 d-flex fs-lg-6 fs-14"},E={class:"ms-auto"},U={class:"card-text text-end"},W={key:0,class:"mb-0 text-danger fw-bold"},Y={key:1,class:"mb-0 text-danger fw-bold"},I=s("hr",null,null,-1),J={class:"table table-borderless"},K=s("th",{class:"fw-normal"},"商品總金額",-1),Q={class:"text-end fw-normal"},X={key:0},Z={class:"text-end"},ss={key:0},ts=s("td",null,"優惠券折扣",-1),es={class:"text-end"},ls={class:"border-top bg-secondary"},os=s("td",{class:"fw-bold text-danger"},"總計金額",-1),rs={class:"text-end fw-bold text-danger"},as={class:"col-lg-6"},ds=s("h4",{class:"text-center fw-bold bg-lightPurple py-2"},"收件人資訊",-1),is={class:"card-body"},ns={class:"table table-borderless table-striped"},cs=s("th",{class:"fw-normal"},[s("i",{class:"bi bi-envelope-fill"}),o(" 信箱")],-1),us={class:"fw-normal"},ms=s("td",null,[s("i",{class:"bi bi-person-fill"}),o(" 收件人姓名")],-1),ps=s("td",null,[s("i",{class:"bi bi-telephone-fill"}),o(" 收件人電話")],-1),hs=s("td",null,[s("i",{class:"bi bi-house-fill"}),o(" 收件人地址")],-1),bs=s("tr",null,[s("td",null,[s("i",{class:"bi bi-wallet-fill"}),o(" 付款方式")]),s("td",null,"貨到付款")],-1),fs=s("td",null,[s("i",{class:"bi bi-chat-left-text-fill"}),o(" 留言")],-1);function gs(t,_s,ys,vs,ws,xs){const i=O("RouterLink");return a(),r("div",k,[N,s("section",T,[$,t.myOrder.cart?(a(),r("div",M,[s("div",S,[s("span",null,[o("會員可到 "),c(i,{to:"/member",class:"link-primary"},{default:u(()=>[o("會員專區")]),_:1}),o(" 查看訂單運送進度")]),c(i,{to:"/products",class:"btn btn-sm btn-primary rounded-0 hvr-sweep-to-right ms-auto"},{default:u(()=>[o("繼續購物")]),_:1})]),s("p",D,"訂單建立時間："+e(new Date(t.myOrder.creatAt).toLocaleString().split(":")[0])+":"+e(new Date(t.myOrder.creatAt).toLocaleString().split(":")[1]),1),s("div",j,[s("div",q,[A,s("ul",V,[(a(!0),r(v,null,w(t.myOrder.cart.items,(l,p)=>(a(),r("li",{key:p+756345},[s("div",z,[s("div",B,[s("div",L,[s("img",{src:l.product.imgUrl,alt:l.product.title,class:"img-fluid object-fit-cover w-100",style:{height:"130px"}},null,8,H)]),s("div",F,[s("div",G,[s("div",P,[s("h5",R,e(l.product.title),1),s("span",E,"x "+e(t.numberComma(l.qty)),1)]),s("div",U,[s("del",{class:m(["me-2 text-muted fs-14",{"d-none":!l.product.isCheaper}])},"NT$ "+e(t.numberComma(l.product.originalPrice)),3),s("span",{class:m({"text-danger":l.product.isCheaper,"fw-bold":l.product.isCheaper})},"NT$ "+e(t.numberComma(l.product.price)),3),s("span",null," / "+e(l.product.num)+e(l.product.unit),1),l.product.category!=="組合包"?(a(),r("p",W,"小計：NT$ "+e(t.numberComma(l.product.price*l.qty))+" / "+e(t.numberComma(l.product.num*l.qty))+e(l.product.unit),1)):d("",!0),l.product.category==="組合包"?(a(),r("p",Y,"小計：NT$ "+e(t.numberComma(l.product.price*l.qty))+" / "+e(t.numberComma(l.qty))+"組",1)):d("",!0)])])])])]),I]))),128))]),s("table",J,[s("thead",null,[s("tr",null,[K,s("th",Q,"NT$ "+e(t.numberComma(t.myOrder.cart.total)),1)])]),s("tbody",null,[s("tr",null,[s("td",null,[o("運費"),t.myOrder.cart.total>=1e3?(a(),r("span",X,"(滿千元免運)")):d("",!0)]),s("td",Z,"NT$ "+e(t.myOrder.cart.deliveryCharge),1)]),t.myOrder.cart.total+t.myOrder.cart.deliveryCharge!==t.myOrder.cart.finalTotal&&t.myOrder.cart.coupon?(a(),r("tr",ss,[ts,s("td",es,"- NT$ "+e(t.numberComma(Math.ceil(t.myOrder.cart.total*(t.myOrder.cart.coupon.discount/100)))),1)])):d("",!0),s("tr",ls,[os,s("td",rs,"NT$ "+e(t.numberComma(t.myOrder.cart.finalTotal)),1)])])])]),s("div",as,[ds,s("div",is,[s("table",ns,[s("thead",null,[s("tr",null,[cs,s("th",us,e(t.myOrder.email),1)])]),s("tbody",null,[s("tr",null,[ms,s("td",null,e(t.myOrder.name),1)]),s("tr",null,[ps,s("td",null,e(t.myOrder.phoneNum),1)]),s("tr",null,[hs,s("td",null,e(t.myOrder.address),1)]),bs,s("tr",null,[fs,s("td",null,e(t.myOrder.message===""?"無":t.myOrder.message),1)])])])])])])])):d("",!0)])])}const Ts=y(C,[["render",gs]]);export{Ts as default};
