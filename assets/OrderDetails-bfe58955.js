import{_ as u,U as l,V as t,W as b,X as m,a0 as e,Z as d,a4 as i,a1 as p,a2 as x,Y as c,r as f,o as r}from"./_plugin-vue_export-helper-cbb9d8af.js";const{VITE_PATH:y}={VITE_PATH:"http://localhost:3000",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{userId:"",token:"",nickName:"",user:{},order:[],barWidth:0}},methods:{getOrder(){const{id:a}=this.$route.params;this.$http.get(`${y}/600/orders/${a}`,{headers:{authorization:`Bearer ${this.token}`}}).then(n=>{console.log("單筆訂單",n.data),this.order=n.data,this.order.deliveryStatus==="待出貨"?this.barWidth=0:this.order.deliveryStatus==="運送中"?this.barWidth=33:this.order.deliveryStatus==="待取貨"?this.barWidth=66:this.order.deliveryStatus==="訂單完成"&&(this.barWidth=100)}).catch(n=>{console.log(n)})}},mounted(){this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.userId=localStorage.getItem("userId"),this.userId=Number(this.userId),this.nickName=localStorage.getItem("nickName"),this.getOrder()}},g={class:"mt-10 container"},v={"aria-label":"breadcrumb"},k={class:"breadcrumb"},W={class:"breadcrumb-item h5"},N=t("li",{class:"breadcrumb-item h5"},"訂單狀況",-1),T={class:"breadcrumb-item active h5","aria-current":"page"},B={class:"ms-4"},C={class:"d-flex flex-column align-items-center mt-5"},E={class:"col-12 col-lg-10 d-flex text-lightBrown",id:"orderProcess"},S=t("div",{class:"d-flex flex-column align-items-center"},[t("i",{class:"fs-1 bi bi-box-seam text-brown"}),t("h5",{class:"fw-bold text-brown",style:{"white-space":"nowrap"}},"待出貨")],-1),I={key:0,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px dashed #C0AB8E",width:"33%"}},D={key:1,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px solid #815B15",width:"33%"}},V={class:"d-flex flex-column align-items-center"},A={key:2,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px dashed #C0AB8E",width:"33%"}},O={key:3,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px solid #815B15",width:"33%"}},L={class:"d-flex flex-column align-items-center"},P={key:4,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px dashed #C0AB8E",width:"33%"}},R={key:5,class:"mt-4 mt-lg-5 mx-2",style:{"border-top":"2px solid #815B15",width:"33%"}},q={class:"d-flex flex-column align-items-center"},z={class:"row gx-5 row-cols-1 row-cols-lg-2 my-5"},M={class:"col"},U=t("h4",{class:"text-center"},"訂購商品資訊",-1),j={key:0,class:"row py-3"},H={class:"col-12"},F={class:"row"},X={class:"card mb-3 border-0"},Y={class:"row g-0"},Z={class:"col-md-4"},G=["src"],J={class:"col-md-8"},K={class:"card-body"},Q={class:"card-title mb-0 d-flex"},$={class:"ms-auto"},tt={class:"card-text d-flex justify-content-end"},st={class:"mt-1"},et=t("br",null,null,-1),ot={class:"mb-0 text-danger text-end"},lt=t("hr",null,null,-1),rt={class:"col-12"},ct={class:"table table-borderless"},it=t("th",{class:"fw-normal"},"商品總金額",-1),dt={key:0,class:"text-end fw-normal"},nt=t("td",null,"運費",-1),at={key:0,class:"text-end"},ht={key:0},_t=t("td",null,"優惠券折扣",-1),ut={class:"text-end"},bt={class:"border-top"},mt=t("td",{class:"fw-bold text-danger"},"總計金額",-1),pt={class:"text-end fw-bold text-danger"},xt={class:"col"},ft=t("h4",{class:"text-center"},"收件人資訊",-1),yt={class:"table table-borderless text-brown"},wt=t("th",{class:"fw-normal"},[t("i",{class:"bi bi-envelope-fill"}),c(" 信箱")],-1),gt={class:"fw-normal"},vt=t("td",null,[t("i",{class:"bi bi-person-fill"}),c(" 收件人姓名")],-1),kt=t("td",null,[t("i",{class:"bi bi-telephone-fill"}),c(" 收件人電話")],-1),Wt=t("td",null,[t("i",{class:"bi bi-house-fill"}),c(" 收件人地址")],-1),Nt=t("tr",null,[t("td",null,[t("i",{class:"bi bi-wallet-fill"}),c(" 付款方式")]),t("td",null,"貨到付款")],-1),Tt=t("td",null,[t("i",{class:"bi bi-chat-left-text-fill"}),c(" 留言")],-1);function Bt(a,n,Ct,Et,s,St){const h=f("RouterLink");return r(),l("div",g,[t("nav",v,[t("ol",k,[t("li",W,[b(h,{to:"/member",href:"#",class:"link-orange"},{default:m(()=>[c("會員專區")]),_:1})]),N,t("li",T,e(s.order.deliveryStatus),1)])]),t("span",null,"訂單建立時間："+e(new Date(s.order.creatAt).toLocaleDateString()),1),t("span",B,"訂單編號："+e(s.order.id),1),t("div",C,[t("section",E,[S,s.barWidth<33?(r(),l("div",I)):s.barWidth>=33?(r(),l("div",D)):d("",!0),t("div",V,[t("i",{class:i(["bi bi-truck fs-1",{"text-brown":s.barWidth>=33}])},null,2),t("h5",{class:i(["fw-bold",{"text-brown":s.barWidth>=33}]),style:{"white-space":"nowrap"}},"運送中",2)]),s.barWidth<66?(r(),l("div",A)):s.barWidth>=66?(r(),l("div",O)):d("",!0),t("div",L,[t("i",{class:i(["bi bi-house-check fs-1",{"text-brown":s.barWidth>=66}])},null,2),t("h5",{class:i(["fw-bold",{"text-brown":s.barWidth>=66}]),style:{"white-space":"nowrap"}},"已抵達",2)]),s.barWidth<100?(r(),l("div",P)):s.barWidth===100?(r(),l("div",R)):d("",!0),t("div",q,[t("i",{class:i(["bi bi-clipboard-check fs-1",{"text-brown":s.barWidth===100}])},null,2),t("h5",{class:i(["fw-bold",{"text-brown":s.barWidth===100}]),style:{"white-space":"nowrap"}},"訂單完成",2)])]),t("div",z,[t("div",M,[U,s.order.cart?(r(),l("div",j,[t("div",H,[t("div",F,[(r(!0),l(p,null,x(s.order.cart.items,(o,_)=>(r(),l("div",{class:"col-12",key:_+756345},[t("div",X,[t("div",Y,[t("div",Z,[t("img",{src:o.product.imgUrl,class:"img-fluid rounded-start",style:{"object-fit":"cover",height:"100px",width:"200px"}},null,8,G)]),t("div",J,[t("div",K,[t("h5",Q,[c(e(o.product.title)+" ",1),t("span",$,"x "+e(o.qty),1)]),t("div",tt,[t("del",{class:i(["me-2 text-muted mt-1",{"d-none":!o.product.isCheaper}]),style:{"font-size":"14px"}},"NT$ "+e(o.product.originalPrice),3),t("span",st,[t("span",{class:i({"text-danger":o.product.isCheaper,"fw-bold":o.product.isCheaper})},"NT$ "+e(o.product.price),3),c(" / "+e(o.product.num)+e(o.product.unit),1)]),et]),t("p",ot,"小計：NT$ "+e(o.product.price*o.qty)+" / "+e(o.product.num*o.qty)+e(o.product.unit),1)])])])]),lt]))),128))])]),t("div",rt,[t("table",ct,[t("thead",null,[t("tr",null,[it,s.order.cart?(r(),l("th",dt,"NT$ "+e(s.order.cart.total),1)):d("",!0)])]),t("tbody",null,[t("tr",null,[nt,s.order.cart?(r(),l("td",at,"NT$ "+e(s.order.cart.deliveryCharge),1)):d("",!0)]),s.order.cart.total+s.order.cart.deliveryCharge!==s.order.cart.finalTotal&&s.order.cart.coupon?(r(),l("tr",ht,[_t,t("td",ut,"- NT$ "+e(Math.ceil(s.order.cart.total*(s.order.cart.coupon.discount/100))),1)])):d("",!0),t("tr",bt,[mt,t("td",pt,"NT$ "+e(s.order.cart.finalTotal),1)])])])])])):d("",!0)]),t("div",xt,[ft,t("table",yt,[t("thead",null,[t("tr",null,[wt,t("th",gt,e(s.order.email),1)])]),t("tbody",null,[t("tr",null,[vt,t("td",null,e(s.order.name),1)]),t("tr",null,[kt,t("td",null,e(s.order.phoneNum),1)]),t("tr",null,[Wt,t("td",null,e(s.order.address),1)]),Nt,t("tr",null,[Tt,t("td",null,e(s.order.message),1)])])])])])])])}const Dt=u(w,[["render",Bt]]);export{Dt as default};
