import{R as x}from"./vue-router-99ebe252.js";import{n as w}from"./runtime-dom.esm-bundler-eb0e3820.js";import{_ as v,a as y,b as k,c as V,d as E,e as B,f as C,g as T}from"./2747131-59a542f2.js";import{_ as I}from"./logo-5ad94f32.js";import{_ as L}from"./4771632-6f97335a.js";import{b6 as N,av as n,aj as S,l as R,m as s,t as i,b1 as m,r as f,s as r,a3 as d}from"./_plugin-vue_export-helper-68081c38.js";const{VITE_PATH:D}={VITE_PATH:"https://vue-final-dbjson-889xxtffg-cookiesss123.vercel.app",BASE_URL:"/finalEasyMakeEasyBuy/",MODE:"production",DEV:!1,PROD:!0},M={data(){return{user:{email:"",password:""},expired:""}},components:{RouterLink:x},methods:{login(){this.$http.post(`${D}/login`,this.user).then(e=>{const t=new Date().getTime().toString();this.expired=Number(t)+36e5,console.log(e.data);const{accessToken:p,user:c}=e.data;document.cookie=`myToken=${p}; path=/; expires=${new Date(this.expired)}`,localStorage.setItem("nickName",c.nickName),localStorage.setItem("userId",c.id),console.log("登入成功"),this.$swal({icon:"success",title:"登入成功",showConfirmButton:!1,timer:1500}),e.data.user.admin?(localStorage.setItem("admin",e.data.user.admin),this.$router.push("/admin/recipes")):e.data.user.admin||this.$router.push("/home")}).catch(e=>{e.response.data==="Incorrect password"?this.$swal({icon:"error",title:"密碼錯誤",showConfirmButton:!1,timer:1500}):e.response.data==="Cannot find user"&&this.$swal({icon:"error",title:"查無此帳號",showConfirmButton:!1,timer:1500})})}},mounted(){}},F={class:"py-2 d-flex align-items-center bg-lightYellow"},j={class:"container my-7"},A={"aria-label":"breadcrumb"},P={class:"breadcrumb"},U={class:"breadcrumb-item fs-5"},$=s("li",{class:"breadcrumb-item active fs-5 d-none d-lg-block","aria-current":"page"},"登入",-1),H={class:"row mt-3 gx-3 rounded py-3"},O=f('<div class="col d-none d-lg-block"><div class="card h-100 border-0 bg-lightYellow mt-9" style="border-radius:30px;"><img src="'+v+'" class="img-fluid card-img-top" alt="" style="border-radius:30px;"><div class="card-img-overlay" style="top:450px;"><h2 class="text-darkBrown text-center mb-4 h1"> 您在找的 <span class="text-orange"> 食譜材料 </span> 都在這裡 </h2></div></div></div>',1),Y={class:"col"},q={class:"login-card card h-100 border",style:{"border-radius":"20px",padding:"0 !important"}},z={class:"card-body p-0"},G={class:"card-header bg-white py-0",style:{"border-radius":"20px 20px 0px 0px"}},J={class:"row",style:{margin:"0 -18px"}},K=s("h2",{class:"h5 col mb-0 text-center py-3 position-relative bg-brown text-decoration-none fw-bold text-white",style:{"padding-bottom":"10px","border-radius":"20px 0 0 0"}}," 登入 ",-1),Q={class:"h5 col mb-0 text-center py-3 position-relative",style:{"padding-bottom":"10px","border-radius":"0 20px 0 0"}},W=s("h1",{class:"text-brown text-center h3 mt-4"},[r(" 歡迎來到 "),s("div",{class:"d-flex mt-2"},[s("img",{src:I,class:"mx-auto",alt:"",width:"280"})])],-1),X={class:"row gy-4 d-flex"},Z={class:"col-12 fs-5"},ss=s("i",{class:"bi bi-envelope-fill"},null,-1),es={class:"col-12 fs-5"},ts=s("i",{class:"bi bi-lock-fill"},null,-1),os={class:"col-12 mt-9"},is=f('<div class="card-footer d-flex justify-content-center bg-white border-0 py-4" style="border-radius:30px;"><img src="'+y+'" alt="" class="me-4 d-none d-lg-block" width="50px"><img src="'+k+'" alt="" class="me-4" width="50px"><img src="'+V+'" alt="" class="me-4" width="50px"><img src="'+E+'" alt="" class="me-4" width="50px"><img src="'+B+'" alt="" class="me-4" width="50px"><img src="'+C+'" alt="" class="me-4" width="50px"><img src="'+T+'" alt="" class="me-4 d-none d-lg-block" width="50px"><img src="'+L+'" alt="" class="" width="50px"></div>',1);function as(e,t,p,c,o,_){const u=n("RouterLink"),h=n("VField"),b=n("ErrorMessage"),g=n("VForm");return S(),R("main",F,[s("div",j,[s("nav",A,[s("ol",P,[s("li",U,[i(u,{to:"/home",class:"link-orange d-none d-lg-block"},{default:m(()=>[r("首頁")]),_:1})]),$])]),s("div",H,[O,s("div",Y,[s("div",q,[s("div",z,[s("div",G,[s("div",J,[K,s("h2",Q,[i(u,{to:"/LoginSignup/signup",class:"link-dark stretched-link text-decoration-none fw-bold link-brown"},{default:m(()=>[r("註冊")]),_:1})])])]),W,i(g,{ref:"form",class:"mx-5 card-body"},{default:m(({errors:a})=>[s("div",X,[s("div",Z,[s("label",{for:"email",class:d(["form-label text-secondary",{"text-brown":o.user.email&&!a.信箱}])},[ss,r(" 信箱")],2),i(h,{id:"email",name:"信箱",type:"email",class:d(["form-control border-0 border-bottom",{"is-invalid":a.信箱,"is-valid":o.user.email&&!a.信箱}]),placeholder:"請輸入您的信箱",rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":t[0]||(t[0]=l=>o.user.email=l)},null,8,["class","modelValue"]),i(b,{name:"信箱",class:"invalid-feedback"})]),s("div",es,[s("label",{for:"password",class:d(["form-label text-secondary",{"text-brown":o.user.password&&!a.密碼}])},[ts,r(" 密碼")],2),i(h,{id:"password",name:"密碼",type:"password",class:d(["form-control border-0 border-bottom",{"is-invalid":a.密碼,"is-valid":!a.密碼&&o.user.password}]),placeholder:"請輸入您的密碼",rules:"min:4",modelValue:o.user.password,"onUpdate:modelValue":t[1]||(t[1]=l=>o.user.password=l)},null,8,["class","modelValue"]),i(b,{name:"密碼",class:"invalid-feedback"})]),s("div",os,[s("button",{type:"submit",class:"btn btn-brown w-100",onClick:t[2]||(t[2]=w((...l)=>_.login&&_.login(...l),["prevent"]))},"登入")])])]),_:1},512)]),is])])])])])}const ps=N(M,[["render",as]]);export{ps as default};
